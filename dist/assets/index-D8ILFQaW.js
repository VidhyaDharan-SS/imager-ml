var SE=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var tre=SE((tn,nn)=>{function CE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _E(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Zw={exports:{}},Gu={},e2={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cl=Symbol.for("react.element"),TE=Symbol.for("react.portal"),kE=Symbol.for("react.fragment"),OE=Symbol.for("react.strict_mode"),EE=Symbol.for("react.profiler"),PE=Symbol.for("react.provider"),AE=Symbol.for("react.context"),ME=Symbol.for("react.forward_ref"),DE=Symbol.for("react.suspense"),IE=Symbol.for("react.memo"),RE=Symbol.for("react.lazy"),O0=Symbol.iterator;function FE(t){return t===null||typeof t!="object"?null:(t=O0&&t[O0]||t["@@iterator"],typeof t=="function"?t:null)}var t2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n2=Object.assign,r2={};function ys(t,e,n){this.props=t,this.context=e,this.refs=r2,this.updater=n||t2}ys.prototype.isReactComponent={};ys.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ys.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i2(){}i2.prototype=ys.prototype;function Ag(t,e,n){this.props=t,this.context=e,this.refs=r2,this.updater=n||t2}var Mg=Ag.prototype=new i2;Mg.constructor=Ag;n2(Mg,ys.prototype);Mg.isPureReactComponent=!0;var E0=Array.isArray,a2=Object.prototype.hasOwnProperty,Dg={current:null},s2={key:!0,ref:!0,__self:!0,__source:!0};function o2(t,e,n){var r,i={},s=null,d=null;if(e!=null)for(r in e.ref!==void 0&&(d=e.ref),e.key!==void 0&&(s=""+e.key),e)a2.call(e,r)&&!s2.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var a=Array(o),f=0;f<o;f++)a[f]=arguments[f+2];i.children=a}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:cl,type:t,key:s,ref:d,props:i,_owner:Dg.current}}function LE(t,e){return{$$typeof:cl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ig(t){return typeof t=="object"&&t!==null&&t.$$typeof===cl}function jE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var P0=/\/+/g;function ah(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jE(""+t.key):e.toString(36)}function dc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var d=!1;if(t===null)d=!0;else switch(s){case"string":case"number":d=!0;break;case"object":switch(t.$$typeof){case cl:case TE:d=!0}}if(d)return d=t,i=i(d),t=r===""?"."+ah(d,0):r,E0(i)?(n="",t!=null&&(n=t.replace(P0,"$&/")+"/"),dc(i,e,n,"",function(f){return f})):i!=null&&(Ig(i)&&(i=LE(i,n+(!i.key||d&&d.key===i.key?"":(""+i.key).replace(P0,"$&/")+"/")+t)),e.push(i)),1;if(d=0,r=r===""?".":r+":",E0(t))for(var o=0;o<t.length;o++){s=t[o];var a=r+ah(s,o);d+=dc(s,e,n,a,i)}else if(a=FE(t),typeof a=="function")for(t=a.call(t),o=0;!(s=t.next()).done;)s=s.value,a=r+ah(s,o++),d+=dc(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return d}function Pl(t,e,n){if(t==null)return t;var r=[],i=0;return dc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $E(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},pc={transition:null},NE={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:pc,ReactCurrentOwner:Dg};function l2(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:Pl,forEach:function(t,e,n){Pl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pl(t,function(){e++}),e},toArray:function(t){return Pl(t,function(e){return e})||[]},only:function(t){if(!Ig(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ke.Component=ys;ke.Fragment=kE;ke.Profiler=EE;ke.PureComponent=Ag;ke.StrictMode=OE;ke.Suspense=DE;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NE;ke.act=l2;ke.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=n2({},t.props),i=t.key,s=t.ref,d=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,d=Dg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(a in e)a2.call(e,a)&&!s2.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&o!==void 0?o[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){o=Array(a);for(var f=0;f<a;f++)o[f]=arguments[f+2];r.children=o}return{$$typeof:cl,type:t.type,key:i,ref:s,props:r,_owner:d}};ke.createContext=function(t){return t={$$typeof:AE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PE,_context:t},t.Consumer=t};ke.createElement=o2;ke.createFactory=function(t){var e=o2.bind(null,t);return e.type=t,e};ke.createRef=function(){return{current:null}};ke.forwardRef=function(t){return{$$typeof:ME,render:t}};ke.isValidElement=Ig;ke.lazy=function(t){return{$$typeof:RE,_payload:{_status:-1,_result:t},_init:$E}};ke.memo=function(t,e){return{$$typeof:IE,type:t,compare:e===void 0?null:e}};ke.startTransition=function(t){var e=pc.transition;pc.transition={};try{t()}finally{pc.transition=e}};ke.unstable_act=l2;ke.useCallback=function(t,e){return $t.current.useCallback(t,e)};ke.useContext=function(t){return $t.current.useContext(t)};ke.useDebugValue=function(){};ke.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};ke.useEffect=function(t,e){return $t.current.useEffect(t,e)};ke.useId=function(){return $t.current.useId()};ke.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};ke.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};ke.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};ke.useMemo=function(t,e){return $t.current.useMemo(t,e)};ke.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};ke.useRef=function(t){return $t.current.useRef(t)};ke.useState=function(t){return $t.current.useState(t)};ke.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};ke.useTransition=function(){return $t.current.useTransition()};ke.version="18.3.1";e2.exports=ke;var $=e2.exports;const N=Pg($),A0=CE({__proto__:null,default:N},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE=$,VE=Symbol.for("react.element"),zE=Symbol.for("react.fragment"),UE=Object.prototype.hasOwnProperty,HE=BE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WE={key:!0,ref:!0,__self:!0,__source:!0};function c2(t,e,n){var r,i={},s=null,d=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(d=e.ref);for(r in e)UE.call(e,r)&&!WE.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VE,type:t,key:s,ref:d,props:i,_owner:HE.current}}Gu.Fragment=zE;Gu.jsx=c2;Gu.jsxs=c2;Zw.exports=Gu;var R=Zw.exports,u2={exports:{}},cn={},f2={exports:{}},h2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,T){var P=V.length;V.push(T);e:for(;0<P;){var j=P-1>>>1,D=V[j];if(0<i(D,T))V[j]=T,V[P]=D,P=j;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var T=V[0],P=V.pop();if(P!==T){V[0]=P;e:for(var j=0,D=V.length,W=D>>>1;j<W;){var M=2*(j+1)-1,O=V[M],U=M+1,G=V[U];if(0>i(O,P))U<D&&0>i(G,O)?(V[j]=G,V[U]=P,j=U):(V[j]=O,V[M]=P,j=M);else if(U<D&&0>i(G,P))V[j]=G,V[U]=P,j=U;else break e}}return T}function i(V,T){var P=V.sortIndex-T.sortIndex;return P!==0?P:V.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var d=Date,o=d.now();t.unstable_now=function(){return d.now()-o}}var a=[],f=[],h=1,l=null,c=3,u=!1,p=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var T=n(f);T!==null;){if(T.callback===null)r(f);else if(T.startTime<=V)r(f),T.sortIndex=T.expirationTime,e(a,T);else break;T=n(f)}}function b(V){if(v=!1,x(V),!p)if(n(a)!==null)p=!0,I(w);else{var T=n(f);T!==null&&E(b,T.startTime-V)}}function w(V,T){p=!1,v&&(v=!1,m(C),C=-1),u=!0;var P=c;try{for(x(T),l=n(a);l!==null&&(!(l.expirationTime>T)||V&&!F());){var j=l.callback;if(typeof j=="function"){l.callback=null,c=l.priorityLevel;var D=j(l.expirationTime<=T);T=t.unstable_now(),typeof D=="function"?l.callback=D:l===n(a)&&r(a),x(T)}else r(a);l=n(a)}if(l!==null)var W=!0;else{var M=n(f);M!==null&&E(b,M.startTime-T),W=!1}return W}finally{l=null,c=P,u=!1}}var S=!1,_=null,C=-1,k=5,A=-1;function F(){return!(t.unstable_now()-A<k)}function B(){if(_!==null){var V=t.unstable_now();A=V;var T=!0;try{T=_(!0,V)}finally{T?H():(S=!1,_=null)}}else S=!1}var H;if(typeof y=="function")H=function(){y(B)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=B,H=function(){z.postMessage(null)}}else H=function(){g(B,0)};function I(V){_=V,S||(S=!0,H())}function E(V,T){C=g(function(){V(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){p||u||(p=!0,I(w))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(V){switch(c){case 1:case 2:case 3:var T=3;break;default:T=c}var P=c;c=T;try{return V()}finally{c=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,T){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var P=c;c=V;try{return T()}finally{c=P}},t.unstable_scheduleCallback=function(V,T,P){var j=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?j+P:j):P=j,V){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=P+D,V={id:h++,callback:T,priorityLevel:V,startTime:P,expirationTime:D,sortIndex:-1},P>j?(V.sortIndex=P,e(f,V),n(a)===null&&V===n(f)&&(v?(m(C),C=-1):v=!0,E(b,P-j))):(V.sortIndex=D,e(a,V),p||u||(p=!0,I(w))),V},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(V){var T=c;return function(){var P=c;c=T;try{return V.apply(this,arguments)}finally{c=P}}}})(h2);f2.exports=h2;var GE=f2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE=$,sn=GE;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d2=new Set,Mo={};function Zi(t,e){as(t,e),as(t+"Capture",e)}function as(t,e){for(Mo[t]=e,t=0;t<e.length;t++)d2.add(e[t])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Od=Object.prototype.hasOwnProperty,YE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M0={},D0={};function KE(t){return Od.call(D0,t)?!0:Od.call(M0,t)?!1:YE.test(t)?D0[t]=!0:(M0[t]=!0,!1)}function qE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QE(t,e,n,r){if(e===null||typeof e>"u"||qE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,i,s,d){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=d}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rg=/[\-:]([a-z])/g;function Fg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rg,Fg);Ct[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rg,Fg);Ct[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rg,Fg);Ct[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lg(t,e,n,r){var i=Ct.hasOwnProperty(e)?Ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QE(e,n,i,r)&&(n=null),r||i===null?KE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _r=XE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Al=Symbol.for("react.element"),Ia=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),jg=Symbol.for("react.strict_mode"),Ed=Symbol.for("react.profiler"),p2=Symbol.for("react.provider"),g2=Symbol.for("react.context"),$g=Symbol.for("react.forward_ref"),Pd=Symbol.for("react.suspense"),Ad=Symbol.for("react.suspense_list"),Ng=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),m2=Symbol.for("react.offscreen"),I0=Symbol.iterator;function Ns(t){return t===null||typeof t!="object"?null:(t=I0&&t[I0]||t["@@iterator"],typeof t=="function"?t:null)}var Qe=Object.assign,sh;function io(t){if(sh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sh=e&&e[1]||""}return`
`+sh+t}var oh=!1;function lh(t,e){if(!t||oh)return"";oh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),d=i.length-1,o=s.length-1;1<=d&&0<=o&&i[d]!==s[o];)o--;for(;1<=d&&0<=o;d--,o--)if(i[d]!==s[o]){if(d!==1||o!==1)do if(d--,o--,0>o||i[d]!==s[o]){var a=`
`+i[d].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=d&&0<=o);break}}}finally{oh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?io(t):""}function JE(t){switch(t.tag){case 5:return io(t.type);case 16:return io("Lazy");case 13:return io("Suspense");case 19:return io("SuspenseList");case 0:case 2:case 15:return t=lh(t.type,!1),t;case 11:return t=lh(t.type.render,!1),t;case 1:return t=lh(t.type,!0),t;default:return""}}function Md(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ra:return"Fragment";case Ia:return"Portal";case Ed:return"Profiler";case jg:return"StrictMode";case Pd:return"Suspense";case Ad:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case g2:return(t.displayName||"Context")+".Consumer";case p2:return(t._context.displayName||"Context")+".Provider";case $g:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ng:return e=t.displayName||null,e!==null?e:Md(t.type)||"Memo";case Rr:e=t._payload,t=t._init;try{return Md(t(e))}catch{}}return null}function ZE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Md(e);case 8:return e===jg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ri(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eP(t){var e=v2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(d){r=""+d,s.call(this,d)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(d){r=""+d},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ml(t){t._valueTracker||(t._valueTracker=eP(t))}function y2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=v2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dd(t,e){var n=e.checked;return Qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function R0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ri(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x2(t,e){e=e.checked,e!=null&&Lg(t,"checked",e,!1)}function Id(t,e){x2(t,e);var n=ri(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rd(t,e.type,ri(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function F0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rd(t,e,n){(e!=="number"||Lc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ao=Array.isArray;function Qa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ri(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function L0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ce(92));if(ao(n)){if(1<n.length)throw Error(ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ri(n)}}function b2(t,e){var n=ri(e.value),r=ri(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function j0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function w2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ld(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?w2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dl,S2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Do(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tP=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(t){tP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),go[e]=go[t]})});function C2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||go.hasOwnProperty(t)&&go[t]?(""+e).trim():e+"px"}function _2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=C2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nP=Qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jd(t,e){if(e){if(nP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function $d(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nd=null;function Bg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bd=null,Ja=null,Za=null;function $0(t){if(t=hl(t)){if(typeof Bd!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=Qu(e),Bd(t.stateNode,t.type,e))}}function T2(t){Ja?Za?Za.push(t):Za=[t]:Ja=t}function k2(){if(Ja){var t=Ja,e=Za;if(Za=Ja=null,$0(t),e)for(t=0;t<e.length;t++)$0(e[t])}}function O2(t,e){return t(e)}function E2(){}var ch=!1;function P2(t,e,n){if(ch)return t(e,n);ch=!0;try{return O2(t,e,n)}finally{ch=!1,(Ja!==null||Za!==null)&&(E2(),k2())}}function Io(t,e){var n=t.stateNode;if(n===null)return null;var r=Qu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,e,typeof n));return n}var Vd=!1;if(vr)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){Vd=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{Vd=!1}function rP(t,e,n,r,i,s,d,o,a){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(h){this.onError(h)}}var mo=!1,jc=null,$c=!1,zd=null,iP={onError:function(t){mo=!0,jc=t}};function aP(t,e,n,r,i,s,d,o,a){mo=!1,jc=null,rP.apply(iP,arguments)}function sP(t,e,n,r,i,s,d,o,a){if(aP.apply(this,arguments),mo){if(mo){var f=jc;mo=!1,jc=null}else throw Error(ce(198));$c||($c=!0,zd=f)}}function ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function A2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function N0(t){if(ea(t)!==t)throw Error(ce(188))}function oP(t){var e=t.alternate;if(!e){if(e=ea(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return N0(i),t;if(s===r)return N0(i),e;s=s.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=s;else{for(var d=!1,o=i.child;o;){if(o===n){d=!0,n=i,r=s;break}if(o===r){d=!0,r=i,n=s;break}o=o.sibling}if(!d){for(o=s.child;o;){if(o===n){d=!0,n=s,r=i;break}if(o===r){d=!0,r=s,n=i;break}o=o.sibling}if(!d)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:e}function M2(t){return t=oP(t),t!==null?D2(t):null}function D2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=D2(t);if(e!==null)return e;t=t.sibling}return null}var I2=sn.unstable_scheduleCallback,B0=sn.unstable_cancelCallback,lP=sn.unstable_shouldYield,cP=sn.unstable_requestPaint,at=sn.unstable_now,uP=sn.unstable_getCurrentPriorityLevel,Vg=sn.unstable_ImmediatePriority,R2=sn.unstable_UserBlockingPriority,Nc=sn.unstable_NormalPriority,fP=sn.unstable_LowPriority,F2=sn.unstable_IdlePriority,Xu=null,Wn=null;function hP(t){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Xu,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:gP,dP=Math.log,pP=Math.LN2;function gP(t){return t>>>=0,t===0?32:31-(dP(t)/pP|0)|0}var Il=64,Rl=4194304;function so(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,d=n&268435455;if(d!==0){var o=d&~i;o!==0?r=so(o):(s&=d,s!==0&&(r=so(s)))}else d=n&~i,d!==0?r=so(d):s!==0&&(r=so(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),i=1<<n,r|=t[n],e&=~i;return r}function mP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var d=31-An(s),o=1<<d,a=i[d];a===-1?(!(o&n)||o&r)&&(i[d]=mP(o,e)):a<=e&&(t.expiredLanes|=o),s&=~o}}function Ud(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function L2(){var t=Il;return Il<<=1,!(Il&4194240)&&(Il=64),t}function uh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ul(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function yP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-An(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function zg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Fe=0;function j2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $2,Ug,N2,B2,V2,Hd=!1,Fl=[],Yr=null,Kr=null,qr=null,Ro=new Map,Fo=new Map,jr=[],xP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function V0(t,e){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Ro.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(e.pointerId)}}function Vs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hl(e),e!==null&&Ug(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bP(t,e,n,r,i){switch(e){case"focusin":return Yr=Vs(Yr,t,e,n,r,i),!0;case"dragenter":return Kr=Vs(Kr,t,e,n,r,i),!0;case"mouseover":return qr=Vs(qr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ro.set(s,Vs(Ro.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fo.set(s,Vs(Fo.get(s)||null,t,e,n,r,i)),!0}return!1}function z2(t){var e=Pi(t.target);if(e!==null){var n=ea(e);if(n!==null){if(e=n.tag,e===13){if(e=A2(n),e!==null){t.blockedOn=e,V2(t.priority,function(){N2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Nd=r,n.target.dispatchEvent(r),Nd=null}else return e=hl(n),e!==null&&Ug(e),t.blockedOn=n,!1;e.shift()}return!0}function z0(t,e,n){gc(t)&&n.delete(e)}function wP(){Hd=!1,Yr!==null&&gc(Yr)&&(Yr=null),Kr!==null&&gc(Kr)&&(Kr=null),qr!==null&&gc(qr)&&(qr=null),Ro.forEach(z0),Fo.forEach(z0)}function zs(t,e){t.blockedOn===e&&(t.blockedOn=null,Hd||(Hd=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,wP)))}function Lo(t){function e(i){return zs(i,t)}if(0<Fl.length){zs(Fl[0],t);for(var n=1;n<Fl.length;n++){var r=Fl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yr!==null&&zs(Yr,t),Kr!==null&&zs(Kr,t),qr!==null&&zs(qr,t),Ro.forEach(e),Fo.forEach(e),n=0;n<jr.length;n++)r=jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<jr.length&&(n=jr[0],n.blockedOn===null);)z2(n),n.blockedOn===null&&jr.shift()}var es=_r.ReactCurrentBatchConfig,Vc=!0;function SP(t,e,n,r){var i=Fe,s=es.transition;es.transition=null;try{Fe=1,Hg(t,e,n,r)}finally{Fe=i,es.transition=s}}function CP(t,e,n,r){var i=Fe,s=es.transition;es.transition=null;try{Fe=4,Hg(t,e,n,r)}finally{Fe=i,es.transition=s}}function Hg(t,e,n,r){if(Vc){var i=Wd(t,e,n,r);if(i===null)bh(t,e,r,zc,n),V0(t,r);else if(bP(i,t,e,n,r))r.stopPropagation();else if(V0(t,r),e&4&&-1<xP.indexOf(t)){for(;i!==null;){var s=hl(i);if(s!==null&&$2(s),s=Wd(t,e,n,r),s===null&&bh(t,e,r,zc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bh(t,e,r,null,n)}}var zc=null;function Wd(t,e,n,r){if(zc=null,t=Bg(r),t=Pi(t),t!==null)if(e=ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=A2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zc=t,null}function U2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uP()){case Vg:return 1;case R2:return 4;case Nc:case fP:return 16;case F2:return 536870912;default:return 16}default:return 16}}var Nr=null,Wg=null,mc=null;function H2(){if(mc)return mc;var t,e=Wg,n=e.length,r,i="value"in Nr?Nr.value:Nr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var d=n-t;for(r=1;r<=d&&e[n-r]===i[s-r];r++);return mc=i.slice(t,1<r?1-r:void 0)}function vc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ll(){return!0}function U0(){return!1}function un(t){function e(n,r,i,s,d){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=d,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ll:U0,this.isPropagationStopped=U0,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ll)},persist:function(){},isPersistent:Ll}),e}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gg=un(xs),fl=Qe({},xs,{view:0,detail:0}),_P=un(fl),fh,hh,Us,Yu=Qe({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Us&&(Us&&t.type==="mousemove"?(fh=t.screenX-Us.screenX,hh=t.screenY-Us.screenY):hh=fh=0,Us=t),fh)},movementY:function(t){return"movementY"in t?t.movementY:hh}}),H0=un(Yu),TP=Qe({},Yu,{dataTransfer:0}),kP=un(TP),OP=Qe({},fl,{relatedTarget:0}),dh=un(OP),EP=Qe({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),PP=un(EP),AP=Qe({},xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MP=un(AP),DP=Qe({},xs,{data:0}),W0=un(DP),IP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FP[t])?!!e[t]:!1}function Xg(){return LP}var jP=Qe({},fl,{key:function(t){if(t.key){var e=IP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xg,charCode:function(t){return t.type==="keypress"?vc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$P=un(jP),NP=Qe({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G0=un(NP),BP=Qe({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xg}),VP=un(BP),zP=Qe({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),UP=un(zP),HP=Qe({},Yu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WP=un(HP),GP=[9,13,27,32],Yg=vr&&"CompositionEvent"in window,vo=null;vr&&"documentMode"in document&&(vo=document.documentMode);var XP=vr&&"TextEvent"in window&&!vo,W2=vr&&(!Yg||vo&&8<vo&&11>=vo),X0=" ",Y0=!1;function G2(t,e){switch(t){case"keyup":return GP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fa=!1;function YP(t,e){switch(t){case"compositionend":return X2(e);case"keypress":return e.which!==32?null:(Y0=!0,X0);case"textInput":return t=e.data,t===X0&&Y0?null:t;default:return null}}function KP(t,e){if(Fa)return t==="compositionend"||!Yg&&G2(t,e)?(t=H2(),mc=Wg=Nr=null,Fa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W2&&e.locale!=="ko"?null:e.data;default:return null}}var qP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qP[t.type]:e==="textarea"}function Y2(t,e,n,r){T2(r),e=Uc(e,"onChange"),0<e.length&&(n=new Gg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yo=null,jo=null;function QP(t){aS(t,0)}function Ku(t){var e=$a(t);if(y2(e))return t}function JP(t,e){if(t==="change")return e}var K2=!1;if(vr){var ph;if(vr){var gh="oninput"in document;if(!gh){var q0=document.createElement("div");q0.setAttribute("oninput","return;"),gh=typeof q0.oninput=="function"}ph=gh}else ph=!1;K2=ph&&(!document.documentMode||9<document.documentMode)}function Q0(){yo&&(yo.detachEvent("onpropertychange",q2),jo=yo=null)}function q2(t){if(t.propertyName==="value"&&Ku(jo)){var e=[];Y2(e,jo,t,Bg(t)),P2(QP,e)}}function ZP(t,e,n){t==="focusin"?(Q0(),yo=e,jo=n,yo.attachEvent("onpropertychange",q2)):t==="focusout"&&Q0()}function eA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(jo)}function tA(t,e){if(t==="click")return Ku(e)}function nA(t,e){if(t==="input"||t==="change")return Ku(e)}function rA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:rA;function $o(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Od.call(e,i)||!Dn(t[i],e[i]))return!1}return!0}function J0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z0(t,e){var n=J0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J0(n)}}function Q2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Q2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function J2(){for(var t=window,e=Lc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lc(t.document)}return e}function Kg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iA(t){var e=J2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Q2(n.ownerDocument.documentElement,n)){if(r!==null&&Kg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Z0(n,s);var d=Z0(n,r);i&&d&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==d.node||t.focusOffset!==d.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(d.node,d.offset)):(e.setEnd(d.node,d.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aA=vr&&"documentMode"in document&&11>=document.documentMode,La=null,Gd=null,xo=null,Xd=!1;function ey(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xd||La==null||La!==Lc(r)||(r=La,"selectionStart"in r&&Kg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xo&&$o(xo,r)||(xo=r,r=Uc(Gd,"onSelect"),0<r.length&&(e=new Gg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=La)))}function jl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ja={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},mh={},Z2={};vr&&(Z2=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function qu(t){if(mh[t])return mh[t];if(!ja[t])return t;var e=ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Z2)return mh[t]=e[n];return t}var eS=qu("animationend"),tS=qu("animationiteration"),nS=qu("animationstart"),rS=qu("transitionend"),iS=new Map,ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(t,e){iS.set(t,e),Zi(e,[t])}for(var vh=0;vh<ty.length;vh++){var yh=ty[vh],sA=yh.toLowerCase(),oA=yh[0].toUpperCase()+yh.slice(1);ui(sA,"on"+oA)}ui(eS,"onAnimationEnd");ui(tS,"onAnimationIteration");ui(nS,"onAnimationStart");ui("dblclick","onDoubleClick");ui("focusin","onFocus");ui("focusout","onBlur");ui(rS,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lA=new Set("cancel close invalid load scroll toggle".split(" ").concat(oo));function ny(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sP(r,e,void 0,t),t.currentTarget=null}function aS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var d=r.length-1;0<=d;d--){var o=r[d],a=o.instance,f=o.currentTarget;if(o=o.listener,a!==s&&i.isPropagationStopped())break e;ny(i,o,f),s=a}else for(d=0;d<r.length;d++){if(o=r[d],a=o.instance,f=o.currentTarget,o=o.listener,a!==s&&i.isPropagationStopped())break e;ny(i,o,f),s=a}}}if($c)throw t=zd,$c=!1,zd=null,t}function Ve(t,e){var n=e[Jd];n===void 0&&(n=e[Jd]=new Set);var r=t+"__bubble";n.has(r)||(sS(e,t,2,!1),n.add(r))}function xh(t,e,n){var r=0;e&&(r|=4),sS(n,t,r,e)}var $l="_reactListening"+Math.random().toString(36).slice(2);function No(t){if(!t[$l]){t[$l]=!0,d2.forEach(function(n){n!=="selectionchange"&&(lA.has(n)||xh(n,!1,t),xh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$l]||(e[$l]=!0,xh("selectionchange",!1,e))}}function sS(t,e,n,r){switch(U2(e)){case 1:var i=SP;break;case 4:i=CP;break;default:i=Hg}n=i.bind(null,e,n,t),i=void 0,!Vd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var d=r.tag;if(d===3||d===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(d===4)for(d=r.return;d!==null;){var a=d.tag;if((a===3||a===4)&&(a=d.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;d=d.return}for(;o!==null;){if(d=Pi(o),d===null)return;if(a=d.tag,a===5||a===6){r=s=d;continue e}o=o.parentNode}}r=r.return}P2(function(){var f=s,h=Bg(n),l=[];e:{var c=iS.get(t);if(c!==void 0){var u=Gg,p=t;switch(t){case"keypress":if(vc(n)===0)break e;case"keydown":case"keyup":u=$P;break;case"focusin":p="focus",u=dh;break;case"focusout":p="blur",u=dh;break;case"beforeblur":case"afterblur":u=dh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=H0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=kP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=VP;break;case eS:case tS:case nS:u=PP;break;case rS:u=UP;break;case"scroll":u=_P;break;case"wheel":u=WP;break;case"copy":case"cut":case"paste":u=MP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=G0}var v=(e&4)!==0,g=!v&&t==="scroll",m=v?c!==null?c+"Capture":null:c;v=[];for(var y=f,x;y!==null;){x=y;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,m!==null&&(b=Io(y,m),b!=null&&v.push(Bo(y,b,x)))),g)break;y=y.return}0<v.length&&(c=new u(c,p,null,n,h),l.push({event:c,listeners:v}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",u=t==="mouseout"||t==="pointerout",c&&n!==Nd&&(p=n.relatedTarget||n.fromElement)&&(Pi(p)||p[yr]))break e;if((u||c)&&(c=h.window===h?h:(c=h.ownerDocument)?c.defaultView||c.parentWindow:window,u?(p=n.relatedTarget||n.toElement,u=f,p=p?Pi(p):null,p!==null&&(g=ea(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(u=null,p=f),u!==p)){if(v=H0,b="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=G0,b="onPointerLeave",m="onPointerEnter",y="pointer"),g=u==null?c:$a(u),x=p==null?c:$a(p),c=new v(b,y+"leave",u,n,h),c.target=g,c.relatedTarget=x,b=null,Pi(h)===f&&(v=new v(m,y+"enter",p,n,h),v.target=x,v.relatedTarget=g,b=v),g=b,u&&p)t:{for(v=u,m=p,y=0,x=v;x;x=ha(x))y++;for(x=0,b=m;b;b=ha(b))x++;for(;0<y-x;)v=ha(v),y--;for(;0<x-y;)m=ha(m),x--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=ha(v),m=ha(m)}v=null}else v=null;u!==null&&ry(l,c,u,v,!1),p!==null&&g!==null&&ry(l,g,p,v,!0)}}e:{if(c=f?$a(f):window,u=c.nodeName&&c.nodeName.toLowerCase(),u==="select"||u==="input"&&c.type==="file")var w=JP;else if(K0(c))if(K2)w=nA;else{w=eA;var S=ZP}else(u=c.nodeName)&&u.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(w=tA);if(w&&(w=w(t,f))){Y2(l,w,n,h);break e}S&&S(t,c,f),t==="focusout"&&(S=c._wrapperState)&&S.controlled&&c.type==="number"&&Rd(c,"number",c.value)}switch(S=f?$a(f):window,t){case"focusin":(K0(S)||S.contentEditable==="true")&&(La=S,Gd=f,xo=null);break;case"focusout":xo=Gd=La=null;break;case"mousedown":Xd=!0;break;case"contextmenu":case"mouseup":case"dragend":Xd=!1,ey(l,n,h);break;case"selectionchange":if(aA)break;case"keydown":case"keyup":ey(l,n,h)}var _;if(Yg)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Fa?G2(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(W2&&n.locale!=="ko"&&(Fa||C!=="onCompositionStart"?C==="onCompositionEnd"&&Fa&&(_=H2()):(Nr=h,Wg="value"in Nr?Nr.value:Nr.textContent,Fa=!0)),S=Uc(f,C),0<S.length&&(C=new W0(C,t,null,n,h),l.push({event:C,listeners:S}),_?C.data=_:(_=X2(n),_!==null&&(C.data=_)))),(_=XP?YP(t,n):KP(t,n))&&(f=Uc(f,"onBeforeInput"),0<f.length&&(h=new W0("onBeforeInput","beforeinput",null,n,h),l.push({event:h,listeners:f}),h.data=_))}aS(l,e)})}function Bo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Io(t,n),s!=null&&r.unshift(Bo(t,s,i)),s=Io(t,e),s!=null&&r.push(Bo(t,s,i))),t=t.return}return r}function ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ry(t,e,n,r,i){for(var s=e._reactName,d=[];n!==null&&n!==r;){var o=n,a=o.alternate,f=o.stateNode;if(a!==null&&a===r)break;o.tag===5&&f!==null&&(o=f,i?(a=Io(n,s),a!=null&&d.unshift(Bo(n,a,o))):i||(a=Io(n,s),a!=null&&d.push(Bo(n,a,o)))),n=n.return}d.length!==0&&t.push({event:e,listeners:d})}var cA=/\r\n?/g,uA=/\u0000|\uFFFD/g;function iy(t){return(typeof t=="string"?t:""+t).replace(cA,`
`).replace(uA,"")}function Nl(t,e,n){if(e=iy(e),iy(t)!==e&&n)throw Error(ce(425))}function Hc(){}var Yd=null,Kd=null;function qd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qd=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,hA=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(t){return ay.resolve(null).then(t).catch(dA)}:Qd;function dA(t){setTimeout(function(){throw t})}function wh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Lo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Lo(e)}function Qr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Un="__reactFiber$"+bs,Vo="__reactProps$"+bs,yr="__reactContainer$"+bs,Jd="__reactEvents$"+bs,pA="__reactListeners$"+bs,gA="__reactHandles$"+bs;function Pi(t){var e=t[Un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yr]||n[Un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sy(t);t!==null;){if(n=t[Un])return n;t=sy(t)}return e}t=n,n=t.parentNode}return null}function hl(t){return t=t[Un]||t[yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $a(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Qu(t){return t[Vo]||null}var Zd=[],Na=-1;function fi(t){return{current:t}}function He(t){0>Na||(t.current=Zd[Na],Zd[Na]=null,Na--)}function Be(t,e){Na++,Zd[Na]=t.current,t.current=e}var ii={},Dt=fi(ii),Ut=fi(!1),Vi=ii;function ss(t,e){var n=t.type.contextTypes;if(!n)return ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ht(t){return t=t.childContextTypes,t!=null}function Wc(){He(Ut),He(Dt)}function oy(t,e,n){if(Dt.current!==ii)throw Error(ce(168));Be(Dt,e),Be(Ut,n)}function oS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ce(108,ZE(t)||"Unknown",i));return Qe({},n,r)}function Gc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ii,Vi=Dt.current,Be(Dt,t),Be(Ut,Ut.current),!0}function ly(t,e,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=oS(t,e,Vi),r.__reactInternalMemoizedMergedChildContext=t,He(Ut),He(Dt),Be(Dt,t)):He(Ut),Be(Ut,n)}var sr=null,Ju=!1,Sh=!1;function lS(t){sr===null?sr=[t]:sr.push(t)}function mA(t){Ju=!0,lS(t)}function hi(){if(!Sh&&sr!==null){Sh=!0;var t=0,e=Fe;try{var n=sr;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sr=null,Ju=!1}catch(i){throw sr!==null&&(sr=sr.slice(t+1)),I2(Vg,hi),i}finally{Fe=e,Sh=!1}}return null}var Ba=[],Va=0,Xc=null,Yc=0,pn=[],gn=0,zi=null,lr=1,cr="";function wi(t,e){Ba[Va++]=Yc,Ba[Va++]=Xc,Xc=t,Yc=e}function cS(t,e,n){pn[gn++]=lr,pn[gn++]=cr,pn[gn++]=zi,zi=t;var r=lr;t=cr;var i=32-An(r)-1;r&=~(1<<i),n+=1;var s=32-An(e)+i;if(30<s){var d=i-i%5;s=(r&(1<<d)-1).toString(32),r>>=d,i-=d,lr=1<<32-An(e)+i|n<<i|r,cr=s+t}else lr=1<<s|n<<i|r,cr=t}function qg(t){t.return!==null&&(wi(t,1),cS(t,1,0))}function Qg(t){for(;t===Xc;)Xc=Ba[--Va],Ba[Va]=null,Yc=Ba[--Va],Ba[Va]=null;for(;t===zi;)zi=pn[--gn],pn[gn]=null,cr=pn[--gn],pn[gn]=null,lr=pn[--gn],pn[gn]=null}var rn=null,Zt=null,Ge=!1,On=null;function uS(t,e){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,Zt=Qr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zi!==null?{id:lr,overflow:cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,Zt=null,!0):!1;default:return!1}}function ep(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tp(t){if(Ge){var e=Zt;if(e){var n=e;if(!cy(t,e)){if(ep(t))throw Error(ce(418));e=Qr(n.nextSibling);var r=rn;e&&cy(t,e)?uS(r,n):(t.flags=t.flags&-4097|2,Ge=!1,rn=t)}}else{if(ep(t))throw Error(ce(418));t.flags=t.flags&-4097|2,Ge=!1,rn=t}}}function uy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function Bl(t){if(t!==rn)return!1;if(!Ge)return uy(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qd(t.type,t.memoizedProps)),e&&(e=Zt)){if(ep(t))throw fS(),Error(ce(418));for(;e;)uS(t,e),e=Qr(e.nextSibling)}if(uy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zt=Qr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=rn?Qr(t.stateNode.nextSibling):null;return!0}function fS(){for(var t=Zt;t;)t=Qr(t.nextSibling)}function os(){Zt=rn=null,Ge=!1}function Jg(t){On===null?On=[t]:On.push(t)}var vA=_r.ReactCurrentBatchConfig;function Hs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(d){var o=i.refs;d===null?delete o[s]:o[s]=d},e._stringRef=s,e)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function Vl(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fy(t){var e=t._init;return e(t._payload)}function hS(t){function e(m,y){if(t){var x=m.deletions;x===null?(m.deletions=[y],m.flags|=16):x.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=ti(m,y),m.index=0,m.sibling=null,m}function s(m,y,x){return m.index=x,t?(x=m.alternate,x!==null?(x=x.index,x<y?(m.flags|=2,y):x):(m.flags|=2,y)):(m.flags|=1048576,y)}function d(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,y,x,b){return y===null||y.tag!==6?(y=Ph(x,m.mode,b),y.return=m,y):(y=i(y,x),y.return=m,y)}function a(m,y,x,b){var w=x.type;return w===Ra?h(m,y,x.props.children,b,x.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rr&&fy(w)===y.type)?(b=i(y,x.props),b.ref=Hs(m,y,x),b.return=m,b):(b=_c(x.type,x.key,x.props,null,m.mode,b),b.ref=Hs(m,y,x),b.return=m,b)}function f(m,y,x,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Ah(x,m.mode,b),y.return=m,y):(y=i(y,x.children||[]),y.return=m,y)}function h(m,y,x,b,w){return y===null||y.tag!==7?(y=$i(x,m.mode,b,w),y.return=m,y):(y=i(y,x),y.return=m,y)}function l(m,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ph(""+y,m.mode,x),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Al:return x=_c(y.type,y.key,y.props,null,m.mode,x),x.ref=Hs(m,null,y),x.return=m,x;case Ia:return y=Ah(y,m.mode,x),y.return=m,y;case Rr:var b=y._init;return l(m,b(y._payload),x)}if(ao(y)||Ns(y))return y=$i(y,m.mode,x,null),y.return=m,y;Vl(m,y)}return null}function c(m,y,x,b){var w=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:o(m,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Al:return x.key===w?a(m,y,x,b):null;case Ia:return x.key===w?f(m,y,x,b):null;case Rr:return w=x._init,c(m,y,w(x._payload),b)}if(ao(x)||Ns(x))return w!==null?null:h(m,y,x,b,null);Vl(m,x)}return null}function u(m,y,x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(x)||null,o(y,m,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Al:return m=m.get(b.key===null?x:b.key)||null,a(y,m,b,w);case Ia:return m=m.get(b.key===null?x:b.key)||null,f(y,m,b,w);case Rr:var S=b._init;return u(m,y,x,S(b._payload),w)}if(ao(b)||Ns(b))return m=m.get(x)||null,h(y,m,b,w,null);Vl(y,b)}return null}function p(m,y,x,b){for(var w=null,S=null,_=y,C=y=0,k=null;_!==null&&C<x.length;C++){_.index>C?(k=_,_=null):k=_.sibling;var A=c(m,_,x[C],b);if(A===null){_===null&&(_=k);break}t&&_&&A.alternate===null&&e(m,_),y=s(A,y,C),S===null?w=A:S.sibling=A,S=A,_=k}if(C===x.length)return n(m,_),Ge&&wi(m,C),w;if(_===null){for(;C<x.length;C++)_=l(m,x[C],b),_!==null&&(y=s(_,y,C),S===null?w=_:S.sibling=_,S=_);return Ge&&wi(m,C),w}for(_=r(m,_);C<x.length;C++)k=u(_,m,C,x[C],b),k!==null&&(t&&k.alternate!==null&&_.delete(k.key===null?C:k.key),y=s(k,y,C),S===null?w=k:S.sibling=k,S=k);return t&&_.forEach(function(F){return e(m,F)}),Ge&&wi(m,C),w}function v(m,y,x,b){var w=Ns(x);if(typeof w!="function")throw Error(ce(150));if(x=w.call(x),x==null)throw Error(ce(151));for(var S=w=null,_=y,C=y=0,k=null,A=x.next();_!==null&&!A.done;C++,A=x.next()){_.index>C?(k=_,_=null):k=_.sibling;var F=c(m,_,A.value,b);if(F===null){_===null&&(_=k);break}t&&_&&F.alternate===null&&e(m,_),y=s(F,y,C),S===null?w=F:S.sibling=F,S=F,_=k}if(A.done)return n(m,_),Ge&&wi(m,C),w;if(_===null){for(;!A.done;C++,A=x.next())A=l(m,A.value,b),A!==null&&(y=s(A,y,C),S===null?w=A:S.sibling=A,S=A);return Ge&&wi(m,C),w}for(_=r(m,_);!A.done;C++,A=x.next())A=u(_,m,C,A.value,b),A!==null&&(t&&A.alternate!==null&&_.delete(A.key===null?C:A.key),y=s(A,y,C),S===null?w=A:S.sibling=A,S=A);return t&&_.forEach(function(B){return e(m,B)}),Ge&&wi(m,C),w}function g(m,y,x,b){if(typeof x=="object"&&x!==null&&x.type===Ra&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Al:e:{for(var w=x.key,S=y;S!==null;){if(S.key===w){if(w=x.type,w===Ra){if(S.tag===7){n(m,S.sibling),y=i(S,x.props.children),y.return=m,m=y;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Rr&&fy(w)===S.type){n(m,S.sibling),y=i(S,x.props),y.ref=Hs(m,S,x),y.return=m,m=y;break e}n(m,S);break}else e(m,S);S=S.sibling}x.type===Ra?(y=$i(x.props.children,m.mode,b,x.key),y.return=m,m=y):(b=_c(x.type,x.key,x.props,null,m.mode,b),b.ref=Hs(m,y,x),b.return=m,m=b)}return d(m);case Ia:e:{for(S=x.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(m,y.sibling),y=i(y,x.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=Ah(x,m.mode,b),y.return=m,m=y}return d(m);case Rr:return S=x._init,g(m,y,S(x._payload),b)}if(ao(x))return p(m,y,x,b);if(Ns(x))return v(m,y,x,b);Vl(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,x),y.return=m,m=y):(n(m,y),y=Ph(x,m.mode,b),y.return=m,m=y),d(m)):n(m,y)}return g}var ls=hS(!0),dS=hS(!1),Kc=fi(null),qc=null,za=null,Zg=null;function em(){Zg=za=qc=null}function tm(t){var e=Kc.current;He(Kc),t._currentValue=e}function np(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ts(t,e){qc=t,Zg=za=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(zt=!0),t.firstContext=null)}function xn(t){var e=t._currentValue;if(Zg!==t)if(t={context:t,memoizedValue:e,next:null},za===null){if(qc===null)throw Error(ce(308));za=t,qc.dependencies={lanes:0,firstContext:t}}else za=za.next=t;return e}var Ai=null;function nm(t){Ai===null?Ai=[t]:Ai.push(t)}function pS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,nm(e)):(n.next=i.next,i.next=n),e.interleaved=n,xr(t,r)}function xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function rm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xr(t,n)}return i=r.interleaved,i===null?(e.next=e,nm(r)):(e.next=i.next,i.next=e),r.interleaved=e,xr(t,n)}function yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zg(t,n)}}function hy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var d={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=d:s=s.next=d,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qc(t,e,n,r){var i=t.updateQueue;Fr=!1;var s=i.firstBaseUpdate,d=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var a=o,f=a.next;a.next=null,d===null?s=f:d.next=f,d=a;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==d&&(o===null?h.firstBaseUpdate=f:o.next=f,h.lastBaseUpdate=a))}if(s!==null){var l=i.baseState;d=0,h=f=a=null,o=s;do{var c=o.lane,u=o.eventTime;if((r&c)===c){h!==null&&(h=h.next={eventTime:u,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,v=o;switch(c=e,u=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){l=p.call(u,l,c);break e}l=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,c=typeof p=="function"?p.call(u,l,c):p,c==null)break e;l=Qe({},l,c);break e;case 2:Fr=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,c=i.effects,c===null?i.effects=[o]:c.push(o))}else u={eventTime:u,lane:c,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(f=h=u,a=l):h=h.next=u,d|=c;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;c=o,o=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(h===null&&(a=l),i.baseState=a,i.firstBaseUpdate=f,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do d|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Hi|=d,t.lanes=d,t.memoizedState=l}}function dy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ce(191,i));i.call(r)}}}var dl={},Gn=fi(dl),zo=fi(dl),Uo=fi(dl);function Mi(t){if(t===dl)throw Error(ce(174));return t}function im(t,e){switch(Be(Uo,e),Be(zo,t),Be(Gn,dl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ld(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ld(e,t)}He(Gn),Be(Gn,e)}function cs(){He(Gn),He(zo),He(Uo)}function mS(t){Mi(Uo.current);var e=Mi(Gn.current),n=Ld(e,t.type);e!==n&&(Be(zo,t),Be(Gn,n))}function am(t){zo.current===t&&(He(Gn),He(zo))}var Ye=fi(0);function Jc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ch=[];function sm(){for(var t=0;t<Ch.length;t++)Ch[t]._workInProgressVersionPrimary=null;Ch.length=0}var xc=_r.ReactCurrentDispatcher,_h=_r.ReactCurrentBatchConfig,Ui=0,qe=null,ft=null,pt=null,Zc=!1,bo=!1,Ho=0,yA=0;function _t(){throw Error(ce(321))}function om(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function lm(t,e,n,r,i,s){if(Ui=s,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xc.current=t===null||t.memoizedState===null?SA:CA,t=n(r,i),bo){s=0;do{if(bo=!1,Ho=0,25<=s)throw Error(ce(301));s+=1,pt=ft=null,e.updateQueue=null,xc.current=_A,t=n(r,i)}while(bo)}if(xc.current=eu,e=ft!==null&&ft.next!==null,Ui=0,pt=ft=qe=null,Zc=!1,e)throw Error(ce(300));return t}function cm(){var t=Ho!==0;return Ho=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?qe.memoizedState=pt=t:pt=pt.next=t,pt}function bn(){if(ft===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=pt===null?qe.memoizedState:pt.next;if(e!==null)pt=e,ft=t;else{if(t===null)throw Error(ce(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},pt===null?qe.memoizedState=pt=t:pt=pt.next=t}return pt}function Wo(t,e){return typeof e=="function"?e(t):e}function Th(t){var e=bn(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var d=i.next;i.next=s.next,s.next=d}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=d=null,a=null,f=s;do{var h=f.lane;if((Ui&h)===h)a!==null&&(a=a.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var l={lane:h,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};a===null?(o=a=l,d=r):a=a.next=l,qe.lanes|=h,Hi|=h}f=f.next}while(f!==null&&f!==s);a===null?d=r:a.next=o,Dn(r,e.memoizedState)||(zt=!0),e.memoizedState=r,e.baseState=d,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,qe.lanes|=s,Hi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kh(t){var e=bn(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var d=i=i.next;do s=t(s,d.action),d=d.next;while(d!==i);Dn(s,e.memoizedState)||(zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function vS(){}function yS(t,e){var n=qe,r=bn(),i=e(),s=!Dn(r.memoizedState,i);if(s&&(r.memoizedState=i,zt=!0),r=r.queue,um(wS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,Go(9,bS.bind(null,n,r,i,e),void 0,null),gt===null)throw Error(ce(349));Ui&30||xS(n,e,i)}return i}function xS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bS(t,e,n,r){e.value=n,e.getSnapshot=r,SS(e)&&CS(t)}function wS(t,e,n){return n(function(){SS(e)&&CS(t)})}function SS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function CS(t){var e=xr(t,1);e!==null&&Mn(e,t,1,-1)}function py(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:t},e.queue=t,t=t.dispatch=wA.bind(null,qe,t),[e.memoizedState,t]}function Go(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _S(){return bn().memoizedState}function bc(t,e,n,r){var i=Nn();qe.flags|=t,i.memoizedState=Go(1|e,n,void 0,r===void 0?null:r)}function Zu(t,e,n,r){var i=bn();r=r===void 0?null:r;var s=void 0;if(ft!==null){var d=ft.memoizedState;if(s=d.destroy,r!==null&&om(r,d.deps)){i.memoizedState=Go(e,n,s,r);return}}qe.flags|=t,i.memoizedState=Go(1|e,n,s,r)}function gy(t,e){return bc(8390656,8,t,e)}function um(t,e){return Zu(2048,8,t,e)}function TS(t,e){return Zu(4,2,t,e)}function kS(t,e){return Zu(4,4,t,e)}function OS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ES(t,e,n){return n=n!=null?n.concat([t]):null,Zu(4,4,OS.bind(null,e,t),n)}function fm(){}function PS(t,e){var n=bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&om(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AS(t,e){var n=bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&om(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function MS(t,e,n){return Ui&21?(Dn(n,e)||(n=L2(),qe.lanes|=n,Hi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,zt=!0),t.memoizedState=n)}function xA(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=_h.transition;_h.transition={};try{t(!1),e()}finally{Fe=n,_h.transition=r}}function DS(){return bn().memoizedState}function bA(t,e,n){var r=ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IS(t))RS(e,n);else if(n=pS(t,e,n,r),n!==null){var i=jt();Mn(n,t,r,i),FS(n,e,r)}}function wA(t,e,n){var r=ei(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IS(t))RS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var d=e.lastRenderedState,o=s(d,n);if(i.hasEagerState=!0,i.eagerState=o,Dn(o,d)){var a=e.interleaved;a===null?(i.next=i,nm(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=pS(t,e,i,r),n!==null&&(i=jt(),Mn(n,t,r,i),FS(n,e,r))}}function IS(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function RS(t,e){bo=Zc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function FS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zg(t,n)}}var eu={readContext:xn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},SA={readContext:xn,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:xn,useEffect:gy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bc(4194308,4,OS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bc(4194308,4,t,e)},useInsertionEffect:function(t,e){return bc(4,2,t,e)},useMemo:function(t,e){var n=Nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bA.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:py,useDebugValue:fm,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=py(!1),e=t[0];return t=xA.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,i=Nn();if(Ge){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=e(),gt===null)throw Error(ce(349));Ui&30||xS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,gy(wS.bind(null,r,s,t),[t]),r.flags|=2048,Go(9,bS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Nn(),e=gt.identifierPrefix;if(Ge){var n=cr,r=lr;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ho++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CA={readContext:xn,useCallback:PS,useContext:xn,useEffect:um,useImperativeHandle:ES,useInsertionEffect:TS,useLayoutEffect:kS,useMemo:AS,useReducer:Th,useRef:_S,useState:function(){return Th(Wo)},useDebugValue:fm,useDeferredValue:function(t){var e=bn();return MS(e,ft.memoizedState,t)},useTransition:function(){var t=Th(Wo)[0],e=bn().memoizedState;return[t,e]},useMutableSource:vS,useSyncExternalStore:yS,useId:DS,unstable_isNewReconciler:!1},_A={readContext:xn,useCallback:PS,useContext:xn,useEffect:um,useImperativeHandle:ES,useInsertionEffect:TS,useLayoutEffect:kS,useMemo:AS,useReducer:kh,useRef:_S,useState:function(){return kh(Wo)},useDebugValue:fm,useDeferredValue:function(t){var e=bn();return ft===null?e.memoizedState=t:MS(e,ft.memoizedState,t)},useTransition:function(){var t=kh(Wo)[0],e=bn().memoizedState;return[t,e]},useMutableSource:vS,useSyncExternalStore:yS,useId:DS,unstable_isNewReconciler:!1};function Tn(t,e){if(t&&t.defaultProps){e=Qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ef={isMounted:function(t){return(t=t._reactInternals)?ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=jt(),i=ei(t),s=fr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Jr(t,s,i),e!==null&&(Mn(e,t,i,r),yc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=jt(),i=ei(t),s=fr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Jr(t,s,i),e!==null&&(Mn(e,t,i,r),yc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),r=ei(t),i=fr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Jr(t,i,r),e!==null&&(Mn(e,t,r,n),yc(e,t,r))}};function my(t,e,n,r,i,s,d){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,d):e.prototype&&e.prototype.isPureReactComponent?!$o(n,r)||!$o(i,s):!0}function LS(t,e,n){var r=!1,i=ii,s=e.contextType;return typeof s=="object"&&s!==null?s=xn(s):(i=Ht(e)?Vi:Dt.current,r=e.contextTypes,s=(r=r!=null)?ss(t,i):ii),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ef,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function vy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ef.enqueueReplaceState(e,e.state,null)}function ip(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},rm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=xn(s):(s=Ht(e)?Vi:Dt.current,i.context=ss(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ef.enqueueReplaceState(i,i.state,null),Qc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function us(t,e){try{var n="",r=e;do n+=JE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Oh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ap(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TA=typeof WeakMap=="function"?WeakMap:Map;function jS(t,e,n){n=fr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nu||(nu=!0,gp=r),ap(t,e)},n}function $S(t,e,n){n=fr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ap(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ap(t,e),typeof r!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var d=e.stack;this.componentDidCatch(e.value,{componentStack:d!==null?d:""})}),n}function yy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=NA.bind(null,t,e,n),e.then(t,t))}function xy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function by(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=fr(-1,1),e.tag=2,Jr(n,e,1))),n.lanes|=1),t)}var kA=_r.ReactCurrentOwner,zt=!1;function Ft(t,e,n,r){e.child=t===null?dS(e,null,n,r):ls(e,t.child,n,r)}function wy(t,e,n,r,i){n=n.render;var s=e.ref;return ts(e,i),r=lm(t,e,n,r,s,i),n=cm(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,br(t,e,i)):(Ge&&n&&qg(e),e.flags|=1,Ft(t,e,r,i),e.child)}function Sy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!xm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,NS(t,e,s,r,i)):(t=_c(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var d=s.memoizedProps;if(n=n.compare,n=n!==null?n:$o,n(d,r)&&t.ref===e.ref)return br(t,e,i)}return e.flags|=1,t=ti(s,r),t.ref=e.ref,t.return=e,e.child=t}function NS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if($o(s,r)&&t.ref===e.ref)if(zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(zt=!0);else return e.lanes=t.lanes,br(t,e,i)}return sp(t,e,n,r,i)}function BS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Ha,Qt),Qt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Ha,Qt),Qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Be(Ha,Qt),Qt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Be(Ha,Qt),Qt|=r;return Ft(t,e,i,n),e.child}function VS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sp(t,e,n,r,i){var s=Ht(n)?Vi:Dt.current;return s=ss(e,s),ts(e,i),n=lm(t,e,n,r,s,i),r=cm(),t!==null&&!zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,br(t,e,i)):(Ge&&r&&qg(e),e.flags|=1,Ft(t,e,n,i),e.child)}function Cy(t,e,n,r,i){if(Ht(n)){var s=!0;Gc(e)}else s=!1;if(ts(e,i),e.stateNode===null)wc(t,e),LS(e,n,r),ip(e,n,r,i),r=!0;else if(t===null){var d=e.stateNode,o=e.memoizedProps;d.props=o;var a=d.context,f=n.contextType;typeof f=="object"&&f!==null?f=xn(f):(f=Ht(n)?Vi:Dt.current,f=ss(e,f));var h=n.getDerivedStateFromProps,l=typeof h=="function"||typeof d.getSnapshotBeforeUpdate=="function";l||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(o!==r||a!==f)&&vy(e,d,r,f),Fr=!1;var c=e.memoizedState;d.state=c,Qc(e,r,d,i),a=e.memoizedState,o!==r||c!==a||Ut.current||Fr?(typeof h=="function"&&(rp(e,n,h,r),a=e.memoizedState),(o=Fr||my(e,n,o,r,c,a,f))?(l||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(e.flags|=4194308)):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),d.props=r,d.state=a,d.context=f,r=o):(typeof d.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{d=e.stateNode,gS(t,e),o=e.memoizedProps,f=e.type===e.elementType?o:Tn(e.type,o),d.props=f,l=e.pendingProps,c=d.context,a=n.contextType,typeof a=="object"&&a!==null?a=xn(a):(a=Ht(n)?Vi:Dt.current,a=ss(e,a));var u=n.getDerivedStateFromProps;(h=typeof u=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(o!==l||c!==a)&&vy(e,d,r,a),Fr=!1,c=e.memoizedState,d.state=c,Qc(e,r,d,i);var p=e.memoizedState;o!==l||c!==p||Ut.current||Fr?(typeof u=="function"&&(rp(e,n,u,r),p=e.memoizedState),(f=Fr||my(e,n,f,r,c,p,a)||!1)?(h||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,p,a),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,p,a)),typeof d.componentDidUpdate=="function"&&(e.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof d.componentDidUpdate!="function"||o===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),d.props=r,d.state=p,d.context=a,r=f):(typeof d.componentDidUpdate!="function"||o===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),r=!1)}return op(t,e,n,r,s,i)}function op(t,e,n,r,i,s){VS(t,e);var d=(e.flags&128)!==0;if(!r&&!d)return i&&ly(e,n,!1),br(t,e,s);r=e.stateNode,kA.current=e;var o=d&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&d?(e.child=ls(e,t.child,null,s),e.child=ls(e,null,o,s)):Ft(t,e,o,s),e.memoizedState=r.state,i&&ly(e,n,!0),e.child}function zS(t){var e=t.stateNode;e.pendingContext?oy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oy(t,e.context,!1),im(t,e.containerInfo)}function _y(t,e,n,r,i){return os(),Jg(i),e.flags|=256,Ft(t,e,n,r),e.child}var lp={dehydrated:null,treeContext:null,retryLane:0};function cp(t){return{baseLanes:t,cachePool:null,transitions:null}}function US(t,e,n){var r=e.pendingProps,i=Ye.current,s=!1,d=(e.flags&128)!==0,o;if((o=d)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Be(Ye,i&1),t===null)return tp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(d=r.children,t=r.fallback,s?(r=e.mode,s=e.child,d={mode:"hidden",children:d},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=d):s=rf(d,r,0,null),t=$i(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cp(n),e.memoizedState=lp,t):hm(e,d));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return OA(t,e,d,r,o,i,n);if(s){s=r.fallback,d=e.mode,i=t.child,o=i.sibling;var a={mode:"hidden",children:r.children};return!(d&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=ti(i,a),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ti(o,s):(s=$i(s,d,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,d=t.child.memoizedState,d=d===null?cp(n):{baseLanes:d.baseLanes|n,cachePool:null,transitions:d.transitions},s.memoizedState=d,s.childLanes=t.childLanes&~n,e.memoizedState=lp,r}return s=t.child,t=s.sibling,r=ti(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hm(t,e){return e=rf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zl(t,e,n,r){return r!==null&&Jg(r),ls(e,t.child,null,n),t=hm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OA(t,e,n,r,i,s,d){if(n)return e.flags&256?(e.flags&=-257,r=Oh(Error(ce(422))),zl(t,e,d,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=rf({mode:"visible",children:r.children},i,0,null),s=$i(s,i,d,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ls(e,t.child,null,d),e.child.memoizedState=cp(d),e.memoizedState=lp,s);if(!(e.mode&1))return zl(t,e,d,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(ce(419)),r=Oh(s,r,void 0),zl(t,e,d,r)}if(o=(d&t.childLanes)!==0,zt||o){if(r=gt,r!==null){switch(d&-d){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|d)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xr(t,i),Mn(r,t,i,-1))}return ym(),r=Oh(Error(ce(421))),zl(t,e,d,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zt=Qr(i.nextSibling),rn=e,Ge=!0,On=null,t!==null&&(pn[gn++]=lr,pn[gn++]=cr,pn[gn++]=zi,lr=t.id,cr=t.overflow,zi=e),e=hm(e,r.children),e.flags|=4096,e)}function Ty(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),np(t.return,e,n)}function Eh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function HS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ft(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,n,e);else if(t.tag===19)Ty(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Jc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Eh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Eh(e,!0,n,null,s);break;case"together":Eh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,n=ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EA(t,e,n){switch(e.tag){case 3:zS(e),os();break;case 5:mS(e);break;case 1:Ht(e.type)&&Gc(e);break;case 4:im(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Be(Kc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?US(t,e,n):(Be(Ye,Ye.current&1),t=br(t,e,n),t!==null?t.sibling:null);Be(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return HS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Be(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,BS(t,e,n)}return br(t,e,n)}var WS,up,GS,XS;WS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};up=function(){};GS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Mi(Gn.current);var s=null;switch(n){case"input":i=Dd(t,i),r=Dd(t,r),s=[];break;case"select":i=Qe({},i,{value:void 0}),r=Qe({},r,{value:void 0}),s=[];break;case"textarea":i=Fd(t,i),r=Fd(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hc)}jd(n,r);var d;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var o=i[f];for(d in o)o.hasOwnProperty(d)&&(n||(n={}),n[d]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Mo.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var a=r[f];if(o=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&a!==o&&(a!=null||o!=null))if(f==="style")if(o){for(d in o)!o.hasOwnProperty(d)||a&&a.hasOwnProperty(d)||(n||(n={}),n[d]="");for(d in a)a.hasOwnProperty(d)&&o[d]!==a[d]&&(n||(n={}),n[d]=a[d])}else n||(s||(s=[]),s.push(f,n)),n=a;else f==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,o=o?o.__html:void 0,a!=null&&o!==a&&(s=s||[]).push(f,a)):f==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(f,""+a):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Mo.hasOwnProperty(f)?(a!=null&&f==="onScroll"&&Ve("scroll",t),s||o===a||(s=[])):(s=s||[]).push(f,a))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};XS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ws(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PA(t,e,n){var r=e.pendingProps;switch(Qg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Ht(e.type)&&Wc(),Tt(e),null;case 3:return r=e.stateNode,cs(),He(Ut),He(Dt),sm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(yp(On),On=null))),up(t,e),Tt(e),null;case 5:am(e);var i=Mi(Uo.current);if(n=e.type,t!==null&&e.stateNode!=null)GS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return Tt(e),null}if(t=Mi(Gn.current),Bl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Un]=e,r[Vo]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<oo.length;i++)Ve(oo[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":R0(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":L0(r,s),Ve("invalid",r)}jd(n,s),i=null;for(var d in s)if(s.hasOwnProperty(d)){var o=s[d];d==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Nl(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Nl(r.textContent,o,t),i=["children",""+o]):Mo.hasOwnProperty(d)&&o!=null&&d==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Ml(r),F0(r,s,!0);break;case"textarea":Ml(r),j0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{d=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=w2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=d.createElement(n,{is:r.is}):(t=d.createElement(n),n==="select"&&(d=t,r.multiple?d.multiple=!0:r.size&&(d.size=r.size))):t=d.createElementNS(t,n),t[Un]=e,t[Vo]=r,WS(t,e,!1,!1),e.stateNode=t;e:{switch(d=$d(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<oo.length;i++)Ve(oo[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":R0(t,r),i=Dd(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Qe({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":L0(t,r),i=Fd(t,r),Ve("invalid",t);break;default:i=r}jd(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="style"?_2(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&S2(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Do(t,a):typeof a=="number"&&Do(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mo.hasOwnProperty(s)?a!=null&&s==="onScroll"&&Ve("scroll",t):a!=null&&Lg(t,s,a,d))}switch(n){case"input":Ml(t),F0(t,r,!1);break;case"textarea":Ml(t),j0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ri(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Qa(t,!!r.multiple,s,!1):r.defaultValue!=null&&Qa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)XS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=Mi(Uo.current),Mi(Gn.current),Bl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Un]=e,(s=r.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:Nl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Un]=e,e.stateNode=r}return Tt(e),null;case 13:if(He(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&Zt!==null&&e.mode&1&&!(e.flags&128))fS(),os(),e.flags|=98560,s=!1;else if(s=Bl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ce(317));s[Un]=e}else os(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),s=!1}else On!==null&&(yp(On),On=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?ht===0&&(ht=3):ym())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return cs(),up(t,e),t===null&&No(e.stateNode.containerInfo),Tt(e),null;case 10:return tm(e.type._context),Tt(e),null;case 17:return Ht(e.type)&&Wc(),Tt(e),null;case 19:if(He(Ye),s=e.memoizedState,s===null)return Tt(e),null;if(r=(e.flags&128)!==0,d=s.rendering,d===null)if(r)Ws(s,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(d=Jc(t),d!==null){for(e.flags|=128,Ws(s,!1),r=d.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,d=s.alternate,d===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,t=d.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(Ye,Ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>fs&&(e.flags|=128,r=!0,Ws(s,!1),e.lanes=4194304)}else{if(!r)if(t=Jc(d),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ws(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!Ge)return Tt(e),null}else 2*at()-s.renderingStartTime>fs&&n!==1073741824&&(e.flags|=128,r=!0,Ws(s,!1),e.lanes=4194304);s.isBackwards?(d.sibling=e.child,e.child=d):(n=s.last,n!==null?n.sibling=d:e.child=d,s.last=d)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=Ye.current,Be(Ye,r?n&1|2:n&1),e):(Tt(e),null);case 22:case 23:return vm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Qt&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function AA(t,e){switch(Qg(e),e.tag){case 1:return Ht(e.type)&&Wc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cs(),He(Ut),He(Dt),sm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return am(e),null;case 13:if(He(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));os()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(Ye),null;case 4:return cs(),null;case 10:return tm(e.type._context),null;case 22:case 23:return vm(),null;case 24:return null;default:return null}}var Ul=!1,Pt=!1,MA=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ua(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function fp(t,e,n){try{n()}catch(r){et(t,e,r)}}var ky=!1;function DA(t,e){if(Yd=Vc,t=J2(),Kg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var d=0,o=-1,a=-1,f=0,h=0,l=t,c=null;t:for(;;){for(var u;l!==n||i!==0&&l.nodeType!==3||(o=d+i),l!==s||r!==0&&l.nodeType!==3||(a=d+r),l.nodeType===3&&(d+=l.nodeValue.length),(u=l.firstChild)!==null;)c=l,l=u;for(;;){if(l===t)break t;if(c===n&&++f===i&&(o=d),c===s&&++h===r&&(a=d),(u=l.nextSibling)!==null)break;l=c,c=l.parentNode}l=u}n=o===-1||a===-1?null:{start:o,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kd={focusedElem:t,selectionRange:n},Vc=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,g=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Tn(e.type,v),g);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(b){et(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return p=ky,ky=!1,p}function wo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&fp(e,n,s)}i=i.next}while(i!==r)}}function tf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function YS(t){var e=t.alternate;e!==null&&(t.alternate=null,YS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[Vo],delete e[Jd],delete e[pA],delete e[gA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KS(t){return t.tag===5||t.tag===3||t.tag===4}function Oy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hc));else if(r!==4&&(t=t.child,t!==null))for(dp(t,e,n),t=t.sibling;t!==null;)dp(t,e,n),t=t.sibling}function pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pp(t,e,n),t=t.sibling;t!==null;)pp(t,e,n),t=t.sibling}var yt=null,kn=!1;function Mr(t,e,n){for(n=n.child;n!==null;)qS(t,e,n),n=n.sibling}function qS(t,e,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Xu,n)}catch{}switch(n.tag){case 5:Pt||Ua(n,e);case 6:var r=yt,i=kn;yt=null,Mr(t,e,n),yt=r,kn=i,yt!==null&&(kn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(kn?(t=yt,n=n.stateNode,t.nodeType===8?wh(t.parentNode,n):t.nodeType===1&&wh(t,n),Lo(t)):wh(yt,n.stateNode));break;case 4:r=yt,i=kn,yt=n.stateNode.containerInfo,kn=!0,Mr(t,e,n),yt=r,kn=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,d=s.destroy;s=s.tag,d!==void 0&&(s&2||s&4)&&fp(n,e,d),i=i.next}while(i!==r)}Mr(t,e,n);break;case 1:if(!Pt&&(Ua(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){et(n,e,o)}Mr(t,e,n);break;case 21:Mr(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,Mr(t,e,n),Pt=r):Mr(t,e,n);break;default:Mr(t,e,n)}}function Ey(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MA),e.forEach(function(r){var i=VA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,d=e,o=d;e:for(;o!==null;){switch(o.tag){case 5:yt=o.stateNode,kn=!1;break e;case 3:yt=o.stateNode.containerInfo,kn=!0;break e;case 4:yt=o.stateNode.containerInfo,kn=!0;break e}o=o.return}if(yt===null)throw Error(ce(160));qS(s,d,i),yt=null,kn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(f){et(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QS(e,t),e=e.sibling}function QS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),jn(t),r&4){try{wo(3,t,t.return),tf(3,t)}catch(v){et(t,t.return,v)}try{wo(5,t,t.return)}catch(v){et(t,t.return,v)}}break;case 1:Sn(e,t),jn(t),r&512&&n!==null&&Ua(n,n.return);break;case 5:if(Sn(e,t),jn(t),r&512&&n!==null&&Ua(n,n.return),t.flags&32){var i=t.stateNode;try{Do(i,"")}catch(v){et(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,d=n!==null?n.memoizedProps:s,o=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&x2(i,s),$d(o,d);var f=$d(o,s);for(d=0;d<a.length;d+=2){var h=a[d],l=a[d+1];h==="style"?_2(i,l):h==="dangerouslySetInnerHTML"?S2(i,l):h==="children"?Do(i,l):Lg(i,h,l,f)}switch(o){case"input":Id(i,s);break;case"textarea":b2(i,s);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var u=s.value;u!=null?Qa(i,!!s.multiple,u,!1):c!==!!s.multiple&&(s.defaultValue!=null?Qa(i,!!s.multiple,s.defaultValue,!0):Qa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vo]=s}catch(v){et(t,t.return,v)}}break;case 6:if(Sn(e,t),jn(t),r&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){et(t,t.return,v)}}break;case 3:if(Sn(e,t),jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lo(e.containerInfo)}catch(v){et(t,t.return,v)}break;case 4:Sn(e,t),jn(t);break;case 13:Sn(e,t),jn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gm=at())),r&4&&Ey(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(f=Pt)||h,Sn(e,t),Pt=f):Sn(e,t),jn(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!h&&t.mode&1)for(he=t,h=t.child;h!==null;){for(l=he=h;he!==null;){switch(c=he,u=c.child,c.tag){case 0:case 11:case 14:case 15:wo(4,c,c.return);break;case 1:Ua(c,c.return);var p=c.stateNode;if(typeof p.componentWillUnmount=="function"){r=c,n=c.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){et(r,n,v)}}break;case 5:Ua(c,c.return);break;case 22:if(c.memoizedState!==null){Ay(l);continue}}u!==null?(u.return=c,he=u):Ay(l)}h=h.sibling}e:for(h=null,l=t;;){if(l.tag===5){if(h===null){h=l;try{i=l.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=l.stateNode,a=l.memoizedProps.style,d=a!=null&&a.hasOwnProperty("display")?a.display:null,o.style.display=C2("display",d))}catch(v){et(t,t.return,v)}}}else if(l.tag===6){if(h===null)try{l.stateNode.nodeValue=f?"":l.memoizedProps}catch(v){et(t,t.return,v)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===t)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}}break;case 19:Sn(e,t),jn(t),r&4&&Ey(t);break;case 21:break;default:Sn(e,t),jn(t)}}function jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(KS(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Do(i,""),r.flags&=-33);var s=Oy(t);pp(t,s,i);break;case 3:case 4:var d=r.stateNode.containerInfo,o=Oy(t);dp(t,o,d);break;default:throw Error(ce(161))}}catch(a){et(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IA(t,e,n){he=t,JS(t)}function JS(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&r){var d=i.memoizedState!==null||Ul;if(!d){var o=i.alternate,a=o!==null&&o.memoizedState!==null||Pt;o=Ul;var f=Pt;if(Ul=d,(Pt=a)&&!f)for(he=i;he!==null;)d=he,a=d.child,d.tag===22&&d.memoizedState!==null?My(i):a!==null?(a.return=d,he=a):My(i);for(;s!==null;)he=s,JS(s),s=s.sibling;he=i,Ul=o,Pt=f}Py(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):Py(t)}}function Py(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||tf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&dy(e,s,r);break;case 3:var d=e.updateQueue;if(d!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dy(e,d,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var h=f.memoizedState;if(h!==null){var l=h.dehydrated;l!==null&&Lo(l)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Pt||e.flags&512&&hp(e)}catch(c){et(e,e.return,c)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function Ay(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function My(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{tf(4,e)}catch(a){et(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){et(e,i,a)}}var s=e.return;try{hp(e)}catch(a){et(e,s,a)}break;case 5:var d=e.return;try{hp(e)}catch(a){et(e,d,a)}}}catch(a){et(e,e.return,a)}if(e===t){he=null;break}var o=e.sibling;if(o!==null){o.return=e.return,he=o;break}he=e.return}}var RA=Math.ceil,tu=_r.ReactCurrentDispatcher,dm=_r.ReactCurrentOwner,yn=_r.ReactCurrentBatchConfig,Pe=0,gt=null,ct=null,St=0,Qt=0,Ha=fi(0),ht=0,Xo=null,Hi=0,nf=0,pm=0,So=null,Bt=null,gm=0,fs=1/0,ar=null,nu=!1,gp=null,Zr=null,Hl=!1,Br=null,ru=0,Co=0,mp=null,Sc=-1,Cc=0;function jt(){return Pe&6?at():Sc!==-1?Sc:Sc=at()}function ei(t){return t.mode&1?Pe&2&&St!==0?St&-St:vA.transition!==null?(Cc===0&&(Cc=L2()),Cc):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:U2(t.type)),t):1}function Mn(t,e,n,r){if(50<Co)throw Co=0,mp=null,Error(ce(185));ul(t,n,r),(!(Pe&2)||t!==gt)&&(t===gt&&(!(Pe&2)&&(nf|=n),ht===4&&$r(t,St)),Wt(t,r),n===1&&Pe===0&&!(e.mode&1)&&(fs=at()+500,Ju&&hi()))}function Wt(t,e){var n=t.callbackNode;vP(t,e);var r=Bc(t,t===gt?St:0);if(r===0)n!==null&&B0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&B0(n),e===1)t.tag===0?mA(Dy.bind(null,t)):lS(Dy.bind(null,t)),hA(function(){!(Pe&6)&&hi()}),n=null;else{switch(j2(r)){case 1:n=Vg;break;case 4:n=R2;break;case 16:n=Nc;break;case 536870912:n=F2;break;default:n=Nc}n=sC(n,ZS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZS(t,e){if(Sc=-1,Cc=0,Pe&6)throw Error(ce(327));var n=t.callbackNode;if(ns()&&t.callbackNode!==n)return null;var r=Bc(t,t===gt?St:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=iu(t,r);else{e=r;var i=Pe;Pe|=2;var s=tC();(gt!==t||St!==e)&&(ar=null,fs=at()+500,ji(t,e));do try{jA();break}catch(o){eC(t,o)}while(!0);em(),tu.current=s,Pe=i,ct!==null?e=0:(gt=null,St=0,e=ht)}if(e!==0){if(e===2&&(i=Ud(t),i!==0&&(r=i,e=vp(t,i))),e===1)throw n=Xo,ji(t,0),$r(t,r),Wt(t,at()),n;if(e===6)$r(t,r);else{if(i=t.current.alternate,!(r&30)&&!FA(i)&&(e=iu(t,r),e===2&&(s=Ud(t),s!==0&&(r=s,e=vp(t,s))),e===1))throw n=Xo,ji(t,0),$r(t,r),Wt(t,at()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ce(345));case 2:Si(t,Bt,ar);break;case 3:if($r(t,r),(r&130023424)===r&&(e=gm+500-at(),10<e)){if(Bc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){jt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qd(Si.bind(null,t,Bt,ar),e);break}Si(t,Bt,ar);break;case 4:if($r(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var d=31-An(r);s=1<<d,d=e[d],d>i&&(i=d),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RA(r/1960))-r,10<r){t.timeoutHandle=Qd(Si.bind(null,t,Bt,ar),r);break}Si(t,Bt,ar);break;case 5:Si(t,Bt,ar);break;default:throw Error(ce(329))}}}return Wt(t,at()),t.callbackNode===n?ZS.bind(null,t):null}function vp(t,e){var n=So;return t.current.memoizedState.isDehydrated&&(ji(t,e).flags|=256),t=iu(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&yp(e)),t}function yp(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function FA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Dn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $r(t,e){for(e&=~pm,e&=~nf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function Dy(t){if(Pe&6)throw Error(ce(327));ns();var e=Bc(t,0);if(!(e&1))return Wt(t,at()),null;var n=iu(t,e);if(t.tag!==0&&n===2){var r=Ud(t);r!==0&&(e=r,n=vp(t,r))}if(n===1)throw n=Xo,ji(t,0),$r(t,e),Wt(t,at()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Si(t,Bt,ar),Wt(t,at()),null}function mm(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(fs=at()+500,Ju&&hi())}}function Wi(t){Br!==null&&Br.tag===0&&!(Pe&6)&&ns();var e=Pe;Pe|=1;var n=yn.transition,r=Fe;try{if(yn.transition=null,Fe=1,t)return t()}finally{Fe=r,yn.transition=n,Pe=e,!(Pe&6)&&hi()}}function vm(){Qt=Ha.current,He(Ha)}function ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fA(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Qg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wc();break;case 3:cs(),He(Ut),He(Dt),sm();break;case 5:am(r);break;case 4:cs();break;case 13:He(Ye);break;case 19:He(Ye);break;case 10:tm(r.type._context);break;case 22:case 23:vm()}n=n.return}if(gt=t,ct=t=ti(t.current,null),St=Qt=e,ht=0,Xo=null,pm=nf=Hi=0,Bt=So=null,Ai!==null){for(e=0;e<Ai.length;e++)if(n=Ai[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var d=s.next;s.next=i,r.next=d}n.pending=r}Ai=null}return t}function eC(t,e){do{var n=ct;try{if(em(),xc.current=eu,Zc){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zc=!1}if(Ui=0,pt=ft=qe=null,bo=!1,Ho=0,dm.current=null,n===null||n.return===null){ht=1,Xo=e,ct=null;break}e:{var s=t,d=n.return,o=n,a=e;if(e=St,o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var f=a,h=o,l=h.tag;if(!(h.mode&1)&&(l===0||l===11||l===15)){var c=h.alternate;c?(h.updateQueue=c.updateQueue,h.memoizedState=c.memoizedState,h.lanes=c.lanes):(h.updateQueue=null,h.memoizedState=null)}var u=xy(d);if(u!==null){u.flags&=-257,by(u,d,o,s,e),u.mode&1&&yy(s,f,e),e=u,a=f;var p=e.updateQueue;if(p===null){var v=new Set;v.add(a),e.updateQueue=v}else p.add(a);break e}else{if(!(e&1)){yy(s,f,e),ym();break e}a=Error(ce(426))}}else if(Ge&&o.mode&1){var g=xy(d);if(g!==null){!(g.flags&65536)&&(g.flags|=256),by(g,d,o,s,e),Jg(us(a,o));break e}}s=a=us(a,o),ht!==4&&(ht=2),So===null?So=[s]:So.push(s),s=d;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=jS(s,a,e);hy(s,m);break e;case 1:o=a;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Zr===null||!Zr.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=$S(s,o,e);hy(s,b);break e}}s=s.return}while(s!==null)}rC(n)}catch(w){e=w,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function tC(){var t=tu.current;return tu.current=eu,t===null?eu:t}function ym(){(ht===0||ht===3||ht===2)&&(ht=4),gt===null||!(Hi&268435455)&&!(nf&268435455)||$r(gt,St)}function iu(t,e){var n=Pe;Pe|=2;var r=tC();(gt!==t||St!==e)&&(ar=null,ji(t,e));do try{LA();break}catch(i){eC(t,i)}while(!0);if(em(),Pe=n,tu.current=r,ct!==null)throw Error(ce(261));return gt=null,St=0,ht}function LA(){for(;ct!==null;)nC(ct)}function jA(){for(;ct!==null&&!lP();)nC(ct)}function nC(t){var e=aC(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,e===null?rC(t):ct=e,dm.current=null}function rC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AA(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,ct=null;return}}else if(n=PA(n,e,Qt),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);ht===0&&(ht=5)}function Si(t,e,n){var r=Fe,i=yn.transition;try{yn.transition=null,Fe=1,$A(t,e,n,r)}finally{yn.transition=i,Fe=r}return null}function $A(t,e,n,r){do ns();while(Br!==null);if(Pe&6)throw Error(ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(yP(t,s),t===gt&&(ct=gt=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hl||(Hl=!0,sC(Nc,function(){return ns(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yn.transition,yn.transition=null;var d=Fe;Fe=1;var o=Pe;Pe|=4,dm.current=null,DA(t,n),QS(n,t),iA(Kd),Vc=!!Yd,Kd=Yd=null,t.current=n,IA(n),cP(),Pe=o,Fe=d,yn.transition=s}else t.current=n;if(Hl&&(Hl=!1,Br=t,ru=i),s=t.pendingLanes,s===0&&(Zr=null),hP(n.stateNode),Wt(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nu)throw nu=!1,t=gp,gp=null,t;return ru&1&&t.tag!==0&&ns(),s=t.pendingLanes,s&1?t===mp?Co++:(Co=0,mp=t):Co=0,hi(),null}function ns(){if(Br!==null){var t=j2(ru),e=yn.transition,n=Fe;try{if(yn.transition=null,Fe=16>t?16:t,Br===null)var r=!1;else{if(t=Br,Br=null,ru=0,Pe&6)throw Error(ce(331));var i=Pe;for(Pe|=4,he=t.current;he!==null;){var s=he,d=s.child;if(he.flags&16){var o=s.deletions;if(o!==null){for(var a=0;a<o.length;a++){var f=o[a];for(he=f;he!==null;){var h=he;switch(h.tag){case 0:case 11:case 15:wo(8,h,s)}var l=h.child;if(l!==null)l.return=h,he=l;else for(;he!==null;){h=he;var c=h.sibling,u=h.return;if(YS(h),h===f){he=null;break}if(c!==null){c.return=u,he=c;break}he=u}}}var p=s.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}he=s}}if(s.subtreeFlags&2064&&d!==null)d.return=s,he=d;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wo(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,he=m;break e}he=s.return}}var y=t.current;for(he=y;he!==null;){d=he;var x=d.child;if(d.subtreeFlags&2064&&x!==null)x.return=d,he=x;else e:for(d=y;he!==null;){if(o=he,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:tf(9,o)}}catch(w){et(o,o.return,w)}if(o===d){he=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,he=b;break e}he=o.return}}if(Pe=i,hi(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Xu,t)}catch{}r=!0}return r}finally{Fe=n,yn.transition=e}}return!1}function Iy(t,e,n){e=us(n,e),e=jS(t,e,1),t=Jr(t,e,1),e=jt(),t!==null&&(ul(t,1,e),Wt(t,e))}function et(t,e,n){if(t.tag===3)Iy(t,t,n);else for(;e!==null;){if(e.tag===3){Iy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zr===null||!Zr.has(r))){t=us(n,t),t=$S(e,t,1),e=Jr(e,t,1),t=jt(),e!==null&&(ul(e,1,t),Wt(e,t));break}}e=e.return}}function NA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&n,gt===t&&(St&n)===n&&(ht===4||ht===3&&(St&130023424)===St&&500>at()-gm?ji(t,0):pm|=n),Wt(t,e)}function iC(t,e){e===0&&(t.mode&1?(e=Rl,Rl<<=1,!(Rl&130023424)&&(Rl=4194304)):e=1);var n=jt();t=xr(t,e),t!==null&&(ul(t,e,n),Wt(t,n))}function BA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iC(t,n)}function VA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(e),iC(t,n)}var aC;aC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return zt=!1,EA(t,e,n);zt=!!(t.flags&131072)}else zt=!1,Ge&&e.flags&1048576&&cS(e,Yc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wc(t,e),t=e.pendingProps;var i=ss(e,Dt.current);ts(e,n),i=lm(null,e,r,t,i,n);var s=cm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(r)?(s=!0,Gc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rm(e),i.updater=ef,e.stateNode=i,i._reactInternals=e,ip(e,r,t,n),e=op(null,e,r,!0,s,n)):(e.tag=0,Ge&&s&&qg(e),Ft(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UA(r),t=Tn(r,t),i){case 0:e=sp(null,e,r,t,n);break e;case 1:e=Cy(null,e,r,t,n);break e;case 11:e=wy(null,e,r,t,n);break e;case 14:e=Sy(null,e,r,Tn(r.type,t),n);break e}throw Error(ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),sp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Cy(t,e,r,i,n);case 3:e:{if(zS(e),t===null)throw Error(ce(387));r=e.pendingProps,s=e.memoizedState,i=s.element,gS(t,e),Qc(e,r,null,n);var d=e.memoizedState;if(r=d.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:d.cache,pendingSuspenseBoundaries:d.pendingSuspenseBoundaries,transitions:d.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=us(Error(ce(423)),e),e=_y(t,e,r,n,i);break e}else if(r!==i){i=us(Error(ce(424)),e),e=_y(t,e,r,n,i);break e}else for(Zt=Qr(e.stateNode.containerInfo.firstChild),rn=e,Ge=!0,On=null,n=dS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(os(),r===i){e=br(t,e,n);break e}Ft(t,e,r,n)}e=e.child}return e;case 5:return mS(e),t===null&&tp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,d=i.children,qd(r,i)?d=null:s!==null&&qd(r,s)&&(e.flags|=32),VS(t,e),Ft(t,e,d,n),e.child;case 6:return t===null&&tp(e),null;case 13:return US(t,e,n);case 4:return im(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ls(e,null,r,n):Ft(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),wy(t,e,r,i,n);case 7:return Ft(t,e,e.pendingProps,n),e.child;case 8:return Ft(t,e,e.pendingProps.children,n),e.child;case 12:return Ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,d=i.value,Be(Kc,r._currentValue),r._currentValue=d,s!==null)if(Dn(s.value,d)){if(s.children===i.children&&!Ut.current){e=br(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){d=s.child;for(var a=o.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=fr(-1,n&-n),a.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var h=f.pending;h===null?a.next=a:(a.next=h.next,h.next=a),f.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),np(s.return,n,e),o.lanes|=n;break}a=a.next}}else if(s.tag===10)d=s.type===e.type?null:s.child;else if(s.tag===18){if(d=s.return,d===null)throw Error(ce(341));d.lanes|=n,o=d.alternate,o!==null&&(o.lanes|=n),np(d,n,e),d=s.sibling}else d=s.child;if(d!==null)d.return=s;else for(d=s;d!==null;){if(d===e){d=null;break}if(s=d.sibling,s!==null){s.return=d.return,d=s;break}d=d.return}s=d}Ft(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ts(e,n),i=xn(i),r=r(i),e.flags|=1,Ft(t,e,r,n),e.child;case 14:return r=e.type,i=Tn(r,e.pendingProps),i=Tn(r.type,i),Sy(t,e,r,i,n);case 15:return NS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),wc(t,e),e.tag=1,Ht(r)?(t=!0,Gc(e)):t=!1,ts(e,n),LS(e,r,i),ip(e,r,i,n),op(null,e,r,!0,t,n);case 19:return HS(t,e,n);case 22:return BS(t,e,n)}throw Error(ce(156,e.tag))};function sC(t,e){return I2(t,e)}function zA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,n,r){return new zA(t,e,n,r)}function xm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UA(t){if(typeof t=="function")return xm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$g)return 11;if(t===Ng)return 14}return 2}function ti(t,e){var n=t.alternate;return n===null?(n=vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _c(t,e,n,r,i,s){var d=2;if(r=t,typeof t=="function")xm(t)&&(d=1);else if(typeof t=="string")d=5;else e:switch(t){case Ra:return $i(n.children,i,s,e);case jg:d=8,i|=8;break;case Ed:return t=vn(12,n,e,i|2),t.elementType=Ed,t.lanes=s,t;case Pd:return t=vn(13,n,e,i),t.elementType=Pd,t.lanes=s,t;case Ad:return t=vn(19,n,e,i),t.elementType=Ad,t.lanes=s,t;case m2:return rf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p2:d=10;break e;case g2:d=9;break e;case $g:d=11;break e;case Ng:d=14;break e;case Rr:d=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=vn(d,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $i(t,e,n,r){return t=vn(7,t,r,e),t.lanes=n,t}function rf(t,e,n,r){return t=vn(22,t,r,e),t.elementType=m2,t.lanes=n,t.stateNode={isHidden:!1},t}function Ph(t,e,n){return t=vn(6,t,null,e),t.lanes=n,t}function Ah(t,e,n){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uh(0),this.expirationTimes=uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bm(t,e,n,r,i,s,d,o,a){return t=new HA(t,e,n,o,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rm(s),t}function WA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ia,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oC(t){if(!t)return ii;t=t._reactInternals;e:{if(ea(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(Ht(n))return oS(t,n,e)}return e}function lC(t,e,n,r,i,s,d,o,a){return t=bm(n,r,!0,t,i,s,d,o,a),t.context=oC(null),n=t.current,r=jt(),i=ei(n),s=fr(r,i),s.callback=e??null,Jr(n,s,i),t.current.lanes=i,ul(t,i,r),Wt(t,r),t}function af(t,e,n,r){var i=e.current,s=jt(),d=ei(i);return n=oC(n),e.context===null?e.context=n:e.pendingContext=n,e=fr(s,d),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Jr(i,e,d),t!==null&&(Mn(t,i,d,s),yc(t,i,d)),d}function au(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ry(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wm(t,e){Ry(t,e),(t=t.alternate)&&Ry(t,e)}function GA(){return null}var cC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sm(t){this._internalRoot=t}sf.prototype.render=Sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));af(t,e,null,null)};sf.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wi(function(){af(null,t,null,null)}),e[yr]=null}};function sf(t){this._internalRoot=t}sf.prototype.unstable_scheduleHydration=function(t){if(t){var e=B2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jr.length&&e!==0&&e<jr[n].priority;n++);jr.splice(n,0,t),n===0&&z2(t)}};function Cm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function of(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fy(){}function XA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=au(d);s.call(f)}}var d=lC(e,r,t,0,null,!1,!1,"",Fy);return t._reactRootContainer=d,t[yr]=d.current,No(t.nodeType===8?t.parentNode:t),Wi(),d}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var f=au(a);o.call(f)}}var a=bm(t,0,!1,null,null,!1,!1,"",Fy);return t._reactRootContainer=a,t[yr]=a.current,No(t.nodeType===8?t.parentNode:t),Wi(function(){af(e,a,n,r)}),a}function lf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var d=s;if(typeof i=="function"){var o=i;i=function(){var a=au(d);o.call(a)}}af(e,d,t,i)}else d=XA(n,e,t,i,r);return au(d)}$2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=so(e.pendingLanes);n!==0&&(zg(e,n|1),Wt(e,at()),!(Pe&6)&&(fs=at()+500,hi()))}break;case 13:Wi(function(){var r=xr(t,1);if(r!==null){var i=jt();Mn(r,t,1,i)}}),wm(t,1)}};Ug=function(t){if(t.tag===13){var e=xr(t,134217728);if(e!==null){var n=jt();Mn(e,t,134217728,n)}wm(t,134217728)}};N2=function(t){if(t.tag===13){var e=ei(t),n=xr(t,e);if(n!==null){var r=jt();Mn(n,t,e,r)}wm(t,e)}};B2=function(){return Fe};V2=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Bd=function(t,e,n){switch(e){case"input":if(Id(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qu(r);if(!i)throw Error(ce(90));y2(r),Id(r,i)}}}break;case"textarea":b2(t,n);break;case"select":e=n.value,e!=null&&Qa(t,!!n.multiple,e,!1)}};O2=mm;E2=Wi;var YA={usingClientEntryPoint:!1,Events:[hl,$a,Qu,T2,k2,mm]},Gs={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KA={bundleType:Gs.bundleType,version:Gs.version,rendererPackageName:Gs.rendererPackageName,rendererConfig:Gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_r.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=M2(t),t===null?null:t.stateNode},findFiberByHostInstance:Gs.findFiberByHostInstance||GA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{Xu=Wl.inject(KA),Wn=Wl}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YA;cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cm(e))throw Error(ce(200));return WA(t,e,null,n)};cn.createRoot=function(t,e){if(!Cm(t))throw Error(ce(299));var n=!1,r="",i=cC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bm(t,1,!1,null,null,n,!1,r,i),t[yr]=e.current,No(t.nodeType===8?t.parentNode:t),new Sm(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=M2(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return Wi(t)};cn.hydrate=function(t,e,n){if(!of(e))throw Error(ce(200));return lf(null,t,e,!0,n)};cn.hydrateRoot=function(t,e,n){if(!Cm(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",d=cC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),e=lC(e,null,t,1,n??null,i,!1,s,d),t[yr]=e.current,No(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sf(e)};cn.render=function(t,e,n){if(!of(e))throw Error(ce(200));return lf(null,t,e,!1,n)};cn.unmountComponentAtNode=function(t){if(!of(t))throw Error(ce(40));return t._reactRootContainer?(Wi(function(){lf(null,null,t,!1,function(){t._reactRootContainer=null,t[yr]=null})}),!0):!1};cn.unstable_batchedUpdates=mm;cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!of(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return lf(t,e,n,!1,r)};cn.version="18.3.1-next-f1338f8080-20240426";function uC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uC)}catch(t){console.error(t)}}uC(),u2.exports=cn;var fC=u2.exports,hC,Ly=fC;hC=Ly.createRoot,Ly.hydrateRoot;function dC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Vr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dC(t))&&(r&&(r+=" "),r+=e);return r}const Yo=t=>typeof t=="number"&&!isNaN(t),Ni=t=>typeof t=="string",en=t=>typeof t=="function",Tc=t=>Ni(t)||en(t)?t:null,xp=t=>$.isValidElement(t)||Ni(t)||en(t)||Yo(t);function qA(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function cf(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(d){let{children:o,position:a,preventExitTransition:f,done:h,nodeRef:l,isIn:c,playToast:u}=d;const p=r?`${e}--${a}`:e,v=r?`${n}--${a}`:n,g=$.useRef(0);return $.useLayoutEffect(()=>{const m=l.current,y=p.split(" "),x=b=>{b.target===l.current&&(u(),m.removeEventListener("animationend",x),m.removeEventListener("animationcancel",x),g.current===0&&b.type!=="animationcancel"&&m.classList.remove(...y))};m.classList.add(...y),m.addEventListener("animationend",x),m.addEventListener("animationcancel",x)},[]),$.useEffect(()=>{const m=l.current,y=()=>{m.removeEventListener("animationend",y),i?qA(m,h,s):h()};c||(f?y():(g.current=1,m.className+=` ${v}`,m.addEventListener("animationend",y)))},[c]),N.createElement(N.Fragment,null,o)}}function jy(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Lt=new Map;let Ko=[];const bp=new Set,QA=t=>bp.forEach(e=>e(t)),pC=()=>Lt.size>0;function gC(t,e){var n;if(e)return!((n=Lt.get(e))==null||!n.isToastActive(t));let r=!1;return Lt.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function mC(t,e){xp(t)&&(pC()||Ko.push({content:t,options:e}),Lt.forEach(n=>{n.buildToast(t,e)}))}function $y(t,e){Lt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function JA(t){const{subscribe:e,getSnapshot:n,setProps:r}=$.useRef(function(s){const d=s.containerId||1;return{subscribe(o){const a=function(h,l,c){let u=1,p=0,v=[],g=[],m=[],y=l;const x=new Map,b=new Set,w=()=>{m=Array.from(x.values()),b.forEach(C=>C())},S=C=>{g=C==null?[]:g.filter(k=>k!==C),w()},_=C=>{const{toastId:k,onOpen:A,updateId:F,children:B}=C.props,H=F==null;C.staleId&&x.delete(C.staleId),x.set(k,C),g=[...g,C.props.toastId].filter(L=>L!==C.staleId),w(),c(jy(C,H?"added":"updated")),H&&en(A)&&A($.isValidElement(B)&&B.props)};return{id:h,props:y,observe:C=>(b.add(C),()=>b.delete(C)),toggle:(C,k)=>{x.forEach(A=>{k!=null&&k!==A.props.toastId||en(A.toggle)&&A.toggle(C)})},removeToast:S,toasts:x,clearQueue:()=>{p-=v.length,v=[]},buildToast:(C,k)=>{if((D=>{let{containerId:W,toastId:M,updateId:O}=D;const U=W?W!==h:h!==1,G=x.has(M)&&O==null;return U||G})(k))return;const{toastId:A,updateId:F,data:B,staleId:H,delay:L}=k,z=()=>{S(A)},I=F==null;I&&p++;const E={...y,style:y.toastStyle,key:u++,...Object.fromEntries(Object.entries(k).filter(D=>{let[W,M]=D;return M!=null})),toastId:A,updateId:F,data:B,closeToast:z,isIn:!1,className:Tc(k.className||y.toastClassName),bodyClassName:Tc(k.bodyClassName||y.bodyClassName),progressClassName:Tc(k.progressClassName||y.progressClassName),autoClose:!k.isLoading&&(V=k.autoClose,T=y.autoClose,V===!1||Yo(V)&&V>0?V:T),deleteToast(){const D=x.get(A),{onClose:W,children:M}=D.props;en(W)&&W($.isValidElement(M)&&M.props),c(jy(D,"removed")),x.delete(A),p--,p<0&&(p=0),v.length>0?_(v.shift()):w()}};var V,T;E.closeButton=y.closeButton,k.closeButton===!1||xp(k.closeButton)?E.closeButton=k.closeButton:k.closeButton===!0&&(E.closeButton=!xp(y.closeButton)||y.closeButton);let P=C;$.isValidElement(C)&&!Ni(C.type)?P=$.cloneElement(C,{closeToast:z,toastProps:E,data:B}):en(C)&&(P=C({closeToast:z,toastProps:E,data:B}));const j={content:P,props:E,staleId:H};y.limit&&y.limit>0&&p>y.limit&&I?v.push(j):Yo(L)?setTimeout(()=>{_(j)},L):_(j)},setProps(C){y=C},setToggle:(C,k)=>{x.get(C).toggle=k},isToastActive:C=>g.some(k=>k===C),getSnapshot:()=>m}}(d,s,QA);Lt.set(d,a);const f=a.observe(o);return Ko.forEach(h=>mC(h.content,h.options)),Ko=[],()=>{f(),Lt.delete(d)}},setProps(o){var a;(a=Lt.get(d))==null||a.setProps(o)},getSnapshot(){var o;return(o=Lt.get(d))==null?void 0:o.getSnapshot()}}}(t)).current;r(t);const i=$.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const d=new Map;return t.newestOnTop&&i.reverse(),i.forEach(o=>{const{position:a}=o.props;d.has(a)||d.set(a,[]),d.get(a).push(o)}),Array.from(d,o=>s(o[0],o[1]))},isToastActive:gC,count:i==null?void 0:i.length}}function ZA(t){const[e,n]=$.useState(!1),[r,i]=$.useState(!1),s=$.useRef(null),d=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:a,closeToast:f,onClick:h,closeOnClick:l}=t;var c,u;function p(){n(!0)}function v(){n(!1)}function g(x){const b=s.current;d.canDrag&&b&&(d.didMove=!0,e&&v(),d.delta=t.draggableDirection==="x"?x.clientX-d.start:x.clientY-d.start,d.start!==x.clientX&&(d.canCloseOnClick=!1),b.style.transform=`translate3d(${t.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`},0)`,b.style.opacity=""+(1-Math.abs(d.delta/d.removalDistance)))}function m(){document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",m);const x=s.current;if(d.canDrag&&d.didMove&&x){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();x.style.transition="transform 0.2s, opacity 0.2s",x.style.removeProperty("transform"),x.style.removeProperty("opacity")}}(u=Lt.get((c={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||u.setToggle(c.id,c.fn),$.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||v(),window.addEventListener("focus",p),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",v)}},[t.pauseOnFocusLoss]);const y={onPointerDown:function(x){if(t.draggable===!0||t.draggable===x.pointerType){d.didMove=!1,document.addEventListener("pointermove",g),document.addEventListener("pointerup",m);const b=s.current;d.canCloseOnClick=!0,d.canDrag=!0,b.style.transition="none",t.draggableDirection==="x"?(d.start=x.clientX,d.removalDistance=b.offsetWidth*(t.draggablePercent/100)):(d.start=x.clientY,d.removalDistance=b.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(x){const{top:b,bottom:w,left:S,right:_}=s.current.getBoundingClientRect();x.nativeEvent.type!=="touchend"&&t.pauseOnHover&&x.clientX>=S&&x.clientX<=_&&x.clientY>=b&&x.clientY<=w?v():p()}};return o&&a&&(y.onMouseEnter=v,t.stacked||(y.onMouseLeave=p)),l&&(y.onClick=x=>{h&&h(x),d.canCloseOnClick&&f()}),{playToast:p,pauseToast:v,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:y}}function e3(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:d,style:o,controlledProgress:a,progress:f,rtl:h,isIn:l,theme:c}=t;const u=s||a&&f===0,p={...o,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};a&&(p.transform=`scaleX(${f})`);const v=Vr("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${c}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),g=en(d)?d({rtl:h,type:i,defaultClassName:v}):Vr(v,d),m={[a&&f>=1?"onTransitionEnd":"onAnimationEnd"]:a&&f<1?null:()=>{l&&r()}};return N.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":u},N.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${c} Toastify__progress-bar--${i}`}),N.createElement("div",{role:"progressbar","aria-hidden":u?"true":"false","aria-label":"notification timer",className:g,style:p,...m}))}let t3=1;const vC=()=>""+t3++;function n3(t){return t&&(Ni(t.toastId)||Yo(t.toastId))?t.toastId:vC()}function _o(t,e){return mC(t,e),e.toastId}function su(t,e){return{...e,type:e&&e.type||t,toastId:n3(e)}}function Gl(t){return(e,n)=>_o(e,su(t,n))}function Ie(t,e){return _o(t,su("default",e))}Ie.loading=(t,e)=>_o(t,su("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Ie.promise=function(t,e,n){let r,{pending:i,error:s,success:d}=e;i&&(r=Ni(i)?Ie.loading(i,n):Ie.loading(i.render,{...n,...i}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(h,l,c)=>{if(l==null)return void Ie.dismiss(r);const u={type:h,...o,...n,data:c},p=Ni(l)?{render:l}:l;return r?Ie.update(r,{...u,...p}):Ie(p.render,{...u,...p}),c},f=en(t)?t():t;return f.then(h=>a("success",d,h)).catch(h=>a("error",s,h)),f},Ie.success=Gl("success"),Ie.info=Gl("info"),Ie.error=Gl("error"),Ie.warning=Gl("warning"),Ie.warn=Ie.warning,Ie.dark=(t,e)=>_o(t,su("default",{theme:"dark",...e})),Ie.dismiss=function(t){(function(e){var n;if(pC()){if(e==null||Ni(n=e)||Yo(n))Lt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=Lt.get(e.containerId);r?r.removeToast(e.id):Lt.forEach(i=>{i.removeToast(e.id)})}}else Ko=Ko.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Ie.clearWaitingQueue=function(t){t===void 0&&(t={}),Lt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Ie.isActive=gC,Ie.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:d}=i;return(s=Lt.get(d||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:vC()};s.toastId!==t&&(s.staleId=t);const d=s.render||i;delete s.render,_o(d,s)}},Ie.done=t=>{Ie.update(t,{progress:1})},Ie.onChange=function(t){return bp.add(t),()=>{bp.delete(t)}},Ie.play=t=>$y(!0,t),Ie.pause=t=>$y(!1,t);const r3=typeof window<"u"?$.useLayoutEffect:$.useEffect,Xl=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return N.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Mh={info:function(t){return N.createElement(Xl,{...t},N.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return N.createElement(Xl,{...t},N.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return N.createElement(Xl,{...t},N.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return N.createElement(Xl,{...t},N.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return N.createElement("div",{className:"Toastify__spinner"})}},i3=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=ZA(t),{closeButton:d,children:o,autoClose:a,onClick:f,type:h,hideProgressBar:l,closeToast:c,transition:u,position:p,className:v,style:g,bodyClassName:m,bodyStyle:y,progressClassName:x,progressStyle:b,updateId:w,role:S,progress:_,rtl:C,toastId:k,deleteToast:A,isIn:F,isLoading:B,closeOnClick:H,theme:L}=t,z=Vr("Toastify__toast",`Toastify__toast-theme--${L}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":H}),I=en(v)?v({rtl:C,position:p,type:h,defaultClassName:z}):Vr(z,v),E=function(j){let{theme:D,type:W,isLoading:M,icon:O}=j,U=null;const G={theme:D,type:W};return O===!1||(en(O)?U=O({...G,isLoading:M}):$.isValidElement(O)?U=$.cloneElement(O,G):M?U=Mh.spinner():(K=>K in Mh)(W)&&(U=Mh[W](G))),U}(t),V=!!_||!a,T={closeToast:c,type:h,theme:L};let P=null;return d===!1||(P=en(d)?d(T):$.isValidElement(d)?$.cloneElement(d,T):function(j){let{closeToast:D,theme:W,ariaLabel:M="close"}=j;return N.createElement("button",{className:`Toastify__close-button Toastify__close-button--${W}`,type:"button",onClick:O=>{O.stopPropagation(),D(O)},"aria-label":M},N.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},N.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(T)),N.createElement(u,{isIn:F,done:A,position:p,preventExitTransition:n,nodeRef:r,playToast:s},N.createElement("div",{id:k,onClick:f,"data-in":F,className:I,...i,style:g,ref:r},N.createElement("div",{...F&&{role:S},className:en(m)?m({type:h}):Vr("Toastify__toast-body",m),style:y},E!=null&&N.createElement("div",{className:Vr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},E),N.createElement("div",null,o)),P,N.createElement(e3,{...w&&!V?{key:`pb-${w}`}:{},rtl:C,theme:L,delay:a,isRunning:e,isIn:F,closeToast:c,hide:l,type:h,style:b,className:x,controlledProgress:V,progress:_||0})))},uf=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},a3=cf(uf("bounce",!0));cf(uf("slide",!0));cf(uf("zoom"));cf(uf("flip"));const s3={position:"top-right",transition:a3,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function o3(t){let e={...s3,...t};const n=t.stacked,[r,i]=$.useState(!0),s=$.useRef(null),{getToastToRender:d,isToastActive:o,count:a}=JA(e),{className:f,style:h,rtl:l,containerId:c}=e;function u(v){const g=Vr("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":l});return en(f)?f({position:v,rtl:l,defaultClassName:g}):Vr(g,Tc(f))}function p(){n&&(i(!0),Ie.play())}return r3(()=>{if(n){var v;const g=s.current.querySelectorAll('[data-in="true"]'),m=12,y=(v=e.position)==null?void 0:v.includes("top");let x=0,b=0;Array.from(g).reverse().forEach((w,S)=>{const _=w;_.classList.add("Toastify__toast--stacked"),S>0&&(_.dataset.collapsed=`${r}`),_.dataset.pos||(_.dataset.pos=y?"top":"bot");const C=x*(r?.2:1)+(r?0:m*S);_.style.setProperty("--y",`${y?C:-1*C}px`),_.style.setProperty("--g",`${m}`),_.style.setProperty("--s",""+(1-(r?b:0))),x+=_.offsetHeight,b+=.025})}},[r,a,n]),N.createElement("div",{ref:s,className:"Toastify",id:c,onMouseEnter:()=>{n&&(i(!1),Ie.pause())},onMouseLeave:p},d((v,g)=>{const m=g.length?{...h}:{...h,pointerEvents:"none"};return N.createElement("div",{className:u(v),style:m,key:`container-${v}`},g.map(y=>{let{content:x,props:b}=y;return N.createElement(i3,{...b,stacked:n,collapseAll:p,isIn:o(b.toastId,b.containerId),style:b.style,key:`toast-${b.key}`},x)}))}))}var yC={exports:{}},l3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",c3=l3,u3=c3;function xC(){}function bC(){}bC.resetWarningCache=xC;var f3=function(){function t(r,i,s,d,o,a){if(a!==u3){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:bC,resetWarningCache:xC};return n.PropTypes=n,n};yC.exports=f3();var h3=yC.exports;const se=Pg(h3);function ta(t,e,n,r){function i(s){return s instanceof n?s:new n(function(d){d(s)})}return new(n||(n=Promise))(function(s,d){function o(h){try{f(r.next(h))}catch(l){d(l)}}function a(h){try{f(r.throw(h))}catch(l){d(l)}}function f(h){h.done?s(h.value):i(h.value).then(o,a)}f((r=r.apply(t,e||[])).next())})}const d3=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function hs(t,e,n){const r=p3(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&Ny(r,"path",s),Ny(r,"relativePath",s),r}function p3(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=d3.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function Ny(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const g3=[".DS_Store","Thumbs.db"];function m3(t){return ta(this,void 0,void 0,function*(){return ou(t)&&v3(t.dataTransfer)?w3(t.dataTransfer,t.type):y3(t)?x3(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?b3(t):[]})}function v3(t){return ou(t)}function y3(t){return ou(t)&&ou(t.target)}function ou(t){return typeof t=="object"&&t!==null}function x3(t){return wp(t.target.files).map(e=>hs(e))}function b3(t){return ta(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>hs(n))})}function w3(t,e){return ta(this,void 0,void 0,function*(){if(t.items){const n=wp(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(S3));return By(wC(r))}return By(wp(t.files).map(n=>hs(n)))})}function By(t){return t.filter(e=>g3.indexOf(e.name)===-1)}function wp(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function S3(t){if(typeof t.webkitGetAsEntry!="function")return Vy(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?SC(e):Vy(t,e)}function wC(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?wC(n):[n]],[])}function Vy(t,e){return ta(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const d=yield s.getFile();return d.handle=s,hs(d)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return hs(r,(n=e==null?void 0:e.fullPath)!==null&&n!==void 0?n:void 0)})}function C3(t){return ta(this,void 0,void 0,function*(){return t.isDirectory?SC(t):_3(t)})}function SC(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(d=>ta(this,void 0,void 0,function*(){if(d.length){const o=Promise.all(d.map(C3));i.push(o),s()}else try{const o=yield Promise.all(i);n(o)}catch(o){r(o)}}),d=>{r(d)})}s()})}function _3(t){return ta(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=hs(r,t.fullPath);e(i)},r=>{n(r)})})})}var Dh=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(d){var o=d.trim().toLowerCase();return o.charAt(0)==="."?r.toLowerCase().endsWith(o):o.endsWith("/*")?s===o.replace(/\/.*$/,""):i===o})}return!0};function zy(t){return O3(t)||k3(t)||_C(t)||T3()}function T3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O3(t){if(Array.isArray(t))return Sp(t)}function Uy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uy(Object(n),!0).forEach(function(r){CC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qo(t,e){return A3(t)||P3(t,e)||_C(t,e)||E3()}function E3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _C(t,e){if(t){if(typeof t=="string")return Sp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sp(t,e)}}function Sp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P3(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,d,o;try{for(n=n.call(t);!(i=(d=n.next()).done)&&(r.push(d.value),!(e&&r.length===e));i=!0);}catch(a){s=!0,o=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw o}}return r}}function A3(t){if(Array.isArray(t))return t}var M3=typeof Dh=="function"?Dh:Dh.default,D3="file-invalid-type",I3="file-too-large",R3="file-too-small",F3="too-many-files",L3=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:D3,message:"File type must be ".concat(r)}},Wy=function(e){return{code:I3,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},Gy=function(e){return{code:R3,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},j3={code:F3,message:"Too many files"};function TC(t,e){var n=t.type==="application/x-moz-file"||M3(t,e);return[n,n?null:L3(e)]}function kC(t,e,n){if(Oi(t.size))if(Oi(e)&&Oi(n)){if(t.size>n)return[!1,Wy(n)];if(t.size<e)return[!1,Gy(e)]}else{if(Oi(e)&&t.size<e)return[!1,Gy(e)];if(Oi(n)&&t.size>n)return[!1,Wy(n)]}return[!0,null]}function Oi(t){return t!=null}function $3(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,d=t.maxFiles,o=t.validator;return!s&&e.length>1||s&&d>=1&&e.length>d?!1:e.every(function(a){var f=TC(a,n),h=qo(f,1),l=h[0],c=kC(a,r,i),u=qo(c,1),p=u[0],v=o?o(a):null;return l&&p&&!v})}function lu(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Yl(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function Xy(t){t.preventDefault()}function N3(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function B3(t){return t.indexOf("Edge/")!==-1}function V3(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return N3(t)||B3(t)}function $n(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),d=1;d<i;d++)s[d-1]=arguments[d];return e.some(function(o){return!lu(r)&&o&&o.apply(void 0,[r].concat(s)),lu(r)})}}function z3(){return"showOpenFilePicker"in window}function U3(t){if(Oi(t)){var e=Object.entries(t).filter(function(n){var r=qo(n,2),i=r[0],s=r[1],d=!0;return OC(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(s)||!s.every(EC))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(n,r){var i=qo(r,2),s=i[0],d=i[1];return Hy(Hy({},n),{},CC({},s,d))},{});return[{description:"Files",accept:e}]}return t}function H3(t){if(Oi(t))return Object.entries(t).reduce(function(e,n){var r=qo(n,2),i=r[0],s=r[1];return[].concat(zy(e),[i],zy(s))},[]).filter(function(e){return OC(e)||EC(e)}).join(",")}function W3(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function G3(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function OC(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function EC(t){return/^.*\.[\w]+$/.test(t)}var X3=["children"],Y3=["open"],K3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],q3=["refKey","onChange","onClick"];function Q3(t){return e5(t)||Z3(t)||PC(t)||J3()}function J3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z3(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e5(t){if(Array.isArray(t))return Cp(t)}function Ih(t,e){return r5(t)||n5(t,e)||PC(t,e)||t5()}function t5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PC(t,e){if(t){if(typeof t=="string")return Cp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cp(t,e)}}function Cp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n5(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,d,o;try{for(n=n.call(t);!(i=(d=n.next()).done)&&(r.push(d.value),!(e&&r.length===e));i=!0);}catch(a){s=!0,o=a}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw o}}return r}}function r5(t){if(Array.isArray(t))return t}function Yy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yy(Object(n),!0).forEach(function(r){_p(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cu(t,e){if(t==null)return{};var n=i5(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var _m=$.forwardRef(function(t,e){var n=t.children,r=cu(t,X3),i=MC(r),s=i.open,d=cu(i,Y3);return $.useImperativeHandle(e,function(){return{open:s}},[s]),N.createElement($.Fragment,null,n(Xe(Xe({},d),{},{open:s})))});_m.displayName="Dropzone";var AC={disabled:!1,getFilesFromEvent:m3,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};_m.defaultProps=AC;_m.propTypes={children:se.func,accept:se.objectOf(se.arrayOf(se.string)),multiple:se.bool,preventDropOnDocument:se.bool,noClick:se.bool,noKeyboard:se.bool,noDrag:se.bool,noDragEventsBubbling:se.bool,minSize:se.number,maxSize:se.number,maxFiles:se.number,disabled:se.bool,getFilesFromEvent:se.func,onFileDialogCancel:se.func,onFileDialogOpen:se.func,useFsAccessApi:se.bool,autoFocus:se.bool,onDragEnter:se.func,onDragLeave:se.func,onDragOver:se.func,onDrop:se.func,onDropAccepted:se.func,onDropRejected:se.func,onError:se.func,validator:se.func};var Tp={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function MC(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Xe(Xe({},AC),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,d=e.minSize,o=e.multiple,a=e.maxFiles,f=e.onDragEnter,h=e.onDragLeave,l=e.onDragOver,c=e.onDrop,u=e.onDropAccepted,p=e.onDropRejected,v=e.onFileDialogCancel,g=e.onFileDialogOpen,m=e.useFsAccessApi,y=e.autoFocus,x=e.preventDropOnDocument,b=e.noClick,w=e.noKeyboard,S=e.noDrag,_=e.noDragEventsBubbling,C=e.onError,k=e.validator,A=$.useMemo(function(){return H3(n)},[n]),F=$.useMemo(function(){return U3(n)},[n]),B=$.useMemo(function(){return typeof g=="function"?g:Ky},[g]),H=$.useMemo(function(){return typeof v=="function"?v:Ky},[v]),L=$.useRef(null),z=$.useRef(null),I=$.useReducer(a5,Tp),E=Ih(I,2),V=E[0],T=E[1],P=V.isFocused,j=V.isFileDialogActive,D=$.useRef(typeof window<"u"&&window.isSecureContext&&m&&z3()),W=function(){!D.current&&j&&setTimeout(function(){if(z.current){var le=z.current.files;le.length||(T({type:"closeDialog"}),H())}},300)};$.useEffect(function(){return window.addEventListener("focus",W,!1),function(){window.removeEventListener("focus",W,!1)}},[z,j,H,D]);var M=$.useRef([]),O=function(le){L.current&&L.current.contains(le.target)||(le.preventDefault(),M.current=[])};$.useEffect(function(){return x&&(document.addEventListener("dragover",Xy,!1),document.addEventListener("drop",O,!1)),function(){x&&(document.removeEventListener("dragover",Xy),document.removeEventListener("drop",O))}},[L,x]),$.useEffect(function(){return!r&&y&&L.current&&L.current.focus(),function(){}},[L,y,r]);var U=$.useCallback(function(te){C?C(te):console.error(te)},[C]),G=$.useCallback(function(te){te.preventDefault(),te.persist(),de(te),M.current=[].concat(Q3(M.current),[te.target]),Yl(te)&&Promise.resolve(i(te)).then(function(le){if(!(lu(te)&&!_)){var ge=le.length,me=ge>0&&$3({files:le,accept:A,minSize:d,maxSize:s,multiple:o,maxFiles:a,validator:k}),Se=ge>0&&!me;T({isDragAccept:me,isDragReject:Se,isDragActive:!0,type:"setDraggedFiles"}),f&&f(te)}}).catch(function(le){return U(le)})},[i,f,U,_,A,d,s,o,a,k]),K=$.useCallback(function(te){te.preventDefault(),te.persist(),de(te);var le=Yl(te);if(le&&te.dataTransfer)try{te.dataTransfer.dropEffect="copy"}catch{}return le&&l&&l(te),!1},[l,_]),Y=$.useCallback(function(te){te.preventDefault(),te.persist(),de(te);var le=M.current.filter(function(me){return L.current&&L.current.contains(me)}),ge=le.indexOf(te.target);ge!==-1&&le.splice(ge,1),M.current=le,!(le.length>0)&&(T({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Yl(te)&&h&&h(te))},[L,h,_]),Z=$.useCallback(function(te,le){var ge=[],me=[];te.forEach(function(Se){var Ee=TC(Se,A),De=Ih(Ee,2),nt=De[0],$e=De[1],It=kC(Se,d,s),dt=Ih(It,2),Kt=dt[0],nr=dt[1],Ls=k?k(Se):null;if(nt&&Kt&&!Ls)ge.push(Se);else{var vi=[$e,nr];Ls&&(vi=vi.concat(Ls)),me.push({file:Se,errors:vi.filter(function(El){return El})})}}),(!o&&ge.length>1||o&&a>=1&&ge.length>a)&&(ge.forEach(function(Se){me.push({file:Se,errors:[j3]})}),ge.splice(0)),T({acceptedFiles:ge,fileRejections:me,isDragReject:me.length>0,type:"setFiles"}),c&&c(ge,me,le),me.length>0&&p&&p(me,le),ge.length>0&&u&&u(ge,le)},[T,o,A,d,s,a,c,u,p,k]),ie=$.useCallback(function(te){te.preventDefault(),te.persist(),de(te),M.current=[],Yl(te)&&Promise.resolve(i(te)).then(function(le){lu(te)&&!_||Z(le,te)}).catch(function(le){return U(le)}),T({type:"reset"})},[i,Z,U,_]),ae=$.useCallback(function(){if(D.current){T({type:"openDialog"}),B();var te={multiple:o,types:F};window.showOpenFilePicker(te).then(function(le){return i(le)}).then(function(le){Z(le,null),T({type:"closeDialog"})}).catch(function(le){W3(le)?(H(le),T({type:"closeDialog"})):G3(le)?(D.current=!1,z.current?(z.current.value=null,z.current.click()):U(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):U(le)});return}z.current&&(T({type:"openDialog"}),B(),z.current.value=null,z.current.click())},[T,B,H,m,Z,U,F,o]),Q=$.useCallback(function(te){!L.current||!L.current.isEqualNode(te.target)||(te.key===" "||te.key==="Enter"||te.keyCode===32||te.keyCode===13)&&(te.preventDefault(),ae())},[L,ae]),X=$.useCallback(function(){T({type:"focus"})},[]),J=$.useCallback(function(){T({type:"blur"})},[]),ne=$.useCallback(function(){b||(V3()?setTimeout(ae,0):ae())},[b,ae]),q=function(le){return r?null:le},ee=function(le){return w?null:q(le)},oe=function(le){return S?null:q(le)},de=function(le){_&&le.stopPropagation()},ue=$.useMemo(function(){return function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=te.refKey,ge=le===void 0?"ref":le,me=te.role,Se=te.onKeyDown,Ee=te.onFocus,De=te.onBlur,nt=te.onClick,$e=te.onDragEnter,It=te.onDragOver,dt=te.onDragLeave,Kt=te.onDrop,nr=cu(te,K3);return Xe(Xe(_p({onKeyDown:ee($n(Se,Q)),onFocus:ee($n(Ee,X)),onBlur:ee($n(De,J)),onClick:q($n(nt,ne)),onDragEnter:oe($n($e,G)),onDragOver:oe($n(It,K)),onDragLeave:oe($n(dt,Y)),onDrop:oe($n(Kt,ie)),role:typeof me=="string"&&me!==""?me:"presentation"},ge,L),!r&&!w?{tabIndex:0}:{}),nr)}},[L,Q,X,J,ne,G,K,Y,ie,w,S,r]),re=$.useCallback(function(te){te.stopPropagation()},[]),fe=$.useMemo(function(){return function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=te.refKey,ge=le===void 0?"ref":le,me=te.onChange,Se=te.onClick,Ee=cu(te,q3),De=_p({accept:A,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:q($n(me,ie)),onClick:q($n(Se,re)),tabIndex:-1},ge,z);return Xe(Xe({},De),Ee)}},[z,n,o,ie,r]);return Xe(Xe({},V),{},{isFocused:P&&!r,getRootProps:ue,getInputProps:fe,rootRef:L,inputRef:z,open:q(ae)})}function a5(t,e){switch(e.type){case"focus":return Xe(Xe({},t),{},{isFocused:!0});case"blur":return Xe(Xe({},t),{},{isFocused:!1});case"openDialog":return Xe(Xe({},Tp),{},{isFileDialogActive:!0});case"closeDialog":return Xe(Xe({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Xe(Xe({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Xe(Xe({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Xe({},Tp);default:return t}}function Ky(){}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Te=(t,e)=>{const n=$.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:d,className:o="",children:a,...f},h)=>$.createElement("svg",{ref:h,...s5,width:i,height:i,stroke:r,strokeWidth:d?Number(s)*24/Number(i):s,className:["lucide",`lucide-${o5(t)}`,o].join(" "),...f},[...e.map(([l,c])=>$.createElement(l,c)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=Te("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=Te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=Te("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=Te("FlipHorizontal",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=Te("FlipVertical",[["path",{d:"M21 8V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v3",key:"14bfxa"}],["path",{d:"M21 16v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3",key:"14rx03"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=Te("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=Te("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=Te("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=Te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=Te("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=Te("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=Te("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=Te("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=Te("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=Te("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=Te("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=Te("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=Te("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=Te("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=Te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=Te("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=Te("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=Te("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=Te("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=Te("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=Te("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),I5={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},qy=t=>{let e;const n=new Set,r=(h,l)=>{const c=typeof h=="function"?h(e):h;if(!Object.is(c,e)){const u=e;e=l??(typeof c!="object"||c===null)?c:Object.assign({},e,c),n.forEach(p=>p(e,u))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>f,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(I5?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=e=t(r,i,a);return a},R5=t=>t?qy(t):qy;var zC={exports:{}},UC={},HC={exports:{}},WC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=$;function F5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var L5=typeof Object.is=="function"?Object.is:F5,j5=ds.useState,$5=ds.useEffect,N5=ds.useLayoutEffect,B5=ds.useDebugValue;function V5(t,e){var n=e(),r=j5({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return N5(function(){i.value=n,i.getSnapshot=e,Fh(i)&&s({inst:i})},[t,n,e]),$5(function(){return Fh(i)&&s({inst:i}),t(function(){Fh(i)&&s({inst:i})})},[t]),B5(n),n}function Fh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!L5(t,n)}catch{return!0}}function z5(t,e){return e()}var U5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?z5:V5;WC.useSyncExternalStore=ds.useSyncExternalStore!==void 0?ds.useSyncExternalStore:U5;HC.exports=WC;var H5=HC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=$,W5=H5;function G5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var X5=typeof Object.is=="function"?Object.is:G5,Y5=W5.useSyncExternalStore,K5=ff.useRef,q5=ff.useEffect,Q5=ff.useMemo,J5=ff.useDebugValue;UC.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=K5(null);if(s.current===null){var d={hasValue:!1,value:null};s.current=d}else d=s.current;s=Q5(function(){function a(u){if(!f){if(f=!0,h=u,u=r(u),i!==void 0&&d.hasValue){var p=d.value;if(i(p,u))return l=p}return l=u}if(p=l,X5(h,u))return p;var v=r(u);return i!==void 0&&i(p,v)?p:(h=u,l=v)}var f=!1,h,l,c=n===void 0?null:n;return[function(){return a(e())},c===null?void 0:function(){return a(c())}]},[e,n,r,i]);var o=Y5(t,s[0],s[1]);return q5(function(){d.hasValue=!0,d.value=o},[o]),J5(o),o};zC.exports=UC;var Z5=zC.exports;const eM=Pg(Z5),GC={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:tM}=N,{useSyncExternalStoreWithSelector:nM}=eM;let Qy=!1;const rM=t=>t;function iM(t,e=rM,n){(GC?"production":void 0)!=="production"&&n&&!Qy&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Qy=!0);const r=nM(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return tM(r),r}const Jy=t=>{(GC?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?R5(t):t,n=(r,i)=>iM(e,r,i);return Object.assign(n,e),n},aM=t=>t?Jy(t):Jy;var it={};const sM={},oM=Object.freeze(Object.defineProperty({__proto__:null,default:sM},Symbol.toStringTag,{value:"Module"})),Lh=_E(oM);(function(t){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var e=e||{version:"5.4.2"};if(t.fabric=e,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?e.document=document:e.document=document.implementation.createHTMLDocument(""),e.window=window;else{var n=Lh,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;e.document=r.document,e.jsdomImplForWrapper=Lh.implForWrapper,e.nodeCanvas=Lh.Canvas,e.window=r,DOMParser=e.window.DOMParser}e.isTouchSupported="ontouchstart"in e.window||"ontouchstart"in e.document||e.window&&e.window.navigator&&e.window.navigator.maxTouchPoints>0,e.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],e.DPI=96,e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",e.commaWsp="(?:\\s+,?\\s*|,\\s*)",e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,e.reNonWord=/[ \n\.,;!\?\-]/,e.fontPaths={},e.iMatrix=[1,0,0,1,0,0],e.svgNS="http://www.w3.org/2000/svg",e.perfLimitSizeTotal=2097152,e.maxCacheSideLimit=4096,e.minCacheSideLimit=256,e.charWidthsCache={},e.textureSize=2048,e.disableStyleCopyPaste=!1,e.enableGLFiltering=!0,e.devicePixelRatio=e.window.devicePixelRatio||e.window.webkitDevicePixelRatio||e.window.mozDevicePixelRatio||1,e.browserShadowBlurConstant=1,e.arcToSegmentsCache={},e.boundsOfCurveCache={},e.cachesBoundsOfCurve=!0,e.forceGLPutImageData=!1,e.initFilterBackend=function(){if(e.enableGLFiltering&&e.isWebglSupported&&e.isWebglSupported(e.textureSize))return console.log("max texture size: "+e.maxTextureSize),new e.WebglFilterBackend({tileSize:e.textureSize});if(e.Canvas2dFilterBackend)return new e.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=e),function(){function o(u,p){if(this.__eventListeners[u]){var v=this.__eventListeners[u];p?v[v.indexOf(p)]=!1:e.util.array.fill(v,!1)}}function a(u,p){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var v in u)this.on(v,u[v]);else this.__eventListeners[u]||(this.__eventListeners[u]=[]),this.__eventListeners[u].push(p);return this}function f(u,p){var v=(function(){p.apply(this,arguments),this.off(u,v)}).bind(this);this.on(u,v)}function h(u,p){if(arguments.length===1)for(var v in u)f.call(this,v,u[v]);else f.call(this,u,p);return this}function l(u,p){if(!this.__eventListeners)return this;if(arguments.length===0)for(u in this.__eventListeners)o.call(this,u);else if(arguments.length===1&&typeof arguments[0]=="object")for(var v in u)o.call(this,v,u[v]);else o.call(this,u,p);return this}function c(u,p){if(!this.__eventListeners)return this;var v=this.__eventListeners[u];if(!v)return this;for(var g=0,m=v.length;g<m;g++)v[g]&&v[g].call(this,p||{});return this.__eventListeners[u]=v.filter(function(y){return y!==!1}),this}e.Observable={fire:c,on:a,once:h,off:l}}(),e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var o=0,a=arguments.length;o<a;o++)this._onObjectAdded(arguments[o]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(o,a,f){var h=this._objects;return f?h[a]=o:h.splice(a,0,o),this._onObjectAdded&&this._onObjectAdded(o),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var o=this._objects,a,f=!1,h=0,l=arguments.length;h<l;h++)a=o.indexOf(arguments[h]),a!==-1&&(f=!0,o.splice(a,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[h]));return this.renderOnAddRemove&&f&&this.requestRenderAll(),this},forEachObject:function(o,a){for(var f=this.getObjects(),h=0,l=f.length;h<l;h++)o.call(a,f[h],h,f);return this},getObjects:function(o){return typeof o>"u"?this._objects.concat():this._objects.filter(function(a){return a.type===o})},item:function(o){return this._objects[o]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(o,a){return this._objects.indexOf(o)>-1?!0:a?this._objects.some(function(f){return typeof f.contains=="function"&&f.contains(o,!0)}):!1},complexity:function(){return this._objects.reduce(function(o,a){return o+=a.complexity?a.complexity():0,o},0)}},e.CommonMethods={_setOptions:function(o){for(var a in o)this.set(a,o[a])},_initGradient:function(o,a){o&&o.colorStops&&!(o instanceof e.Gradient)&&this.set(a,new e.Gradient(o))},_initPattern:function(o,a,f){o&&o.source&&!(o instanceof e.Pattern)?this.set(a,new e.Pattern(o,f)):f&&f()},_setObject:function(o){for(var a in o)this._set(a,o[a])},set:function(o,a){return typeof o=="object"?this._setObject(o):this._set(o,a),this},_set:function(o,a){this[o]=a},toggle:function(o){var a=this.get(o);return typeof a=="boolean"&&this.set(o,!a),this},get:function(o){return this[o]}},function(o){var a=Math.sqrt,f=Math.atan2,h=Math.pow,l=Math.PI/180,c=Math.PI/2;e.util={cos:function(u){if(u===0)return 1;u<0&&(u=-u);var p=u/c;switch(p){case 1:case 3:return 0;case 2:return-1}return Math.cos(u)},sin:function(u){if(u===0)return 0;var p=u/c,v=1;switch(u<0&&(v=-1),p){case 1:return v;case 2:return 0;case 3:return-v}return Math.sin(u)},removeFromArray:function(u,p){var v=u.indexOf(p);return v!==-1&&u.splice(v,1),u},getRandomInt:function(u,p){return Math.floor(Math.random()*(p-u+1))+u},degreesToRadians:function(u){return u*l},radiansToDegrees:function(u){return u/l},rotatePoint:function(u,p,v){var g=new e.Point(u.x-p.x,u.y-p.y),m=e.util.rotateVector(g,v);return new e.Point(m.x,m.y).addEquals(p)},rotateVector:function(u,p){var v=e.util.sin(p),g=e.util.cos(p),m=u.x*g-u.y*v,y=u.x*v+u.y*g;return{x:m,y}},createVector:function(u,p){return new e.Point(p.x-u.x,p.y-u.y)},calcAngleBetweenVectors:function(u,p){return Math.acos((u.x*p.x+u.y*p.y)/(Math.hypot(u.x,u.y)*Math.hypot(p.x,p.y)))},getHatVector:function(u){return new e.Point(u.x,u.y).multiply(1/Math.hypot(u.x,u.y))},getBisector:function(u,p,v){var g=e.util.createVector(u,p),m=e.util.createVector(u,v),y=e.util.calcAngleBetweenVectors(g,m),x=e.util.calcAngleBetweenVectors(e.util.rotateVector(g,y),m),b=y*(x===0?1:-1)/2;return{vector:e.util.getHatVector(e.util.rotateVector(g,b)),angle:y}},projectStrokeOnPoints:function(u,p,v){var g=[],m=p.strokeWidth/2,y=p.strokeUniform?new e.Point(1/p.scaleX,1/p.scaleY):new e.Point(1,1),x=function(b){var w=m/Math.hypot(b.x,b.y);return new e.Point(b.x*w*y.x,b.y*w*y.y)};return u.length<=1||u.forEach(function(b,w){var S=new e.Point(b.x,b.y),_,C;w===0?(C=u[w+1],_=v?x(e.util.createVector(C,S)).addEquals(S):u[u.length-1]):w===u.length-1?(_=u[w-1],C=v?x(e.util.createVector(_,S)).addEquals(S):u[0]):(_=u[w-1],C=u[w+1]);var k=e.util.getBisector(S,_,C),A=k.vector,F=k.angle,B,H;if(p.strokeLineJoin==="miter"&&(B=-m/Math.sin(F/2),H=new e.Point(A.x*B*y.x,A.y*B*y.y),Math.hypot(H.x,H.y)/m<=p.strokeMiterLimit)){g.push(S.add(H)),g.push(S.subtract(H));return}B=-m*Math.SQRT2,H=new e.Point(A.x*B*y.x,A.y*B*y.y),g.push(S.add(H)),g.push(S.subtract(H))}),g},transformPoint:function(u,p,v){return v?new e.Point(p[0]*u.x+p[2]*u.y,p[1]*u.x+p[3]*u.y):new e.Point(p[0]*u.x+p[2]*u.y+p[4],p[1]*u.x+p[3]*u.y+p[5])},makeBoundingBoxFromPoints:function(u,p){if(p)for(var v=0;v<u.length;v++)u[v]=e.util.transformPoint(u[v],p);var g=[u[0].x,u[1].x,u[2].x,u[3].x],m=e.util.array.min(g),y=e.util.array.max(g),x=y-m,b=[u[0].y,u[1].y,u[2].y,u[3].y],w=e.util.array.min(b),S=e.util.array.max(b),_=S-w;return{left:m,top:w,width:x,height:_}},invertTransform:function(u){var p=1/(u[0]*u[3]-u[1]*u[2]),v=[p*u[3],-p*u[1],-p*u[2],p*u[0]],g=e.util.transformPoint({x:u[4],y:u[5]},v,!0);return v[4]=-g.x,v[5]=-g.y,v},toFixed:function(u,p){return parseFloat(Number(u).toFixed(p))},parseUnit:function(u,p){var v=/\D{0,2}$/.exec(u),g=parseFloat(u);switch(p||(p=e.Text.DEFAULT_SVG_FONT_SIZE),v[0]){case"mm":return g*e.DPI/25.4;case"cm":return g*e.DPI/2.54;case"in":return g*e.DPI;case"pt":return g*e.DPI/72;case"pc":return g*e.DPI/72*12;case"em":return g*p;default:return g}},falseFunction:function(){return!1},getKlass:function(u,p){return u=e.util.string.camelize(u.charAt(0).toUpperCase()+u.slice(1)),e.util.resolveNamespace(p)[u]},getSvgAttributes:function(u){var p=["instantiated_by_use","style","id","class"];switch(u){case"linearGradient":p=p.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":p=p.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":p=p.concat(["offset","stop-color","stop-opacity"]);break}return p},resolveNamespace:function(u){if(!u)return e;var p=u.split("."),v=p.length,g,m=o||e.window;for(g=0;g<v;++g)m=m[p[g]];return m},loadImage:function(u,p,v,g){if(!u){p&&p.call(v,u);return}var m=e.util.createImage(),y=function(){p&&p.call(v,m,!1),m=m.onload=m.onerror=null};m.onload=y,m.onerror=function(){e.log("Error loading "+m.src),p&&p.call(v,null,!0),m=m.onload=m.onerror=null},u.indexOf("data")!==0&&g!==void 0&&g!==null&&(m.crossOrigin=g),u.substring(0,14)==="data:image/svg"&&(m.onload=null,e.util.loadImageInDom(m,y)),m.src=u},loadImageInDom:function(u,p){var v=e.document.createElement("div");v.style.width=v.style.height="1px",v.style.left=v.style.top="-100%",v.style.position="absolute",v.appendChild(u),e.document.querySelector("body").appendChild(v),u.onload=function(){p(),v.parentNode.removeChild(v),v=null}},enlivenObjects:function(u,p,v,g){u=u||[];var m=[],y=0,x=u.length;function b(){++y===x&&p&&p(m.filter(function(w){return w}))}if(!x){p&&p(m);return}u.forEach(function(w,S){if(!w||!w.type){b();return}var _=e.util.getKlass(w.type,v);_.fromObject(w,function(C,k){k||(m[S]=C),g&&g(w,C,k),b()})})},enlivenObjectEnlivables:function(u,p,v){var g=e.Object.ENLIVEN_PROPS.filter(function(m){return!!u[m]});e.util.enlivenObjects(g.map(function(m){return u[m]}),function(m){var y={};g.forEach(function(x,b){y[x]=m[b],p&&(p[x]=m[b])}),v&&v(y)})},enlivenPatterns:function(u,p){u=u||[];function v(){++m===y&&p&&p(g)}var g=[],m=0,y=u.length;if(!y){p&&p(g);return}u.forEach(function(x,b){x&&x.source?new e.Pattern(x,function(w){g[b]=w,v()}):(g[b]=x,v())})},groupSVGElements:function(u,p,v){var g;return u&&u.length===1?(typeof v<"u"&&(u[0].sourcePath=v),u[0]):(p&&(p.width&&p.height?p.centerPoint={x:p.width/2,y:p.height/2}:(delete p.width,delete p.height)),g=new e.Group(u,p),typeof v<"u"&&(g.sourcePath=v),g)},populateWithProperties:function(u,p,v){if(v&&Array.isArray(v))for(var g=0,m=v.length;g<m;g++)v[g]in u&&(p[v[g]]=u[v[g]])},createCanvasElement:function(){return e.document.createElement("canvas")},copyCanvasElement:function(u){var p=e.util.createCanvasElement();return p.width=u.width,p.height=u.height,p.getContext("2d").drawImage(u,0,0),p},toDataURL:function(u,p,v){return u.toDataURL("image/"+p,v)},createImage:function(){return e.document.createElement("img")},multiplyTransformMatrices:function(u,p,v){return[u[0]*p[0]+u[2]*p[1],u[1]*p[0]+u[3]*p[1],u[0]*p[2]+u[2]*p[3],u[1]*p[2]+u[3]*p[3],v?0:u[0]*p[4]+u[2]*p[5]+u[4],v?0:u[1]*p[4]+u[3]*p[5]+u[5]]},qrDecompose:function(u){var p=f(u[1],u[0]),v=h(u[0],2)+h(u[1],2),g=a(v),m=(u[0]*u[3]-u[2]*u[1])/g,y=f(u[0]*u[2]+u[1]*u[3],v);return{angle:p/l,scaleX:g,scaleY:m,skewX:y/l,skewY:0,translateX:u[4],translateY:u[5]}},calcRotateMatrix:function(u){if(!u.angle)return e.iMatrix.concat();var p=e.util.degreesToRadians(u.angle),v=e.util.cos(p),g=e.util.sin(p);return[v,g,-g,v,0,0]},calcDimensionsMatrix:function(u){var p=typeof u.scaleX>"u"?1:u.scaleX,v=typeof u.scaleY>"u"?1:u.scaleY,g=[u.flipX?-p:p,0,0,u.flipY?-v:v,0,0],m=e.util.multiplyTransformMatrices,y=e.util.degreesToRadians;return u.skewX&&(g=m(g,[1,0,Math.tan(y(u.skewX)),1],!0)),u.skewY&&(g=m(g,[1,Math.tan(y(u.skewY)),0,1],!0)),g},composeMatrix:function(u){var p=[1,0,0,1,u.translateX||0,u.translateY||0],v=e.util.multiplyTransformMatrices;return u.angle&&(p=v(p,e.util.calcRotateMatrix(u))),(u.scaleX!==1||u.scaleY!==1||u.skewX||u.skewY||u.flipX||u.flipY)&&(p=v(p,e.util.calcDimensionsMatrix(u))),p},resetObjectTransform:function(u){u.scaleX=1,u.scaleY=1,u.skewX=0,u.skewY=0,u.flipX=!1,u.flipY=!1,u.rotate(0)},saveObjectTransform:function(u){return{scaleX:u.scaleX,scaleY:u.scaleY,skewX:u.skewX,skewY:u.skewY,angle:u.angle,left:u.left,flipX:u.flipX,flipY:u.flipY,top:u.top}},isTransparent:function(u,p,v,g){g>0&&(p>g?p-=g:p=0,v>g?v-=g:v=0);var m=!0,y,x,b=u.getImageData(p,v,g*2||1,g*2||1),w=b.data.length;for(y=3;y<w&&(x=b.data[y],m=x<=0,m!==!1);y+=4);return b=null,m},parsePreserveAspectRatioAttribute:function(u){var p="meet",v="Mid",g="Mid",m=u.split(" "),y;return m&&m.length&&(p=m.pop(),p!=="meet"&&p!=="slice"?(y=p,p="meet"):m.length&&(y=m.pop())),v=y!=="none"?y.slice(1,4):"none",g=y!=="none"?y.slice(5,8):"none",{meetOrSlice:p,alignX:v,alignY:g}},clearFabricFontCache:function(u){u=(u||"").toLowerCase(),u?e.charWidthsCache[u]&&delete e.charWidthsCache[u]:e.charWidthsCache={}},limitDimsByArea:function(u,p){var v=Math.sqrt(p*u),g=Math.floor(p/v);return{x:Math.floor(v),y:g}},capValue:function(u,p,v){return Math.max(u,Math.min(p,v))},findScaleToFit:function(u,p){return Math.min(p.width/u.width,p.height/u.height)},findScaleToCover:function(u,p){return Math.max(p.width/u.width,p.height/u.height)},matrixToSVG:function(u){return"matrix("+u.map(function(p){return e.util.toFixed(p,e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(u,p){var v=e.util.invertTransform(p),g=e.util.multiplyTransformMatrices(v,u.calcOwnMatrix());e.util.applyTransformToObject(u,g)},addTransformToObject:function(u,p){e.util.applyTransformToObject(u,e.util.multiplyTransformMatrices(p,u.calcOwnMatrix()))},applyTransformToObject:function(u,p){var v=e.util.qrDecompose(p),g=new e.Point(v.translateX,v.translateY);u.flipX=!1,u.flipY=!1,u.set("scaleX",v.scaleX),u.set("scaleY",v.scaleY),u.skewX=v.skewX,u.skewY=v.skewY,u.angle=v.angle,u.setPositionByOrigin(g,"center","center")},sizeAfterTransform:function(u,p,v){var g=u/2,m=p/2,y=[{x:-g,y:-m},{x:g,y:-m},{x:-g,y:m},{x:g,y:m}],x=e.util.calcDimensionsMatrix(v),b=e.util.makeBoundingBoxFromPoints(y,x);return{x:b.width,y:b.height}},mergeClipPaths:function(u,p){var v=u,g=p;v.inverted&&!g.inverted&&(v=p,g=u),e.util.applyTransformToObject(g,e.util.multiplyTransformMatrices(e.util.invertTransform(v.calcTransformMatrix()),g.calcTransformMatrix()));var m=v.inverted&&g.inverted;return m&&(v.inverted=g.inverted=!1),new e.Group([v],{clipPath:g,inverted:m})},hasStyleChanged:function(u,p,v){return v=v||!1,u.fill!==p.fill||u.stroke!==p.stroke||u.strokeWidth!==p.strokeWidth||u.fontSize!==p.fontSize||u.fontFamily!==p.fontFamily||u.fontWeight!==p.fontWeight||u.fontStyle!==p.fontStyle||u.textBackgroundColor!==p.textBackgroundColor||u.deltaY!==p.deltaY||v&&(u.overline!==p.overline||u.underline!==p.underline||u.linethrough!==p.linethrough)},stylesToArray:function(v,p){for(var v=e.util.object.clone(v,!0),g=p.split(`
`),m=-1,y={},x=[],b=0;b<g.length;b++){if(!v[b]){m+=g[b].length;continue}for(var w=0;w<g[b].length;w++){m++;var S=v[b][w];if(S&&Object.keys(S).length>0){var _=e.util.hasStyleChanged(y,S,!0);_?x.push({start:m,end:m+1,style:S}):x[x.length-1].end++}y=S||{}}}return x},stylesFromArray:function(u,p){if(!Array.isArray(u))return u;for(var v=p.split(`
`),g=-1,m=0,y={},x=0;x<v.length;x++)for(var b=0;b<v[x].length;b++)g++,u[m]&&u[m].start<=g&&g<u[m].end&&(y[x]=y[x]||{},y[x][b]=Object.assign({},u[m].style),g===u[m].end-1&&m++);return y}}}(t),function(){var o=Array.prototype.join,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},f={m:"l",M:"L"};function h(T,P,j,D,W,M,O,U,G,K,Y){var Z=e.util.cos(T),ie=e.util.sin(T),ae=e.util.cos(P),Q=e.util.sin(P),X=j*W*ae-D*M*Q+O,J=D*W*ae+j*M*Q+U,ne=K+G*(-j*W*ie-D*M*Z),q=Y+G*(-D*W*ie+j*M*Z),ee=X+G*(j*W*Q+D*M*ae),oe=J+G*(D*W*Q-j*M*ae);return["C",ne,q,ee,oe,X,J]}function l(T,P,j,D,W,M,O){var U=Math.PI,G=O*U/180,K=e.util.sin(G),Y=e.util.cos(G),Z=0,ie=0;j=Math.abs(j),D=Math.abs(D);var ae=-Y*T*.5-K*P*.5,Q=-Y*P*.5+K*T*.5,X=j*j,J=D*D,ne=Q*Q,q=ae*ae,ee=X*J-X*ne-J*q,oe=0;if(ee<0){var de=Math.sqrt(1-ee/(X*J));j*=de,D*=de}else oe=(W===M?-1:1)*Math.sqrt(ee/(X*ne+J*q));var ue=oe*j*Q/D,re=-oe*D*ae/j,fe=Y*ue-K*re+T*.5,te=K*ue+Y*re+P*.5,le=c(1,0,(ae-ue)/j,(Q-re)/D),ge=c((ae-ue)/j,(Q-re)/D,(-ae-ue)/j,(-Q-re)/D);M===0&&ge>0?ge-=2*U:M===1&&ge<0&&(ge+=2*U);for(var me=Math.ceil(Math.abs(ge/U*2)),Se=[],Ee=ge/me,De=8/3*Math.sin(Ee/4)*Math.sin(Ee/4)/Math.sin(Ee/2),nt=le+Ee,$e=0;$e<me;$e++)Se[$e]=h(le,nt,Y,K,j,D,fe,te,De,Z,ie),Z=Se[$e][5],ie=Se[$e][6],le=nt,nt+=Ee;return Se}function c(T,P,j,D){var W=Math.atan2(P,T),M=Math.atan2(D,j);return M>=W?M-W:2*Math.PI-(W-M)}function u(T,P,j,D,W,M,O,U){var G;if(e.cachesBoundsOfCurve&&(G=o.call(arguments),e.boundsOfCurveCache[G]))return e.boundsOfCurveCache[G];var K=Math.sqrt,Y=Math.min,Z=Math.max,ie=Math.abs,ae=[],Q=[[],[]],X,J,ne,q,ee,oe,de,ue;J=6*T-12*j+6*W,X=-3*T+9*j-9*W+3*O,ne=3*j-3*T;for(var re=0;re<2;++re){if(re>0&&(J=6*P-12*D+6*M,X=-3*P+9*D-9*M+3*U,ne=3*D-3*P),ie(X)<1e-12){if(ie(J)<1e-12)continue;q=-ne/J,0<q&&q<1&&ae.push(q);continue}de=J*J-4*ne*X,!(de<0)&&(ue=K(de),ee=(-J+ue)/(2*X),0<ee&&ee<1&&ae.push(ee),oe=(-J-ue)/(2*X),0<oe&&oe<1&&ae.push(oe))}for(var fe,te,le=ae.length,ge=le,me;le--;)q=ae[le],me=1-q,fe=me*me*me*T+3*me*me*q*j+3*me*q*q*W+q*q*q*O,Q[0][le]=fe,te=me*me*me*P+3*me*me*q*D+3*me*q*q*M+q*q*q*U,Q[1][le]=te;Q[0][ge]=T,Q[1][ge]=P,Q[0][ge+1]=O,Q[1][ge+1]=U;var Se=[{x:Y.apply(null,Q[0]),y:Y.apply(null,Q[1])},{x:Z.apply(null,Q[0]),y:Z.apply(null,Q[1])}];return e.cachesBoundsOfCurve&&(e.boundsOfCurveCache[G]=Se),Se}function p(T,P,j){for(var D=j[1],W=j[2],M=j[3],O=j[4],U=j[5],G=j[6],K=j[7],Y=l(G-T,K-P,D,W,O,U,M),Z=0,ie=Y.length;Z<ie;Z++)Y[Z][1]+=T,Y[Z][2]+=P,Y[Z][3]+=T,Y[Z][4]+=P,Y[Z][5]+=T,Y[Z][6]+=P;return Y}function v(T){var P=0,j=0,D=T.length,W=0,M=0,O,U,G,K=[],Y,Z,ie;for(U=0;U<D;++U){switch(G=!1,O=T[U].slice(0),O[0]){case"l":O[0]="L",O[1]+=P,O[2]+=j;case"L":P=O[1],j=O[2];break;case"h":O[1]+=P;case"H":O[0]="L",O[2]=j,P=O[1];break;case"v":O[1]+=j;case"V":O[0]="L",j=O[1],O[1]=P,O[2]=j;break;case"m":O[0]="M",O[1]+=P,O[2]+=j;case"M":P=O[1],j=O[2],W=O[1],M=O[2];break;case"c":O[0]="C",O[1]+=P,O[2]+=j,O[3]+=P,O[4]+=j,O[5]+=P,O[6]+=j;case"C":Z=O[3],ie=O[4],P=O[5],j=O[6];break;case"s":O[0]="S",O[1]+=P,O[2]+=j,O[3]+=P,O[4]+=j;case"S":Y==="C"?(Z=2*P-Z,ie=2*j-ie):(Z=P,ie=j),P=O[3],j=O[4],O[0]="C",O[5]=O[3],O[6]=O[4],O[3]=O[1],O[4]=O[2],O[1]=Z,O[2]=ie,Z=O[3],ie=O[4];break;case"q":O[0]="Q",O[1]+=P,O[2]+=j,O[3]+=P,O[4]+=j;case"Q":Z=O[1],ie=O[2],P=O[3],j=O[4];break;case"t":O[0]="T",O[1]+=P,O[2]+=j;case"T":Y==="Q"?(Z=2*P-Z,ie=2*j-ie):(Z=P,ie=j),O[0]="Q",P=O[1],j=O[2],O[1]=Z,O[2]=ie,O[3]=P,O[4]=j;break;case"a":O[0]="A",O[6]+=P,O[7]+=j;case"A":G=!0,K=K.concat(p(P,j,O)),P=O[6],j=O[7];break;case"z":case"Z":P=W,j=M;break}G||K.push(O),Y=O[0]}return K}function g(T,P,j,D){return Math.sqrt((j-T)*(j-T)+(D-P)*(D-P))}function m(T){return T*T*T}function y(T){return 3*T*T*(1-T)}function x(T){return 3*T*(1-T)*(1-T)}function b(T){return(1-T)*(1-T)*(1-T)}function w(T,P,j,D,W,M,O,U){return function(G){var K=m(G),Y=y(G),Z=x(G),ie=b(G);return{x:O*K+W*Y+j*Z+T*ie,y:U*K+M*Y+D*Z+P*ie}}}function S(T,P,j,D,W,M,O,U){return function(G){var K=1-G,Y=3*K*K*(j-T)+6*K*G*(W-j)+3*G*G*(O-W),Z=3*K*K*(D-P)+6*K*G*(M-D)+3*G*G*(U-M);return Math.atan2(Z,Y)}}function _(T){return T*T}function C(T){return 2*T*(1-T)}function k(T){return(1-T)*(1-T)}function A(T,P,j,D,W,M){return function(O){var U=_(O),G=C(O),K=k(O);return{x:W*U+j*G+T*K,y:M*U+D*G+P*K}}}function F(T,P,j,D,W,M){return function(O){var U=1-O,G=2*U*(j-T)+2*O*(W-j),K=2*U*(D-P)+2*O*(M-D);return Math.atan2(K,G)}}function B(T,P,j){var D={x:P,y:j},W,M=0,O;for(O=1;O<=100;O+=1)W=T(O/100),M+=g(D.x,D.y,W.x,W.y),D=W;return M}function H(T,P){for(var j=0,D=0,W=T.iterator,M={x:T.x,y:T.y},O,U,G=.01,K=T.angleFinder,Y;D<P&&G>1e-4;)O=W(j),Y=j,U=g(M.x,M.y,O.x,O.y),U+D>P?(j-=G,G/=2):(M=O,j+=G,D+=U);return O.angle=K(Y),O}function L(T){for(var P=0,j=T.length,D,W=0,M=0,O=0,U=0,G=[],K,Y,Z,ie=0;ie<j;ie++){switch(D=T[ie],Y={x:W,y:M,command:D[0]},D[0]){case"M":Y.length=0,O=W=D[1],U=M=D[2];break;case"L":Y.length=g(W,M,D[1],D[2]),W=D[1],M=D[2];break;case"C":K=w(W,M,D[1],D[2],D[3],D[4],D[5],D[6]),Z=S(W,M,D[1],D[2],D[3],D[4],D[5],D[6]),Y.iterator=K,Y.angleFinder=Z,Y.length=B(K,W,M),W=D[5],M=D[6];break;case"Q":K=A(W,M,D[1],D[2],D[3],D[4]),Z=F(W,M,D[1],D[2],D[3],D[4]),Y.iterator=K,Y.angleFinder=Z,Y.length=B(K,W,M),W=D[3],M=D[4];break;case"Z":case"z":Y.destX=O,Y.destY=U,Y.length=g(W,M,O,U),W=O,M=U;break}P+=Y.length,G.push(Y)}return G.push({length:P,x:W,y:M}),G}function z(T,P,j){j||(j=L(T));for(var D=0;P-j[D].length>0&&D<j.length-2;)P-=j[D].length,D++;var W=j[D],M=P/W.length,O=W.command,U=T[D],G;switch(O){case"M":return{x:W.x,y:W.y,angle:0};case"Z":case"z":return G=new e.Point(W.x,W.y).lerp(new e.Point(W.destX,W.destY),M),G.angle=Math.atan2(W.destY-W.y,W.destX-W.x),G;case"L":return G=new e.Point(W.x,W.y).lerp(new e.Point(U[1],U[2]),M),G.angle=Math.atan2(U[2]-W.y,U[1]-W.x),G;case"C":return H(W,P);case"Q":return H(W,P)}}function I(T){var P=[],j=[],D,W,M=e.rePathCommand,O="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",U="("+O+")"+e.commaWsp,G="([01])"+e.commaWsp+"?",K=U+"?"+U+"?"+U+G+G+U+"?("+O+")",Y=new RegExp(K,"g"),Z,ie,ae;if(!T||!T.match)return P;ae=T.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var Q=0,X,J=ae.length;Q<J;Q++){D=ae[Q],ie=D.slice(1).trim(),j.length=0;var ne=D.charAt(0);if(X=[ne],ne.toLowerCase()==="a")for(var q;q=Y.exec(ie);)for(var ee=1;ee<q.length;ee++)j.push(q[ee]);else for(;Z=M.exec(ie);)j.push(Z[0]);for(var ee=0,oe=j.length;ee<oe;ee++)W=parseFloat(j[ee]),isNaN(W)||X.push(W);var de=a[ne.toLowerCase()],ue=f[ne]||ne;if(X.length-1>de)for(var re=1,fe=X.length;re<fe;re+=de)P.push([ne].concat(X.slice(re,re+de))),ne=ue;else P.push(X)}return P}function E(T,P){var j=[],D,W=new e.Point(T[0].x,T[0].y),M=new e.Point(T[1].x,T[1].y),O=T.length,U=1,G=0,K=O>2;for(P=P||0,K&&(U=T[2].x<M.x?-1:T[2].x===M.x?0:1,G=T[2].y<M.y?-1:T[2].y===M.y?0:1),j.push(["M",W.x-U*P,W.y-G*P]),D=1;D<O;D++){if(!W.eq(M)){var Y=W.midPointFrom(M);j.push(["Q",W.x,W.y,Y.x,Y.y])}W=T[D],D+1<T.length&&(M=T[D+1])}return K&&(U=W.x>T[D-2].x?1:W.x===T[D-2].x?0:-1,G=W.y>T[D-2].y?1:W.y===T[D-2].y?0:-1),j.push(["L",W.x+U*P,W.y+G*P]),j}function V(T,P,j){return j&&(P=e.util.multiplyTransformMatrices(P,[1,0,0,1,-j.x,-j.y])),T.map(function(D){for(var W=D.slice(0),M={},O=1;O<D.length-1;O+=2)M.x=D[O],M.y=D[O+1],M=e.util.transformPoint(M,P),W[O]=M.x,W[O+1]=M.y;return W})}e.util.joinPath=function(T){return T.map(function(P){return P.join(" ")}).join(" ")},e.util.parsePath=I,e.util.makePathSimpler=v,e.util.getSmoothPathFromPoints=E,e.util.getPathSegmentsInfo=L,e.util.getBoundsOfCurve=u,e.util.getPointOnPath=z,e.util.transformPath=V}(),function(){var o=Array.prototype.slice;function a(u,p){for(var v=o.call(arguments,2),g=[],m=0,y=u.length;m<y;m++)g[m]=v.length?u[m][p].apply(u[m],v):u[m][p].call(u[m]);return g}function f(u,p){return c(u,p,function(v,g){return v>=g})}function h(u,p){return c(u,p,function(v,g){return v<g})}function l(u,p){for(var v=u.length;v--;)u[v]=p;return u}function c(u,p,v){if(!(!u||u.length===0)){var g=u.length-1,m=p?u[g][p]:u[g];if(p)for(;g--;)v(u[g][p],m)&&(m=u[g][p]);else for(;g--;)v(u[g],m)&&(m=u[g]);return m}}e.util.array={fill:l,invoke:a,min:h,max:f}}(),function(){function o(f,h,l){if(l)if(!e.isLikelyNode&&h instanceof Element)f=h;else if(h instanceof Array){f=[];for(var c=0,u=h.length;c<u;c++)f[c]=o({},h[c],l)}else if(h&&typeof h=="object")for(var p in h)p==="canvas"||p==="group"?f[p]=null:h.hasOwnProperty(p)&&(f[p]=o({},h[p],l));else f=h;else for(var p in h)f[p]=h[p];return f}function a(f,h){return o({},f,h)}e.util.object={extend:o,clone:a},e.util.object.extend(e.util,e.Observable)}(),function(){function o(c){return c.replace(/-+(.)?/g,function(u,p){return p?p.toUpperCase():""})}function a(c,u){return c.charAt(0).toUpperCase()+(u?c.slice(1):c.slice(1).toLowerCase())}function f(c){return c.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(c){var u=0,p,v=[];for(u=0,p;u<c.length;u++)(p=l(c,u))!==!1&&v.push(p);return v}function l(c,u){var p=c.charCodeAt(u);if(isNaN(p))return"";if(p<55296||p>57343)return c.charAt(u);if(55296<=p&&p<=56319){if(c.length<=u+1)throw"High surrogate without following low surrogate";var v=c.charCodeAt(u+1);if(56320>v||v>57343)throw"High surrogate without following low surrogate";return c.charAt(u)+c.charAt(u+1)}if(u===0)throw"Low surrogate without preceding high surrogate";var g=c.charCodeAt(u-1);if(55296>g||g>56319)throw"Low surrogate without preceding high surrogate";return!1}e.util.string={camelize:o,capitalize:a,escapeXml:f,graphemeSplit:h}}(),function(){var o=Array.prototype.slice,a=function(){},f=function(){for(var p in{toString:1})if(p==="toString")return!1;return!0}(),h=function(p,v,g){for(var m in v)m in p.prototype&&typeof p.prototype[m]=="function"&&(v[m]+"").indexOf("callSuper")>-1?p.prototype[m]=function(y){return function(){var x=this.constructor.superclass;this.constructor.superclass=g;var b=v[y].apply(this,arguments);if(this.constructor.superclass=x,y!=="initialize")return b}}(m):p.prototype[m]=v[m],f&&(v.toString!==Object.prototype.toString&&(p.prototype.toString=v.toString),v.valueOf!==Object.prototype.valueOf&&(p.prototype.valueOf=v.valueOf))};function l(){}function c(p){for(var v=null,g=this;g.constructor.superclass;){var m=g.constructor.superclass.prototype[p];if(g[p]!==m){v=m;break}g=g.constructor.superclass.prototype}return v?arguments.length>1?v.apply(this,o.call(arguments,1)):v.call(this):console.log("tried to callSuper "+p+", method not found in prototype chain",this)}function u(){var p=null,v=o.call(arguments,0);typeof v[0]=="function"&&(p=v.shift());function g(){this.initialize.apply(this,arguments)}g.superclass=p,g.subclasses=[],p&&(l.prototype=p.prototype,g.prototype=new l,p.subclasses.push(g));for(var m=0,y=v.length;m<y;m++)h(g,v[m],p);return g.prototype.initialize||(g.prototype.initialize=a),g.prototype.constructor=g,g.prototype.callSuper=c,g}e.util.createClass=u}(),function(){var o=!!e.document.createElement("div").attachEvent,a=["touchstart","touchmove","touchend"];e.util.addListener=function(h,l,c,u){h&&h.addEventListener(l,c,o?!1:u)},e.util.removeListener=function(h,l,c,u){h&&h.removeEventListener(l,c,o?!1:u)};function f(h){var l=h.changedTouches;return l&&l[0]?l[0]:h}e.util.getPointer=function(h){var l=h.target,c=e.util.getScrollLeftTop(l),u=f(h);return{x:u.clientX+c.left,y:u.clientY+c.top}},e.util.isTouchEvent=function(h){return a.indexOf(h.type)>-1||h.pointerType==="touch"}}(),function(){function o(u,p){var v=u.style;if(!v)return u;if(typeof p=="string")return u.style.cssText+=";"+p,p.indexOf("opacity")>-1?c(u,p.match(/opacity:\s*(\d?\.?\d*)/)[1]):u;for(var g in p)if(g==="opacity")c(u,p[g]);else{var m=g==="float"||g==="cssFloat"?typeof v.styleFloat>"u"?"cssFloat":"styleFloat":g;v.setProperty(m,p[g])}return u}var a=e.document.createElement("div"),f=typeof a.style.opacity=="string",h=typeof a.style.filter=="string",l=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,c=function(u){return u};f?c=function(u,p){return u.style.opacity=p,u}:h&&(c=function(u,p){var v=u.style;return u.currentStyle&&!u.currentStyle.hasLayout&&(v.zoom=1),l.test(v.filter)?(p=p>=.9999?"":"alpha(opacity="+p*100+")",v.filter=v.filter.replace(l,p)):v.filter+=" alpha(opacity="+p*100+")",u}),e.util.setStyle=o}(),function(){var o=Array.prototype.slice;function a(b){return typeof b=="string"?e.document.getElementById(b):b}var f,h=function(b){return o.call(b,0)};try{f=h(e.document.childNodes)instanceof Array}catch{}f||(h=function(b){for(var w=new Array(b.length),S=b.length;S--;)w[S]=b[S];return w});function l(b,w){var S=e.document.createElement(b);for(var _ in w)_==="class"?S.className=w[_]:_==="for"?S.htmlFor=w[_]:S.setAttribute(_,w[_]);return S}function c(b,w){b&&(" "+b.className+" ").indexOf(" "+w+" ")===-1&&(b.className+=(b.className?" ":"")+w)}function u(b,w,S){return typeof w=="string"&&(w=l(w,S)),b.parentNode&&b.parentNode.replaceChild(w,b),w.appendChild(b),w}function p(b){for(var w=0,S=0,_=e.document.documentElement,C=e.document.body||{scrollLeft:0,scrollTop:0};b&&(b.parentNode||b.host)&&(b=b.parentNode||b.host,b===e.document?(w=C.scrollLeft||_.scrollLeft||0,S=C.scrollTop||_.scrollTop||0):(w+=b.scrollLeft||0,S+=b.scrollTop||0),!(b.nodeType===1&&b.style.position==="fixed")););return{left:w,top:S}}function v(b){var w,S=b&&b.ownerDocument,_={left:0,top:0},C={left:0,top:0},k,A={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!S)return C;for(var F in A)C[A[F]]+=parseInt(g(b,F),10)||0;return w=S.documentElement,typeof b.getBoundingClientRect<"u"&&(_=b.getBoundingClientRect()),k=p(b),{left:_.left+k.left-(w.clientLeft||0)+C.left,top:_.top+k.top-(w.clientTop||0)+C.top}}var g;e.document.defaultView&&e.document.defaultView.getComputedStyle?g=function(b,w){var S=e.document.defaultView.getComputedStyle(b,null);return S?S[w]:void 0}:g=function(b,w){var S=b.style[w];return!S&&b.currentStyle&&(S=b.currentStyle[w]),S},function(){var b=e.document.documentElement.style,w="userSelect"in b?"userSelect":"MozUserSelect"in b?"MozUserSelect":"WebkitUserSelect"in b?"WebkitUserSelect":"KhtmlUserSelect"in b?"KhtmlUserSelect":"";function S(C){return typeof C.onselectstart<"u"&&(C.onselectstart=e.util.falseFunction),w?C.style[w]="none":typeof C.unselectable=="string"&&(C.unselectable="on"),C}function _(C){return typeof C.onselectstart<"u"&&(C.onselectstart=null),w?C.style[w]="":typeof C.unselectable=="string"&&(C.unselectable=""),C}e.util.makeElementUnselectable=S,e.util.makeElementSelectable=_}();function m(b){var w=e.jsdomImplForWrapper(b);return w._canvas||w._image}function y(b){if(e.isLikelyNode){var w=e.jsdomImplForWrapper(b);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function x(b,w){b.imageSmoothingEnabled=b.imageSmoothingEnabled||b.webkitImageSmoothingEnabled||b.mozImageSmoothingEnabled||b.msImageSmoothingEnabled||b.oImageSmoothingEnabled,b.imageSmoothingEnabled=w}e.util.setImageSmoothing=x,e.util.getById=a,e.util.toArray=h,e.util.addClass=c,e.util.makeElement=l,e.util.wrapElement=u,e.util.getScrollLeftTop=p,e.util.getElementOffset=v,e.util.getNodeCanvas=m,e.util.cleanUpJsdomNode=y}(),function(){function o(h,l){return h+(/\?/.test(h)?"&":"?")+l}function a(){}function f(h,l){l||(l={});var c=l.method?l.method.toUpperCase():"GET",u=l.onComplete||function(){},p=new e.window.XMLHttpRequest,v=l.body||l.parameters;return p.onreadystatechange=function(){p.readyState===4&&(u(p),p.onreadystatechange=a)},c==="GET"&&(v=null,typeof l.parameters=="string"&&(h=o(h,l.parameters))),p.open(c,h,!0),(c==="POST"||c==="PUT")&&p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.send(v),p}e.util.request=f}(),e.log=console.log,e.warn=console.warn,function(){var o=e.util.object.extend,a=e.util.object.clone,f=[];e.util.object.extend(f,{cancelAll:function(){var m=this.splice(0);return m.forEach(function(y){y.cancel()}),m},cancelByCanvas:function(m){if(!m)return[];var y=this.filter(function(x){return typeof x.target=="object"&&x.target.canvas===m});return y.forEach(function(x){x.cancel()}),y},cancelByTarget:function(m){var y=this.findAnimationsByTarget(m);return y.forEach(function(x){x.cancel()}),y},findAnimationIndex:function(m){return this.indexOf(this.findAnimation(m))},findAnimation:function(m){return this.find(function(y){return y.cancel===m})},findAnimationsByTarget:function(m){return m?this.filter(function(y){return y.target===m}):[]}});function h(){return!1}function l(m,y,x,b){return-x*Math.cos(m/b*(Math.PI/2))+x+y}function c(m){m||(m={});var y=!1,x,b=function(){var w=e.runningAnimations.indexOf(x);return w>-1&&e.runningAnimations.splice(w,1)[0]};return x=o(a(m),{cancel:function(){return y=!0,b()},currentValue:"startValue"in m?m.startValue:0,completionRate:0,durationRate:0}),e.runningAnimations.push(x),v(function(w){var S=w||+new Date,_=m.duration||500,C=S+_,k,A=m.onChange||h,F=m.abort||h,B=m.onComplete||h,H=m.easing||l,L="startValue"in m?m.startValue.length>0:!1,z="startValue"in m?m.startValue:0,I="endValue"in m?m.endValue:100,E=m.byValue||(L?z.map(function(V,T){return I[T]-z[T]}):I-z);m.onStart&&m.onStart(),function V(T){k=T||+new Date;var P=k>C?_:k-S,j=P/_,D=L?z.map(function(M,O){return H(P,z[O],E[O],_)}):H(P,z,E,_),W=Math.abs(L?(D[0]-z[0])/E[0]:(D-z)/E);if(x.currentValue=L?D.slice():D,x.completionRate=W,x.durationRate=j,!y){if(F(D,W,j)){b();return}if(k>C){x.currentValue=L?I.slice():I,x.completionRate=1,x.durationRate=1,A(L?I.slice():I,1,1),B(I,1,1),b();return}else A(D,W,j),v(V)}}(S)}),x.cancel}var u=e.window.requestAnimationFrame||e.window.webkitRequestAnimationFrame||e.window.mozRequestAnimationFrame||e.window.oRequestAnimationFrame||e.window.msRequestAnimationFrame||function(m){return e.window.setTimeout(m,1e3/60)},p=e.window.cancelAnimationFrame||e.window.clearTimeout;function v(){return u.apply(e.window,arguments)}function g(){return p.apply(e.window,arguments)}e.util.animate=c,e.util.requestAnimFrame=v,e.util.cancelAnimFrame=g,e.runningAnimations=f}(),function(){function o(f,h,l){var c="rgba("+parseInt(f[0]+l*(h[0]-f[0]),10)+","+parseInt(f[1]+l*(h[1]-f[1]),10)+","+parseInt(f[2]+l*(h[2]-f[2]),10);return c+=","+(f&&h?parseFloat(f[3]+l*(h[3]-f[3])):1),c+=")",c}function a(f,h,l,c){var u=new e.Color(f).getSource(),p=new e.Color(h).getSource(),v=c.onComplete,g=c.onChange;return c=c||{},e.util.animate(e.util.object.extend(c,{duration:l||500,startValue:u,endValue:p,byValue:p,easing:function(m,y,x,b){var w=c.colorEasing?c.colorEasing(m,b):1-Math.cos(m/b*(Math.PI/2));return o(y,x,w)},onComplete:function(m,y,x){if(v)return v(o(p,p,0),y,x)},onChange:function(m,y,x){if(g){if(Array.isArray(m))return g(o(m,m,0),y,x);g(m,y,x)}}}))}e.util.animateColor=a}(),function(){function o(T,P,j,D){return T<Math.abs(P)?(T=P,D=j/4):P===0&&T===0?D=j/(2*Math.PI)*Math.asin(1):D=j/(2*Math.PI)*Math.asin(P/T),{a:T,c:P,p:j,s:D}}function a(T,P,j){return T.a*Math.pow(2,10*(P-=1))*Math.sin((P*j-T.s)*(2*Math.PI)/T.p)}function f(T,P,j,D){return j*((T=T/D-1)*T*T+1)+P}function h(T,P,j,D){return T/=D/2,T<1?j/2*T*T*T+P:j/2*((T-=2)*T*T+2)+P}function l(T,P,j,D){return j*(T/=D)*T*T*T+P}function c(T,P,j,D){return-j*((T=T/D-1)*T*T*T-1)+P}function u(T,P,j,D){return T/=D/2,T<1?j/2*T*T*T*T+P:-j/2*((T-=2)*T*T*T-2)+P}function p(T,P,j,D){return j*(T/=D)*T*T*T*T+P}function v(T,P,j,D){return j*((T=T/D-1)*T*T*T*T+1)+P}function g(T,P,j,D){return T/=D/2,T<1?j/2*T*T*T*T*T+P:j/2*((T-=2)*T*T*T*T+2)+P}function m(T,P,j,D){return-j*Math.cos(T/D*(Math.PI/2))+j+P}function y(T,P,j,D){return j*Math.sin(T/D*(Math.PI/2))+P}function x(T,P,j,D){return-j/2*(Math.cos(Math.PI*T/D)-1)+P}function b(T,P,j,D){return T===0?P:j*Math.pow(2,10*(T/D-1))+P}function w(T,P,j,D){return T===D?P+j:j*(-Math.pow(2,-10*T/D)+1)+P}function S(T,P,j,D){return T===0?P:T===D?P+j:(T/=D/2,T<1?j/2*Math.pow(2,10*(T-1))+P:j/2*(-Math.pow(2,-10*--T)+2)+P)}function _(T,P,j,D){return-j*(Math.sqrt(1-(T/=D)*T)-1)+P}function C(T,P,j,D){return j*Math.sqrt(1-(T=T/D-1)*T)+P}function k(T,P,j,D){return T/=D/2,T<1?-j/2*(Math.sqrt(1-T*T)-1)+P:j/2*(Math.sqrt(1-(T-=2)*T)+1)+P}function A(T,P,j,D){var W=1.70158,M=0,O=j;if(T===0)return P;if(T/=D,T===1)return P+j;M||(M=D*.3);var U=o(O,j,M,W);return-a(U,T,D)+P}function F(T,P,j,D){var W=1.70158,M=0,O=j;if(T===0)return P;if(T/=D,T===1)return P+j;M||(M=D*.3);var U=o(O,j,M,W);return U.a*Math.pow(2,-10*T)*Math.sin((T*D-U.s)*(2*Math.PI)/U.p)+U.c+P}function B(T,P,j,D){var W=1.70158,M=0,O=j;if(T===0)return P;if(T/=D/2,T===2)return P+j;M||(M=D*(.3*1.5));var U=o(O,j,M,W);return T<1?-.5*a(U,T,D)+P:U.a*Math.pow(2,-10*(T-=1))*Math.sin((T*D-U.s)*(2*Math.PI)/U.p)*.5+U.c+P}function H(T,P,j,D,W){return W===void 0&&(W=1.70158),j*(T/=D)*T*((W+1)*T-W)+P}function L(T,P,j,D,W){return W===void 0&&(W=1.70158),j*((T=T/D-1)*T*((W+1)*T+W)+1)+P}function z(T,P,j,D,W){return W===void 0&&(W=1.70158),T/=D/2,T<1?j/2*(T*T*(((W*=1.525)+1)*T-W))+P:j/2*((T-=2)*T*(((W*=1.525)+1)*T+W)+2)+P}function I(T,P,j,D){return j-E(D-T,0,j,D)+P}function E(T,P,j,D){return(T/=D)<1/2.75?j*(7.5625*T*T)+P:T<2/2.75?j*(7.5625*(T-=1.5/2.75)*T+.75)+P:T<2.5/2.75?j*(7.5625*(T-=2.25/2.75)*T+.9375)+P:j*(7.5625*(T-=2.625/2.75)*T+.984375)+P}function V(T,P,j,D){return T<D/2?I(T*2,0,j,D)*.5+P:E(T*2-D,0,j,D)*.5+j*.5+P}e.util.ease={easeInQuad:function(T,P,j,D){return j*(T/=D)*T+P},easeOutQuad:function(T,P,j,D){return-j*(T/=D)*(T-2)+P},easeInOutQuad:function(T,P,j,D){return T/=D/2,T<1?j/2*T*T+P:-j/2*(--T*(T-2)-1)+P},easeInCubic:function(T,P,j,D){return j*(T/=D)*T*T+P},easeOutCubic:f,easeInOutCubic:h,easeInQuart:l,easeOutQuart:c,easeInOutQuart:u,easeInQuint:p,easeOutQuint:v,easeInOutQuint:g,easeInSine:m,easeOutSine:y,easeInOutSine:x,easeInExpo:b,easeOutExpo:w,easeInOutExpo:S,easeInCirc:_,easeOutCirc:C,easeInOutCirc:k,easeInElastic:A,easeOutElastic:F,easeInOutElastic:B,easeInBack:H,easeOutBack:L,easeInOutBack:z,easeInBounce:I,easeOutBounce:E,easeInOutBounce:V}}(),function(o){var a=o.fabric||(o.fabric={}),f=a.util.object.extend,h=a.util.object.clone,l=a.util.toFixed,c=a.util.parseUnit,u=a.util.multiplyTransformMatrices,p=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],v=["symbol","image","marker","pattern","view","svg"],g=["pattern","defs","symbol","metadata","clipPath","mask","desc"],m=["symbol","g","a","svg","clipPath","defs"],y={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},x={stroke:"strokeOpacity",fill:"fillOpacity"},b="font-size",w="clip-path";a.svgValidTagNamesRegEx=C(p),a.svgViewBoxElementsRegEx=C(v),a.svgInvalidAncestorsRegEx=C(g),a.svgValidParentsRegEx=C(m),a.cssRules={},a.gradientDefs={},a.clipPaths={};function S(M){return M in y?y[M]:M}function _(M,O,U,G){var K=Array.isArray(O),Y;if((M==="fill"||M==="stroke")&&O==="none")O="";else{if(M==="strokeUniform")return O==="non-scaling-stroke";if(M==="strokeDashArray")O==="none"?O=null:O=O.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(M==="transformMatrix")U&&U.transformMatrix?O=u(U.transformMatrix,a.parseTransformAttribute(O)):O=a.parseTransformAttribute(O);else if(M==="visible")O=O!=="none"&&O!=="hidden",U&&U.visible===!1&&(O=!1);else if(M==="opacity")O=parseFloat(O),U&&typeof U.opacity<"u"&&(O*=U.opacity);else if(M==="textAnchor")O=O==="start"?"left":O==="end"?"right":"center";else if(M==="charSpacing")Y=c(O,G)/G*1e3;else if(M==="paintFirst"){var Z=O.indexOf("fill"),ie=O.indexOf("stroke"),O="fill";(Z>-1&&ie>-1&&ie<Z||Z===-1&&ie>-1)&&(O="stroke")}else{if(M==="href"||M==="xlink:href"||M==="font")return O;if(M==="imageSmoothing")return O==="optimizeQuality";Y=K?O.map(c):c(O,G)}}return!K&&isNaN(Y)?O:Y}function C(M){return new RegExp("^("+M.join("|")+")\\b","i")}function k(M){for(var O in x)if(!(typeof M[x[O]]>"u"||M[O]==="")){if(typeof M[O]>"u"){if(!a.Object.prototype[O])continue;M[O]=a.Object.prototype[O]}if(M[O].indexOf("url(")!==0){var U=new a.Color(M[O]);M[O]=U.setAlpha(l(U.getAlpha()*M[x[O]],2)).toRgba()}}return M}function A(M,O){var U,G=[],K,Y,Z;for(Y=0,Z=O.length;Y<Z;Y++)U=O[Y],K=M.getElementsByTagName(U),G=G.concat(Array.prototype.slice.call(K));return G}a.parseTransformAttribute=function(){function M(re,fe){var te=a.util.cos(fe[0]),le=a.util.sin(fe[0]),ge=0,me=0;fe.length===3&&(ge=fe[1],me=fe[2]),re[0]=te,re[1]=le,re[2]=-le,re[3]=te,re[4]=ge-(te*ge-le*me),re[5]=me-(le*ge+te*me)}function O(re,fe){var te=fe[0],le=fe.length===2?fe[1]:fe[0];re[0]=te,re[3]=le}function U(re,fe,te){re[te]=Math.tan(a.util.degreesToRadians(fe[0]))}function G(re,fe){re[4]=fe[0],fe.length===2&&(re[5]=fe[1])}var K=a.iMatrix,Y=a.reNum,Z=a.commaWsp,ie="(?:(skewX)\\s*\\(\\s*("+Y+")\\s*\\))",ae="(?:(skewY)\\s*\\(\\s*("+Y+")\\s*\\))",Q="(?:(rotate)\\s*\\(\\s*("+Y+")(?:"+Z+"("+Y+")"+Z+"("+Y+"))?\\s*\\))",X="(?:(scale)\\s*\\(\\s*("+Y+")(?:"+Z+"("+Y+"))?\\s*\\))",J="(?:(translate)\\s*\\(\\s*("+Y+")(?:"+Z+"("+Y+"))?\\s*\\))",ne="(?:(matrix)\\s*\\(\\s*("+Y+")"+Z+"("+Y+")"+Z+"("+Y+")"+Z+"("+Y+")"+Z+"("+Y+")"+Z+"("+Y+")\\s*\\))",q="(?:"+ne+"|"+J+"|"+X+"|"+Q+"|"+ie+"|"+ae+")",ee="(?:"+q+"(?:"+Z+"*"+q+")*)",oe="^\\s*(?:"+ee+"?)\\s*$",de=new RegExp(oe),ue=new RegExp(q,"g");return function(re){var fe=K.concat(),te=[];if(!re||re&&!de.test(re))return fe;re.replace(ue,function(ge){var me=new RegExp(q).exec(ge).filter(function(De){return!!De}),Se=me[1],Ee=me.slice(2).map(parseFloat);switch(Se){case"translate":G(fe,Ee);break;case"rotate":Ee[0]=a.util.degreesToRadians(Ee[0]),M(fe,Ee);break;case"scale":O(fe,Ee);break;case"skewX":U(fe,Ee,2);break;case"skewY":U(fe,Ee,1);break;case"matrix":fe=Ee;break}te.push(fe.concat()),fe=K.concat()});for(var le=te[0];te.length>1;)te.shift(),le=a.util.multiplyTransformMatrices(le,te[0]);return le}}();function F(M,O){var U,G;M.replace(/;\s*$/,"").split(";").forEach(function(K){var Y=K.split(":");U=Y[0].trim().toLowerCase(),G=Y[1].trim(),O[U]=G})}function B(M,O){var U,G;for(var K in M)typeof M[K]>"u"||(U=K.toLowerCase(),G=M[K],O[U]=G)}function H(M,O){var U={};for(var G in a.cssRules[O])if(L(M,G.split(" ")))for(var K in a.cssRules[O][G])U[K]=a.cssRules[O][G][K];return U}function L(M,O){var U,G=!0;return U=I(M,O.pop()),U&&O.length&&(G=z(M,O)),U&&G&&O.length===0}function z(M,O){for(var U,G=!0;M.parentNode&&M.parentNode.nodeType===1&&O.length;)G&&(U=O.pop()),M=M.parentNode,G=I(M,U);return O.length===0}function I(M,O){var U=M.nodeName,G=M.getAttribute("class"),K=M.getAttribute("id"),Y,Z;if(Y=new RegExp("^"+U,"i"),O=O.replace(Y,""),K&&O.length&&(Y=new RegExp("#"+K+"(?![a-zA-Z\\-]+)","i"),O=O.replace(Y,"")),G&&O.length)for(G=G.split(" "),Z=G.length;Z--;)Y=new RegExp("\\."+G[Z]+"(?![a-zA-Z\\-]+)","i"),O=O.replace(Y,"");return O.length===0}function E(M,O){var U;if(M.getElementById&&(U=M.getElementById(O)),U)return U;var G,K,Y,Z=M.getElementsByTagName("*");for(K=0,Y=Z.length;K<Y;K++)if(G=Z[K],O===G.getAttribute("id"))return G}function V(M){for(var O=A(M,["use","svg:use"]),U=0;O.length&&U<O.length;){var G=O[U],K=G.getAttribute("xlink:href")||G.getAttribute("href");if(K===null)return;var Y=K.slice(1),Z=G.getAttribute("x")||0,ie=G.getAttribute("y")||0,ae=E(M,Y).cloneNode(!0),Q=(ae.getAttribute("transform")||"")+" translate("+Z+", "+ie+")",X,J=O.length,ne,q,ee,oe,de=a.svgNS;if(P(ae),/^svg$/i.test(ae.nodeName)){var ue=ae.ownerDocument.createElementNS(de,"g");for(q=0,ee=ae.attributes,oe=ee.length;q<oe;q++)ne=ee.item(q),ue.setAttributeNS(de,ne.nodeName,ne.nodeValue);for(;ae.firstChild;)ue.appendChild(ae.firstChild);ae=ue}for(q=0,ee=G.attributes,oe=ee.length;q<oe;q++)ne=ee.item(q),!(ne.nodeName==="x"||ne.nodeName==="y"||ne.nodeName==="xlink:href"||ne.nodeName==="href")&&(ne.nodeName==="transform"?Q=ne.nodeValue+" "+Q:ae.setAttribute(ne.nodeName,ne.nodeValue));ae.setAttribute("transform",Q),ae.setAttribute("instantiated_by_use","1"),ae.removeAttribute("id"),X=G.parentNode,X.replaceChild(ae,G),O.length===J&&U++}}var T=new RegExp("^\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*$");function P(M){if(!a.svgViewBoxElementsRegEx.test(M.nodeName))return{};var O=M.getAttribute("viewBox"),U=1,G=1,K=0,Y=0,Z,ie,ae,Q,X=M.getAttribute("width"),J=M.getAttribute("height"),ne=M.getAttribute("x")||0,q=M.getAttribute("y")||0,ee=M.getAttribute("preserveAspectRatio")||"",oe=!O||!(O=O.match(T)),de=!X||!J||X==="100%"||J==="100%",ue=oe&&de,re={},fe="",te=0,le=0;if(re.width=0,re.height=0,re.toBeParsed=ue,oe&&(ne||q)&&M.parentNode&&M.parentNode.nodeName!=="#document"&&(fe=" translate("+c(ne)+" "+c(q)+") ",ae=(M.getAttribute("transform")||"")+fe,M.setAttribute("transform",ae),M.removeAttribute("x"),M.removeAttribute("y")),ue)return re;if(oe)return re.width=c(X),re.height=c(J),re;if(K=-parseFloat(O[1]),Y=-parseFloat(O[2]),Z=parseFloat(O[3]),ie=parseFloat(O[4]),re.minX=K,re.minY=Y,re.viewBoxWidth=Z,re.viewBoxHeight=ie,de?(re.width=Z,re.height=ie):(re.width=c(X),re.height=c(J),U=re.width/Z,G=re.height/ie),ee=a.util.parsePreserveAspectRatioAttribute(ee),ee.alignX!=="none"&&(ee.meetOrSlice==="meet"&&(G=U=U>G?G:U),ee.meetOrSlice==="slice"&&(G=U=U>G?U:G),te=re.width-Z*U,le=re.height-ie*U,ee.alignX==="Mid"&&(te/=2),ee.alignY==="Mid"&&(le/=2),ee.alignX==="Min"&&(te=0),ee.alignY==="Min"&&(le=0)),U===1&&G===1&&K===0&&Y===0&&ne===0&&q===0)return re;if((ne||q)&&M.parentNode.nodeName!=="#document"&&(fe=" translate("+c(ne)+" "+c(q)+") "),ae=fe+" matrix("+U+" 0 0 "+G+" "+(K*U+te)+" "+(Y*G+le)+") ",M.nodeName==="svg"){for(Q=M.ownerDocument.createElementNS(a.svgNS,"g");M.firstChild;)Q.appendChild(M.firstChild);M.appendChild(Q)}else Q=M,Q.removeAttribute("x"),Q.removeAttribute("y"),ae=Q.getAttribute("transform")+ae;return Q.setAttribute("transform",ae),re}function j(M,O){for(;M&&(M=M.parentNode);)if(M.nodeName&&O.test(M.nodeName.replace("svg:",""))&&!M.getAttribute("instantiated_by_use"))return!0;return!1}a.parseSVGDocument=function(M,O,U,G){if(M){V(M);var K=a.Object.__uid++,Y,Z,ie=P(M),ae=a.util.toArray(M.getElementsByTagName("*"));if(ie.crossOrigin=G&&G.crossOrigin,ie.svgUid=K,ae.length===0&&a.isLikelyNode){ae=M.selectNodes('//*[name(.)!="svg"]');var Q=[];for(Y=0,Z=ae.length;Y<Z;Y++)Q[Y]=ae[Y];ae=Q}var X=ae.filter(function(ne){return P(ne),a.svgValidTagNamesRegEx.test(ne.nodeName.replace("svg:",""))&&!j(ne,a.svgInvalidAncestorsRegEx)});if(!X||X&&!X.length){O&&O([],{});return}var J={};ae.filter(function(ne){return ne.nodeName.replace("svg:","")==="clipPath"}).forEach(function(ne){var q=ne.getAttribute("id");J[q]=a.util.toArray(ne.getElementsByTagName("*")).filter(function(ee){return a.svgValidTagNamesRegEx.test(ee.nodeName.replace("svg:",""))})}),a.gradientDefs[K]=a.getGradientDefs(M),a.cssRules[K]=a.getCSSRules(M),a.clipPaths[K]=J,a.parseElements(X,function(ne,q){O&&(O(ne,ie,q,ae),delete a.gradientDefs[K],delete a.cssRules[K],delete a.clipPaths[K])},h(ie),U,G)}};function D(M,O){var U=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],G="xlink:href",K=O.getAttribute(G).slice(1),Y=E(M,K);if(Y&&Y.getAttribute(G)&&D(M,Y),U.forEach(function(ie){Y&&!O.hasAttribute(ie)&&Y.hasAttribute(ie)&&O.setAttribute(ie,Y.getAttribute(ie))}),!O.children.length)for(var Z=Y.cloneNode(!0);Z.firstChild;)O.appendChild(Z.firstChild);O.removeAttribute(G)}var W=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+a.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+a.reNum+"))?\\s+(.*)");f(a,{parseFontDeclaration:function(M,O){var U=M.match(W);if(U){var G=U[1],K=U[3],Y=U[4],Z=U[5],ie=U[6];G&&(O.fontStyle=G),K&&(O.fontWeight=isNaN(parseFloat(K))?K:parseFloat(K)),Y&&(O.fontSize=c(Y)),ie&&(O.fontFamily=ie),Z&&(O.lineHeight=Z==="normal"?1:Z)}},getGradientDefs:function(M){var O=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],U=A(M,O),G,K=0,Y={};for(K=U.length;K--;)G=U[K],G.getAttribute("xlink:href")&&D(M,G),Y[G.getAttribute("id")]=G;return Y},parseAttributes:function(M,O,U){if(M){var G,K={},Y,Z;typeof U>"u"&&(U=M.getAttribute("svgUid")),M.parentNode&&a.svgValidParentsRegEx.test(M.parentNode.nodeName)&&(K=a.parseAttributes(M.parentNode,O,U));var ie=O.reduce(function(ee,oe){return G=M.getAttribute(oe),G&&(ee[oe]=G),ee},{}),ae=f(H(M,U),a.parseStyleAttribute(M));ie=f(ie,ae),ae[w]&&M.setAttribute(w,ae[w]),Y=Z=K.fontSize||a.Text.DEFAULT_SVG_FONT_SIZE,ie[b]&&(ie[b]=Y=c(ie[b],Z));var Q,X,J={};for(var ne in ie)Q=S(ne),X=_(Q,ie[ne],K,Y),J[Q]=X;J&&J.font&&a.parseFontDeclaration(J.font,J);var q=f(K,J);return a.svgValidParentsRegEx.test(M.nodeName)?q:k(q)}},parseElements:function(M,O,U,G,K){new a.ElementsParser(M,O,U,G,K).parse()},parseStyleAttribute:function(M){var O={},U=M.getAttribute("style");return U&&(typeof U=="string"?F(U,O):B(U,O)),O},parsePointsAttribute:function(M){if(!M)return null;M=M.replace(/,/g," ").trim(),M=M.split(/\s+/);var O=[],U,G;for(U=0,G=M.length;U<G;U+=2)O.push({x:parseFloat(M[U]),y:parseFloat(M[U+1])});return O},getCSSRules:function(M){var O=M.getElementsByTagName("style"),U,G,K={},Y;for(U=0,G=O.length;U<G;U++){var Z=O[U].textContent;Z=Z.replace(/\/\*[\s\S]*?\*\//g,""),Z.trim()!==""&&(Y=Z.split("}"),Y=Y.filter(function(ie){return ie.trim()}),Y.forEach(function(ie){var ae=ie.split("{"),Q={},X=ae[1].trim(),J=X.split(";").filter(function(oe){return oe.trim()});for(U=0,G=J.length;U<G;U++){var ne=J[U].split(":"),q=ne[0].trim(),ee=ne[1].trim();Q[q]=ee}ie=ae[0].trim(),ie.split(",").forEach(function(oe){oe=oe.replace(/^svg/i,"").trim(),oe!==""&&(K[oe]?a.util.object.extend(K[oe],Q):K[oe]=a.util.object.clone(Q))})}))}return K},loadSVGFromURL:function(M,O,U,G){M=M.replace(/^\n\s*/,"").trim(),new a.util.request(M,{method:"get",onComplete:K});function K(Y){var Z=Y.responseXML;if(!Z||!Z.documentElement)return O&&O(null),!1;a.parseSVGDocument(Z.documentElement,function(ie,ae,Q,X){O&&O(ie,ae,Q,X)},U,G)}},loadSVGFromString:function(M,O,U,G){var K=new a.window.DOMParser,Y=K.parseFromString(M.trim(),"text/xml");a.parseSVGDocument(Y.documentElement,function(Z,ie,ae,Q){O(Z,ie,ae,Q)},U,G)}})}(t),e.ElementsParser=function(o,a,f,h,l,c){this.elements=o,this.callback=a,this.options=f,this.reviver=h,this.svgUid=f&&f.svgUid||0,this.parsingOptions=l,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=c},function(o){o.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},o.createObjects=function(){var a=this;this.elements.forEach(function(f,h){f.setAttribute("svgUid",a.svgUid),a.createObject(f,h)})},o.findTag=function(a){return e[e.util.string.capitalize(a.tagName.replace("svg:",""))]},o.createObject=function(a,f){var h=this.findTag(a);if(h&&h.fromElement)try{h.fromElement(a,this.createCallback(f,a),this.options)}catch(l){e.log(l)}else this.checkIfDone()},o.createCallback=function(a,f){var h=this;return function(l){var c;h.resolveGradient(l,f,"fill"),h.resolveGradient(l,f,"stroke"),l instanceof e.Image&&l._originalElement&&(c=l.parsePreserveAspectRatioAttribute(f)),l._removeTransformMatrix(c),h.resolveClipPath(l,f),h.reviver&&h.reviver(f,l),h.instances[a]=l,h.checkIfDone()}},o.extractPropertyDefinition=function(a,f,h){var l=a[f],c=this.regexUrl;if(c.test(l)){c.lastIndex=0;var u=c.exec(l)[1];return c.lastIndex=0,e[h][this.svgUid][u]}},o.resolveGradient=function(a,f,h){var l=this.extractPropertyDefinition(a,h,"gradientDefs");if(l){var c=f.getAttribute(h+"-opacity"),u=e.Gradient.fromElement(l,a,c,this.options);a.set(h,u)}},o.createClipPathCallback=function(a,f){return function(h){h._removeTransformMatrix(),h.fillRule=h.clipRule,f.push(h)}},o.resolveClipPath=function(a,f){var h=this.extractPropertyDefinition(a,"clipPath","clipPaths"),l,c,u,p,v,g;if(h){p=[],u=e.util.invertTransform(a.calcTransformMatrix());for(var m=h[0].parentNode,y=f;y.parentNode&&y.getAttribute("clip-path")!==a.clipPath;)y=y.parentNode;y.parentNode.appendChild(m);for(var x=0;x<h.length;x++)l=h[x],c=this.findTag(l),c.fromElement(l,this.createClipPathCallback(a,p),this.options);p.length===1?h=p[0]:h=new e.Group(p),v=e.util.multiplyTransformMatrices(u,h.calcTransformMatrix()),h.clipPath&&this.resolveClipPath(h,y);var g=e.util.qrDecompose(v);h.flipX=!1,h.flipY=!1,h.set("scaleX",g.scaleX),h.set("scaleY",g.scaleY),h.angle=g.angle,h.skewX=g.skewX,h.skewY=0,h.setPositionByOrigin({x:g.translateX,y:g.translateY},"center","center"),a.clipPath=h}else delete a.clipPath},o.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(a){return a!=null}),this.callback(this.instances,this.elements))}}(e.ElementsParser.prototype),function(o){var a=o.fabric||(o.fabric={});if(a.Point){a.warn("fabric.Point is already defined");return}a.Point=f;function f(h,l){this.x=h,this.y=l}f.prototype={type:"point",constructor:f,add:function(h){return new f(this.x+h.x,this.y+h.y)},addEquals:function(h){return this.x+=h.x,this.y+=h.y,this},scalarAdd:function(h){return new f(this.x+h,this.y+h)},scalarAddEquals:function(h){return this.x+=h,this.y+=h,this},subtract:function(h){return new f(this.x-h.x,this.y-h.y)},subtractEquals:function(h){return this.x-=h.x,this.y-=h.y,this},scalarSubtract:function(h){return new f(this.x-h,this.y-h)},scalarSubtractEquals:function(h){return this.x-=h,this.y-=h,this},multiply:function(h){return new f(this.x*h,this.y*h)},multiplyEquals:function(h){return this.x*=h,this.y*=h,this},divide:function(h){return new f(this.x/h,this.y/h)},divideEquals:function(h){return this.x/=h,this.y/=h,this},eq:function(h){return this.x===h.x&&this.y===h.y},lt:function(h){return this.x<h.x&&this.y<h.y},lte:function(h){return this.x<=h.x&&this.y<=h.y},gt:function(h){return this.x>h.x&&this.y>h.y},gte:function(h){return this.x>=h.x&&this.y>=h.y},lerp:function(h,l){return typeof l>"u"&&(l=.5),l=Math.max(Math.min(1,l),0),new f(this.x+(h.x-this.x)*l,this.y+(h.y-this.y)*l)},distanceFrom:function(h){var l=this.x-h.x,c=this.y-h.y;return Math.sqrt(l*l+c*c)},midPointFrom:function(h){return this.lerp(h)},min:function(h){return new f(Math.min(this.x,h.x),Math.min(this.y,h.y))},max:function(h){return new f(Math.max(this.x,h.x),Math.max(this.y,h.y))},toString:function(){return this.x+","+this.y},setXY:function(h,l){return this.x=h,this.y=l,this},setX:function(h){return this.x=h,this},setY:function(h){return this.y=h,this},setFromPoint:function(h){return this.x=h.x,this.y=h.y,this},swap:function(h){var l=this.x,c=this.y;this.x=h.x,this.y=h.y,h.x=l,h.y=c},clone:function(){return new f(this.x,this.y)}}}(t),function(o){var a=o.fabric||(o.fabric={});if(a.Intersection){a.warn("fabric.Intersection is already defined");return}function f(h){this.status=h,this.points=[]}a.Intersection=f,a.Intersection.prototype={constructor:f,appendPoint:function(h){return this.points.push(h),this},appendPoints:function(h){return this.points=this.points.concat(h),this}},a.Intersection.intersectLineLine=function(h,l,c,u){var p,v=(u.x-c.x)*(h.y-c.y)-(u.y-c.y)*(h.x-c.x),g=(l.x-h.x)*(h.y-c.y)-(l.y-h.y)*(h.x-c.x),m=(u.y-c.y)*(l.x-h.x)-(u.x-c.x)*(l.y-h.y);if(m!==0){var y=v/m,x=g/m;0<=y&&y<=1&&0<=x&&x<=1?(p=new f("Intersection"),p.appendPoint(new a.Point(h.x+y*(l.x-h.x),h.y+y*(l.y-h.y)))):p=new f}else v===0||g===0?p=new f("Coincident"):p=new f("Parallel");return p},a.Intersection.intersectLinePolygon=function(h,l,c){var u=new f,p=c.length,v,g,m,y;for(y=0;y<p;y++)v=c[y],g=c[(y+1)%p],m=f.intersectLineLine(h,l,v,g),u.appendPoints(m.points);return u.points.length>0&&(u.status="Intersection"),u},a.Intersection.intersectPolygonPolygon=function(h,l){var c=new f,u=h.length,p;for(p=0;p<u;p++){var v=h[p],g=h[(p+1)%u],m=f.intersectLinePolygon(v,g,l);c.appendPoints(m.points)}return c.points.length>0&&(c.status="Intersection"),c},a.Intersection.intersectPolygonRectangle=function(h,l,c){var u=l.min(c),p=l.max(c),v=new a.Point(p.x,u.y),g=new a.Point(u.x,p.y),m=f.intersectLinePolygon(u,v,h),y=f.intersectLinePolygon(v,p,h),x=f.intersectLinePolygon(p,g,h),b=f.intersectLinePolygon(g,u,h),w=new f;return w.appendPoints(m.points),w.appendPoints(y.points),w.appendPoints(x.points),w.appendPoints(b.points),w.points.length>0&&(w.status="Intersection"),w}}(t),function(o){var a=o.fabric||(o.fabric={});if(a.Color){a.warn("fabric.Color is already defined.");return}function f(l){l?this._tryParsingColor(l):this.setSource([0,0,0,1])}a.Color=f,a.Color.prototype={_tryParsingColor:function(l){var c;l in f.colorNameMap&&(l=f.colorNameMap[l]),l==="transparent"&&(c=[255,255,255,0]),c||(c=f.sourceFromHex(l)),c||(c=f.sourceFromRgb(l)),c||(c=f.sourceFromHsl(l)),c||(c=[0,0,0,1]),c&&this.setSource(c)},_rgbToHsl:function(l,c,u){l/=255,c/=255,u/=255;var p,v,g,m=a.util.array.max([l,c,u]),y=a.util.array.min([l,c,u]);if(g=(m+y)/2,m===y)p=v=0;else{var x=m-y;switch(v=g>.5?x/(2-m-y):x/(m+y),m){case l:p=(c-u)/x+(c<u?6:0);break;case c:p=(u-l)/x+2;break;case u:p=(l-c)/x+4;break}p/=6}return[Math.round(p*360),Math.round(v*100),Math.round(g*100)]},getSource:function(){return this._source},setSource:function(l){this._source=l},toRgb:function(){var l=this.getSource();return"rgb("+l[0]+","+l[1]+","+l[2]+")"},toRgba:function(){var l=this.getSource();return"rgba("+l[0]+","+l[1]+","+l[2]+","+l[3]+")"},toHsl:function(){var l=this.getSource(),c=this._rgbToHsl(l[0],l[1],l[2]);return"hsl("+c[0]+","+c[1]+"%,"+c[2]+"%)"},toHsla:function(){var l=this.getSource(),c=this._rgbToHsl(l[0],l[1],l[2]);return"hsla("+c[0]+","+c[1]+"%,"+c[2]+"%,"+l[3]+")"},toHex:function(){var l=this.getSource(),c,u,p;return c=l[0].toString(16),c=c.length===1?"0"+c:c,u=l[1].toString(16),u=u.length===1?"0"+u:u,p=l[2].toString(16),p=p.length===1?"0"+p:p,c.toUpperCase()+u.toUpperCase()+p.toUpperCase()},toHexa:function(){var l=this.getSource(),c;return c=Math.round(l[3]*255),c=c.toString(16),c=c.length===1?"0"+c:c,this.toHex()+c.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(l){var c=this.getSource();return c[3]=l,this.setSource(c),this},toGrayscale:function(){var l=this.getSource(),c=parseInt((l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),10),u=l[3];return this.setSource([c,c,c,u]),this},toBlackWhite:function(l){var c=this.getSource(),u=(c[0]*.3+c[1]*.59+c[2]*.11).toFixed(0),p=c[3];return l=l||127,u=Number(u)<Number(l)?0:255,this.setSource([u,u,u,p]),this},overlayWith:function(l){l instanceof f||(l=new f(l));var c=[],u=this.getAlpha(),p=.5,v=this.getSource(),g=l.getSource(),m;for(m=0;m<3;m++)c.push(Math.round(v[m]*(1-p)+g[m]*p));return c[3]=u,this.setSource(c),this}},a.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,a.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,a.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,a.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function h(l,c,u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?l+(c-l)*6*u:u<1/2?c:u<2/3?l+(c-l)*(2/3-u)*6:l}a.Color.fromRgb=function(l){return f.fromSource(f.sourceFromRgb(l))},a.Color.sourceFromRgb=function(l){var c=l.match(f.reRGBa);if(c){var u=parseInt(c[1],10)/(/%$/.test(c[1])?100:1)*(/%$/.test(c[1])?255:1),p=parseInt(c[2],10)/(/%$/.test(c[2])?100:1)*(/%$/.test(c[2])?255:1),v=parseInt(c[3],10)/(/%$/.test(c[3])?100:1)*(/%$/.test(c[3])?255:1);return[parseInt(u,10),parseInt(p,10),parseInt(v,10),c[4]?parseFloat(c[4]):1]}},a.Color.fromRgba=f.fromRgb,a.Color.fromHsl=function(l){return f.fromSource(f.sourceFromHsl(l))},a.Color.sourceFromHsl=function(l){var c=l.match(f.reHSLa);if(c){var u=(parseFloat(c[1])%360+360)%360/360,p=parseFloat(c[2])/(/%$/.test(c[2])?100:1),v=parseFloat(c[3])/(/%$/.test(c[3])?100:1),g,m,y;if(p===0)g=m=y=v;else{var x=v<=.5?v*(p+1):v+p-v*p,b=v*2-x;g=h(b,x,u+1/3),m=h(b,x,u),y=h(b,x,u-1/3)}return[Math.round(g*255),Math.round(m*255),Math.round(y*255),c[4]?parseFloat(c[4]):1]}},a.Color.fromHsla=f.fromHsl,a.Color.fromHex=function(l){return f.fromSource(f.sourceFromHex(l))},a.Color.sourceFromHex=function(l){if(l.match(f.reHex)){var c=l.slice(l.indexOf("#")+1),u=c.length===3||c.length===4,p=c.length===8||c.length===4,v=u?c.charAt(0)+c.charAt(0):c.substring(0,2),g=u?c.charAt(1)+c.charAt(1):c.substring(2,4),m=u?c.charAt(2)+c.charAt(2):c.substring(4,6),y=p?u?c.charAt(3)+c.charAt(3):c.substring(6,8):"FF";return[parseInt(v,16),parseInt(g,16),parseInt(m,16),parseFloat((parseInt(y,16)/255).toFixed(2))]}},a.Color.fromSource=function(l){var c=new f;return c.setSource(l),c}}(t),function(o){var a=o.fabric||(o.fabric={}),f=["e","se","s","sw","w","nw","n","ne","e"],h=["ns","nesw","ew","nwse"],l={},c="left",u="top",p="right",v="bottom",g="center",m={top:v,bottom:u,left:p,right:c,center:g},y=a.util.radiansToDegrees,x=Math.sign||function(Q){return(Q>0)-(Q<0)||+Q};function b(Q,X){var J=Q.angle+y(Math.atan2(X.y,X.x))+360;return Math.round(J%360/45)}function w(Q,X){var J=X.transform.target,ne=J.canvas,q=a.util.object.clone(X);q.target=J,ne&&ne.fire("object:"+Q,q),J.fire(Q,X)}function S(Q,X){var J=X.canvas,ne=J.uniScaleKey,q=Q[ne];return J.uniformScaling&&!q||!J.uniformScaling&&q}function _(Q){return Q.originX===g&&Q.originY===g}function C(Q,X,J){var ne=Q.lockScalingX,q=Q.lockScalingY;return!!(ne&&q||!X&&(ne||q)&&J||ne&&X==="x"||q&&X==="y")}function k(Q,X,J){var ne="not-allowed",q=S(Q,J),ee="";if(X.x!==0&&X.y===0?ee="x":X.x===0&&X.y!==0&&(ee="y"),C(J,ee,q))return ne;var oe=b(J,X);return f[oe]+"-resize"}function A(Q,X,J){var ne="not-allowed";if(X.x!==0&&J.lockSkewingY||X.y!==0&&J.lockSkewingX)return ne;var q=b(J,X)%4;return h[q]+"-resize"}function F(Q,X,J){return Q[J.canvas.altActionKey]?l.skewCursorStyleHandler(Q,X,J):l.scaleCursorStyleHandler(Q,X,J)}function B(Q,X,J){var ne=Q[J.canvas.altActionKey];if(X.x===0)return ne?"skewX":"scaleY";if(X.y===0)return ne?"skewY":"scaleX"}function H(Q,X,J){return J.lockRotation?"not-allowed":X.cursorStyle}function L(Q,X,J,ne){return{e:Q,transform:X,pointer:{x:J,y:ne}}}function z(Q){return function(X,J,ne,q){var ee=J.target,oe=ee.getCenterPoint(),de=ee.translateToOriginPoint(oe,J.originX,J.originY),ue=Q(X,J,ne,q);return ee.setPositionByOrigin(de,J.originX,J.originY),ue}}function I(Q,X){return function(J,ne,q,ee){var oe=X(J,ne,q,ee);return oe&&w(Q,L(J,ne,q,ee)),oe}}function E(Q,X,J,ne,q){var ee=Q.target,oe=ee.controls[Q.corner],de=ee.canvas.getZoom(),ue=ee.padding/de,re=ee.toLocalPoint(new a.Point(ne,q),X,J);return re.x>=ue&&(re.x-=ue),re.x<=-ue&&(re.x+=ue),re.y>=ue&&(re.y-=ue),re.y<=ue&&(re.y+=ue),re.x-=oe.offsetX,re.y-=oe.offsetY,re}function V(Q){return Q.flipX!==Q.flipY}function T(Q,X,J,ne,q){if(Q[X]!==0){var ee=Q._getTransformedDimensions()[ne],oe=q/ee*Q[J];Q.set(J,oe)}}function P(Q,X,J,ne){var q=X.target,ee=q._getTransformedDimensions(0,q.skewY),oe=E(X,X.originX,X.originY,J,ne),de=Math.abs(oe.x*2)-ee.x,ue=q.skewX,re;de<2?re=0:(re=y(Math.atan2(de/q.scaleX,ee.y/q.scaleY)),X.originX===c&&X.originY===v&&(re=-re),X.originX===p&&X.originY===u&&(re=-re),V(q)&&(re=-re));var fe=ue!==re;if(fe){var te=q._getTransformedDimensions().y;q.set("skewX",re),T(q,"skewY","scaleY","y",te)}return fe}function j(Q,X,J,ne){var q=X.target,ee=q._getTransformedDimensions(q.skewX,0),oe=E(X,X.originX,X.originY,J,ne),de=Math.abs(oe.y*2)-ee.y,ue=q.skewY,re;de<2?re=0:(re=y(Math.atan2(de/q.scaleY,ee.x/q.scaleX)),X.originX===c&&X.originY===v&&(re=-re),X.originX===p&&X.originY===u&&(re=-re),V(q)&&(re=-re));var fe=ue!==re;if(fe){var te=q._getTransformedDimensions().x;q.set("skewY",re),T(q,"skewX","scaleX","x",te)}return fe}function D(Q,X,J,ne){var q=X.target,ee=q.skewX,oe,de=X.originY;if(q.lockSkewingX)return!1;if(ee===0){var ue=E(X,g,g,J,ne);ue.x>0?oe=c:oe=p}else ee>0&&(oe=de===u?c:p),ee<0&&(oe=de===u?p:c),V(q)&&(oe=oe===c?p:c);X.originX=oe;var re=I("skewing",z(P));return re(Q,X,J,ne)}function W(Q,X,J,ne){var q=X.target,ee=q.skewY,oe,de=X.originX;if(q.lockSkewingY)return!1;if(ee===0){var ue=E(X,g,g,J,ne);ue.y>0?oe=u:oe=v}else ee>0&&(oe=de===c?u:v),ee<0&&(oe=de===c?v:u),V(q)&&(oe=oe===u?v:u);X.originY=oe;var re=I("skewing",z(j));return re(Q,X,J,ne)}function M(Q,X,J,ne){var q=X,ee=q.target,oe=ee.translateToOriginPoint(ee.getCenterPoint(),q.originX,q.originY);if(ee.lockRotation)return!1;var de=Math.atan2(q.ey-oe.y,q.ex-oe.x),ue=Math.atan2(ne-oe.y,J-oe.x),re=y(ue-de+q.theta),fe=!0;if(ee.snapAngle>0){var te=ee.snapAngle,le=ee.snapThreshold||te,ge=Math.ceil(re/te)*te,me=Math.floor(re/te)*te;Math.abs(re-me)<le?re=me:Math.abs(re-ge)<le&&(re=ge)}return re<0&&(re=360+re),re%=360,fe=ee.angle!==re,ee.angle=re,fe}function O(Q,X,J,ne,q){q=q||{};var ee=X.target,oe=ee.lockScalingX,de=ee.lockScalingY,ue=q.by,re,fe,te,le,ge=S(Q,ee),me=C(ee,ue,ge),Se,Ee,De=X.gestureScale;if(me)return!1;if(De)fe=X.scaleX*De,te=X.scaleY*De;else{if(re=E(X,X.originX,X.originY,J,ne),Se=ue!=="y"?x(re.x):1,Ee=ue!=="x"?x(re.y):1,X.signX||(X.signX=Se),X.signY||(X.signY=Ee),ee.lockScalingFlip&&(X.signX!==Se||X.signY!==Ee))return!1;if(le=ee._getTransformedDimensions(),ge&&!ue){var nt=Math.abs(re.x)+Math.abs(re.y),$e=X.original,It=Math.abs(le.x*$e.scaleX/ee.scaleX)+Math.abs(le.y*$e.scaleY/ee.scaleY),dt=nt/It;fe=$e.scaleX*dt,te=$e.scaleY*dt}else fe=Math.abs(re.x*ee.scaleX/le.x),te=Math.abs(re.y*ee.scaleY/le.y);_(X)&&(fe*=2,te*=2),X.signX!==Se&&ue!=="y"&&(X.originX=m[X.originX],fe*=-1,X.signX=Se),X.signY!==Ee&&ue!=="x"&&(X.originY=m[X.originY],te*=-1,X.signY=Ee)}var Kt=ee.scaleX,nr=ee.scaleY;return ue?(ue==="x"&&ee.set("scaleX",fe),ue==="y"&&ee.set("scaleY",te)):(!oe&&ee.set("scaleX",fe),!de&&ee.set("scaleY",te)),Kt!==ee.scaleX||nr!==ee.scaleY}function U(Q,X,J,ne){return O(Q,X,J,ne)}function G(Q,X,J,ne){return O(Q,X,J,ne,{by:"x"})}function K(Q,X,J,ne){return O(Q,X,J,ne,{by:"y"})}function Y(Q,X,J,ne){return Q[X.target.canvas.altActionKey]?l.skewHandlerX(Q,X,J,ne):l.scalingY(Q,X,J,ne)}function Z(Q,X,J,ne){return Q[X.target.canvas.altActionKey]?l.skewHandlerY(Q,X,J,ne):l.scalingX(Q,X,J,ne)}function ie(Q,X,J,ne){var q=X.target,ee=E(X,X.originX,X.originY,J,ne),oe=q.strokeWidth/(q.strokeUniform?q.scaleX:1),de=_(X)?2:1,ue=q.width,re=Math.abs(ee.x*de/q.scaleX)-oe;return q.set("width",Math.max(re,0)),ue!==re}function ae(Q,X,J,ne){var q=X.target,ee=J-X.offsetX,oe=ne-X.offsetY,de=!q.get("lockMovementX")&&q.left!==ee,ue=!q.get("lockMovementY")&&q.top!==oe;return de&&q.set("left",ee),ue&&q.set("top",oe),(de||ue)&&w("moving",L(Q,X,J,ne)),de||ue}l.scaleCursorStyleHandler=k,l.skewCursorStyleHandler=A,l.scaleSkewCursorStyleHandler=F,l.rotationWithSnapping=I("rotating",z(M)),l.scalingEqually=I("scaling",z(U)),l.scalingX=I("scaling",z(G)),l.scalingY=I("scaling",z(K)),l.scalingYOrSkewingX=Y,l.scalingXOrSkewingY=Z,l.changeWidth=I("resizing",z(ie)),l.skewHandlerX=D,l.skewHandlerY=W,l.dragHandler=ae,l.scaleOrSkewActionName=B,l.rotationStyleHandler=H,l.fireEvent=w,l.wrapWithFixedAnchor=z,l.wrapWithFireEvent=I,l.getLocalPoint=E,a.controlsUtils=l}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.util.degreesToRadians,h=a.controlsUtils;function l(u,p,v,g,m){g=g||{};var y=this.sizeX||g.cornerSize||m.cornerSize,x=this.sizeY||g.cornerSize||m.cornerSize,b=typeof g.transparentCorners<"u"?g.transparentCorners:m.transparentCorners,w=b?"stroke":"fill",S=!b&&(g.cornerStrokeColor||m.cornerStrokeColor),_=p,C=v,k;u.save(),u.fillStyle=g.cornerColor||m.cornerColor,u.strokeStyle=g.cornerStrokeColor||m.cornerStrokeColor,y>x?(k=y,u.scale(1,x/y),C=v*y/x):x>y?(k=x,u.scale(y/x,1),_=p*x/y):k=y,u.lineWidth=1,u.beginPath(),u.arc(_,C,k/2,0,2*Math.PI,!1),u[w](),S&&u.stroke(),u.restore()}function c(u,p,v,g,m){g=g||{};var y=this.sizeX||g.cornerSize||m.cornerSize,x=this.sizeY||g.cornerSize||m.cornerSize,b=typeof g.transparentCorners<"u"?g.transparentCorners:m.transparentCorners,w=b?"stroke":"fill",S=!b&&(g.cornerStrokeColor||m.cornerStrokeColor),_=y/2,C=x/2;u.save(),u.fillStyle=g.cornerColor||m.cornerColor,u.strokeStyle=g.cornerStrokeColor||m.cornerStrokeColor,u.lineWidth=1,u.translate(p,v),u.rotate(f(m.angle)),u[w+"Rect"](-_,-C,y,x),S&&u.strokeRect(-_,-C,y,x),u.restore()}h.renderCircleControl=l,h.renderSquareControl=c}(t),function(o){var a=o.fabric||(o.fabric={});function f(h){for(var l in h)this[l]=h[l]}a.Control=f,a.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(h,l){return l.cursorStyle},getActionName:function(h,l){return l.actionName},getVisibility:function(h,l){var c=h._controlsVisibility;return c&&typeof c[l]<"u"?c[l]:this.visible},setVisibility:function(h){this.visible=h},positionHandler:function(h,l){var c=a.util.transformPoint({x:this.x*h.x+this.offsetX,y:this.y*h.y+this.offsetY},l);return c},calcCornerCoords:function(h,l,c,u,p){var v,g,m,y,x=p?this.touchSizeX:this.sizeX,b=p?this.touchSizeY:this.sizeY;if(x&&b&&x!==b){var w=Math.atan2(b,x),S=Math.sqrt(x*x+b*b)/2,_=w-a.util.degreesToRadians(h),C=Math.PI/2-w-a.util.degreesToRadians(h);v=S*a.util.cos(_),g=S*a.util.sin(_),m=S*a.util.cos(C),y=S*a.util.sin(C)}else{var k=x&&b?x:l;S=k*.7071067812;var _=a.util.degreesToRadians(45-h);v=m=S*a.util.cos(_),g=y=S*a.util.sin(_)}return{tl:{x:c-y,y:u-m},tr:{x:c+v,y:u-g},bl:{x:c-v,y:u+g},br:{x:c+y,y:u+m}}},render:function(h,l,c,u,p){switch(u=u||{},u.cornerStyle||p.cornerStyle){case"circle":a.controlsUtils.renderCircleControl.call(this,h,l,c,u,p);break;default:a.controlsUtils.renderSquareControl.call(this,h,l,c,u,p)}}}}(t),function(){function o(c,u){var p=c.getAttribute("style"),v=c.getAttribute("offset")||0,g,m,y,x;if(v=parseFloat(v)/(/%$/.test(v)?100:1),v=v<0?0:v>1?1:v,p){var b=p.split(/\s*;\s*/);for(b[b.length-1]===""&&b.pop(),x=b.length;x--;){var w=b[x].split(/\s*:\s*/),S=w[0].trim(),_=w[1].trim();S==="stop-color"?g=_:S==="stop-opacity"&&(y=_)}}return g||(g=c.getAttribute("stop-color")||"rgb(0,0,0)"),y||(y=c.getAttribute("stop-opacity")),g=new e.Color(g),m=g.getAlpha(),y=isNaN(parseFloat(y))?1:parseFloat(y),y*=m*u,{offset:v,color:g.toRgb(),opacity:y}}function a(c){return{x1:c.getAttribute("x1")||0,y1:c.getAttribute("y1")||0,x2:c.getAttribute("x2")||"100%",y2:c.getAttribute("y2")||0}}function f(c){return{x1:c.getAttribute("fx")||c.getAttribute("cx")||"50%",y1:c.getAttribute("fy")||c.getAttribute("cy")||"50%",r1:0,x2:c.getAttribute("cx")||"50%",y2:c.getAttribute("cy")||"50%",r2:c.getAttribute("r")||"50%"}}var h=e.util.object.clone;e.Gradient=e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(c){c||(c={}),c.coords||(c.coords={});var u,p=this;Object.keys(c).forEach(function(v){p[v]=c[v]}),this.id?this.id+="_"+e.Object.__uid++:this.id=e.Object.__uid++,u={x1:c.coords.x1||0,y1:c.coords.y1||0,x2:c.coords.x2||0,y2:c.coords.y2||0},this.type==="radial"&&(u.r1=c.coords.r1||0,u.r2=c.coords.r2||0),this.coords=u,this.colorStops=c.colorStops.slice()},addColorStop:function(c){for(var u in c){var p=new e.Color(c[u]);this.colorStops.push({offset:parseFloat(u),color:p.toRgb(),opacity:p.getAlpha()})}return this},toObject:function(c){var u={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return e.util.populateWithProperties(this,u,c),u},toSVG:function(c,m){var p=h(this.coords,!0),v,g,m=m||{},y,x,b=h(this.colorStops,!0),w=p.r1>p.r2,S=this.gradientTransform?this.gradientTransform.concat():e.iMatrix.concat(),_=-this.offsetX,C=-this.offsetY,k=!!m.additionalTransform,A=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(b.sort(function(z,I){return z.offset-I.offset}),A==="objectBoundingBox"?(_/=c.width,C/=c.height):(_+=c.width/2,C+=c.height/2),c.type==="path"&&this.gradientUnits!=="percentage"&&(_-=c.pathOffset.x,C-=c.pathOffset.y),S[4]-=_,S[5]-=C,x='id="SVGID_'+this.id+'" gradientUnits="'+A+'"',x+=' gradientTransform="'+(k?m.additionalTransform+" ":"")+e.util.matrixToSVG(S)+'" ',this.type==="linear"?y=["<linearGradient ",x,' x1="',p.x1,'" y1="',p.y1,'" x2="',p.x2,'" y2="',p.y2,`">
`]:this.type==="radial"&&(y=["<radialGradient ",x,' cx="',w?p.x1:p.x2,'" cy="',w?p.y1:p.y2,'" r="',w?p.r1:p.r2,'" fx="',w?p.x2:p.x1,'" fy="',w?p.y2:p.y1,`">
`]),this.type==="radial"){if(w)for(b=b.concat(),b.reverse(),v=0,g=b.length;v<g;v++)b[v].offset=1-b[v].offset;var F=Math.min(p.r1,p.r2);if(F>0){var B=Math.max(p.r1,p.r2),H=F/B;for(v=0,g=b.length;v<g;v++)b[v].offset+=H*(1-b[v].offset)}}for(v=0,g=b.length;v<g;v++){var L=b[v];y.push("<stop ",'offset="',L.offset*100+"%",'" style="stop-color:',L.color,typeof L.opacity<"u"?";stop-opacity: "+L.opacity:";",`"/>
`)}return y.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),y.join("")},toLive:function(c){var u,p=e.util.object.clone(this.coords),v,g;if(this.type){for(this.type==="linear"?u=c.createLinearGradient(p.x1,p.y1,p.x2,p.y2):this.type==="radial"&&(u=c.createRadialGradient(p.x1,p.y1,p.r1,p.x2,p.y2,p.r2)),v=0,g=this.colorStops.length;v<g;v++){var m=this.colorStops[v].color,y=this.colorStops[v].opacity,x=this.colorStops[v].offset;typeof y<"u"&&(m=new e.Color(m).setAlpha(y).toRgba()),u.addColorStop(x,m)}return u}}}),e.util.object.extend(e.Gradient,{fromElement:function(c,u,p,v){var g=parseFloat(p)/(/%$/.test(p)?100:1);g=g<0?0:g>1?1:g,isNaN(g)&&(g=1);var m=c.getElementsByTagName("stop"),y,x=c.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",b=c.getAttribute("gradientTransform")||"",w=[],S,_,C=0,k=0,A;for(c.nodeName==="linearGradient"||c.nodeName==="LINEARGRADIENT"?(y="linear",S=a(c)):(y="radial",S=f(c)),_=m.length;_--;)w.push(o(m[_],g));A=e.parseTransformAttribute(b),l(u,S,v,x),x==="pixels"&&(C=-u.left,k=-u.top);var F=new e.Gradient({id:c.getAttribute("id"),type:y,coords:S,colorStops:w,gradientUnits:x,gradientTransform:A,offsetX:C,offsetY:k});return F}});function l(c,u,p,v){var g,m;Object.keys(u).forEach(function(y){g=u[y],g==="Infinity"?m=1:g==="-Infinity"?m=0:(m=parseFloat(u[y],10),typeof g=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(g)&&(m*=.01,v==="pixels"&&((y==="x1"||y==="x2"||y==="r2")&&(m*=p.viewBoxWidth||p.width),(y==="y1"||y==="y2")&&(m*=p.viewBoxHeight||p.height)))),u[y]=m})}}(),function(){var o=e.util.toFixed;e.Pattern=e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(a,f){if(a||(a={}),this.id=e.Object.__uid++,this.setOptions(a),!a.source||a.source&&typeof a.source!="string"){f&&f(this);return}else{var h=this;this.source=e.util.createImage(),e.util.loadImage(a.source,function(l,c){h.source=l,f&&f(h,c)},null,this.crossOrigin)}},toObject:function(a){var f=e.Object.NUM_FRACTION_DIGITS,h,l;return typeof this.source.src=="string"?h=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(h=this.source.toDataURL()),l={type:"pattern",source:h,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:o(this.offsetX,f),offsetY:o(this.offsetY,f),patternTransform:this.patternTransform?this.patternTransform.concat():null},e.util.populateWithProperties(this,l,a),l},toSVG:function(a){var f=typeof this.source=="function"?this.source():this.source,h=f.width/a.width,l=f.height/a.height,c=this.offsetX/a.width,u=this.offsetY/a.height,p="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(l=1,u&&(l+=Math.abs(u))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(h=1,c&&(h+=Math.abs(c))),f.src?p=f.src:f.toDataURL&&(p=f.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+c+'" y="'+u+'" width="'+h+'" height="'+l+`">
<image x="0" y="0" width="`+f.width+'" height="'+f.height+'" xlink:href="'+p+`"></image>
</pattern>
`},setOptions:function(a){for(var f in a)this[f]=a[f]},toLive:function(a){var f=this.source;return!f||typeof f.src<"u"&&(!f.complete||f.naturalWidth===0||f.naturalHeight===0)?"":a.createPattern(f,this.repeat)}})}(),function(o){var a=o.fabric||(o.fabric={}),f=a.util.toFixed;if(a.Shadow){a.warn("fabric.Shadow is already defined.");return}a.Shadow=a.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(h){typeof h=="string"&&(h=this._parseShadow(h));for(var l in h)this[l]=h[l];this.id=a.Object.__uid++},_parseShadow:function(h){var l=h.trim(),c=a.Shadow.reOffsetsAndBlur.exec(l)||[],u=l.replace(a.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:u.trim(),offsetX:parseFloat(c[1],10)||0,offsetY:parseFloat(c[2],10)||0,blur:parseFloat(c[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(h){var l=40,c=40,u=a.Object.NUM_FRACTION_DIGITS,p=a.util.rotateVector({x:this.offsetX,y:this.offsetY},a.util.degreesToRadians(-h.angle)),v=20,g=new a.Color(this.color);return h.width&&h.height&&(l=f((Math.abs(p.x)+this.blur)/h.width,u)*100+v,c=f((Math.abs(p.y)+this.blur)/h.height,u)*100+v),h.flipX&&(p.x*=-1),h.flipY&&(p.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+c+'%" height="'+(100+2*c)+'%" x="-'+l+'%" width="'+(100+2*l)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+f(this.blur?this.blur/2:0,u)+`"></feGaussianBlur>
	<feOffset dx="`+f(p.x,u)+'" dy="'+f(p.y,u)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+g.toRgb()+'" flood-opacity="'+g.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var h={},l=a.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(c){this[c]!==l[c]&&(h[c]=this[c])},this),h}}),a.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(t),function(){if(e.StaticCanvas){e.warn("fabric.StaticCanvas is already defined.");return}var o=e.util.object.extend,a=e.util.getElementOffset,f=e.util.removeFromArray,h=e.util.toFixed,l=e.util.transformPoint,c=e.util.invertTransform,u=e.util.getNodeCanvas,p=e.util.createCanvasElement,v=new Error("Could not initialize `canvas` element");e.StaticCanvas=e.util.createClass(e.CommonMethods,{initialize:function(g,m){m||(m={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(g,m)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(g,m){var y=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(g),this._initOptions(m),this.interactive||this._initRetinaScaling(),m.overlayImage&&this.setOverlayImage(m.overlayImage,y),m.backgroundImage&&this.setBackgroundImage(m.backgroundImage,y),m.backgroundColor&&this.setBackgroundColor(m.backgroundColor,y),m.overlayColor&&this.setOverlayColor(m.overlayColor,y),this.calcOffset()},_isRetinaScaling:function(){return e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,e.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var g=e.devicePixelRatio;this.__initRetinaScaling(g,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(g,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(g,m,y){m.setAttribute("width",this.width*g),m.setAttribute("height",this.height*g),y.scale(g,g)},calcOffset:function(){return this._offset=a(this.lowerCanvasEl),this},setOverlayImage:function(g,m,y){return this.__setBgOverlayImage("overlayImage",g,m,y)},setBackgroundImage:function(g,m,y){return this.__setBgOverlayImage("backgroundImage",g,m,y)},setOverlayColor:function(g,m){return this.__setBgOverlayColor("overlayColor",g,m)},setBackgroundColor:function(g,m){return this.__setBgOverlayColor("backgroundColor",g,m)},__setBgOverlayImage:function(g,m,y,x){return typeof m=="string"?e.util.loadImage(m,function(b,w){if(b){var S=new e.Image(b,x);this[g]=S,S.canvas=this}y&&y(b,w)},this,x&&x.crossOrigin):(x&&m.setOptions(x),this[g]=m,m&&(m.canvas=this),y&&y(m,!1)),this},__setBgOverlayColor:function(g,m,y){return this[g]=m,this._initGradient(m,g),this._initPattern(m,g,y),this},_createCanvasElement:function(){var g=p();if(!g||(g.style||(g.style={}),typeof g.getContext>"u"))throw v;return g},_initOptions:function(g){var m=this.lowerCanvasEl;this._setOptions(g),this.width=this.width||parseInt(m.width,10)||0,this.height=this.height||parseInt(m.height,10)||0,this.lowerCanvasEl.style&&(m.width=this.width,m.height=this.height,m.style.width=this.width+"px",m.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(g){g&&g.getContext?this.lowerCanvasEl=g:this.lowerCanvasEl=e.util.getById(g)||this._createCanvasElement(),e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(g,m){return this.setDimensions({width:g},m)},setHeight:function(g,m){return this.setDimensions({height:g},m)},setDimensions:function(g,m){var y;m=m||{};for(var x in g)y=g[x],m.cssOnly||(this._setBackstoreDimension(x,g[x]),y+="px",this.hasLostContext=!0),m.backstoreOnly||this._setCssDimension(x,y);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),m.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(g,m){return this.lowerCanvasEl[g]=m,this.upperCanvasEl&&(this.upperCanvasEl[g]=m),this.cacheCanvasEl&&(this.cacheCanvasEl[g]=m),this[g]=m,this},_setCssDimension:function(g,m){return this.lowerCanvasEl.style[g]=m,this.upperCanvasEl&&(this.upperCanvasEl.style[g]=m),this.wrapperEl&&(this.wrapperEl.style[g]=m),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(g){var m=this._activeObject,y=this.backgroundImage,x=this.overlayImage,b,w,S;for(this.viewportTransform=g,w=0,S=this._objects.length;w<S;w++)b=this._objects[w],b.group||b.setCoords(!0);return m&&m.setCoords(),y&&y.setCoords(!0),x&&x.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(g,m){var y=g,x=this.viewportTransform.slice(0);g=l(g,c(this.viewportTransform)),x[0]=m,x[3]=m;var b=l(g,x);return x[4]+=y.x-b.x,x[5]+=y.y-b.y,this.setViewportTransform(x)},setZoom:function(g){return this.zoomToPoint(new e.Point(0,0),g),this},absolutePan:function(g){var m=this.viewportTransform.slice(0);return m[4]=-g.x,m[5]=-g.y,this.setViewportTransform(m)},relativePan:function(g){return this.absolutePan(new e.Point(-g.x-this.viewportTransform[4],-g.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(g){this.stateful&&g.setupState(),g._set("canvas",this),g.setCoords(),this.fire("object:added",{target:g}),g.fire("added")},_onObjectRemoved:function(g){this.fire("object:removed",{target:g}),g.fire("removed"),delete g.canvas},clearContext:function(g){return g.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var g=this.contextContainer;return this.renderCanvas(g,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var g={},m=this.width,y=this.height,x=c(this.viewportTransform);return g.tl=l({x:0,y:0},x),g.br=l({x:m,y},x),g.tr=new e.Point(g.br.x,g.tl.y),g.bl=new e.Point(g.tl.x,g.br.y),this.vptCoords=g,g},cancelRequestedRender:function(){this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(g,m){var y=this.viewportTransform,x=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(g),e.util.setImageSmoothing(g,this.imageSmoothingEnabled),this.fire("before:render",{ctx:g}),this._renderBackground(g),g.save(),g.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._renderObjects(g,m),g.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(g),x&&(x.canvas=this,x.shouldCache(),x._transformDone=!0,x.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(g)),this._renderOverlay(g),this.controlsAboveOverlay&&this.interactive&&this.drawControls(g),this.fire("after:render",{ctx:g})},drawClipPathOnCanvas:function(g){var m=this.viewportTransform,y=this.clipPath;g.save(),g.transform(m[0],m[1],m[2],m[3],m[4],m[5]),g.globalCompositeOperation="destination-in",y.transform(g),g.scale(1/y.zoomX,1/y.zoomY),g.drawImage(y._cacheCanvas,-y.cacheTranslationX,-y.cacheTranslationY),g.restore()},_renderObjects:function(g,m){var y,x;for(y=0,x=m.length;y<x;++y)m[y]&&m[y].render(g)},_renderBackgroundOrOverlay:function(g,m){var y=this[m+"Color"],x=this[m+"Image"],b=this.viewportTransform,w=this[m+"Vpt"];if(!(!y&&!x)){if(y){g.save(),g.beginPath(),g.moveTo(0,0),g.lineTo(this.width,0),g.lineTo(this.width,this.height),g.lineTo(0,this.height),g.closePath(),g.fillStyle=y.toLive?y.toLive(g,this):y,w&&g.transform(b[0],b[1],b[2],b[3],b[4],b[5]),g.transform(1,0,0,1,y.offsetX||0,y.offsetY||0);var S=y.gradientTransform||y.patternTransform;S&&g.transform(S[0],S[1],S[2],S[3],S[4],S[5]),g.fill(),g.restore()}if(x){g.save();var _=this.skipOffscreen;this.skipOffscreen=w,w&&g.transform(b[0],b[1],b[2],b[3],b[4],b[5]),x.render(g),this.skipOffscreen=_,g.restore()}}},_renderBackground:function(g){this._renderBackgroundOrOverlay(g,"background")},_renderOverlay:function(g){this._renderBackgroundOrOverlay(g,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new e.Point(this.width/2,this.height/2)},centerObjectH:function(g){return this._centerObject(g,new e.Point(this.getCenterPoint().x,g.getCenterPoint().y))},centerObjectV:function(g){return this._centerObject(g,new e.Point(g.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(g){var m=this.getCenterPoint();return this._centerObject(g,m)},viewportCenterObject:function(g){var m=this.getVpCenter();return this._centerObject(g,m)},viewportCenterObjectH:function(g){var m=this.getVpCenter();return this._centerObject(g,new e.Point(m.x,g.getCenterPoint().y)),this},viewportCenterObjectV:function(g){var m=this.getVpCenter();return this._centerObject(g,new e.Point(g.getCenterPoint().x,m.y))},getVpCenter:function(){var g=this.getCenterPoint(),m=c(this.viewportTransform);return l(g,m)},_centerObject:function(g,m){return g.setPositionByOrigin(m,"center","center"),g.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(g){return this.toDatalessObject(g)},toObject:function(g){return this._toObjectMethod("toObject",g)},toDatalessObject:function(g){return this._toObjectMethod("toDatalessObject",g)},_toObjectMethod:function(g,m){var y=this.clipPath,x={version:e.version,objects:this._toObjects(g,m)};return y&&!y.excludeFromExport&&(x.clipPath=this._toObject(this.clipPath,g,m)),o(x,this.__serializeBgOverlay(g,m)),e.util.populateWithProperties(this,x,m),x},_toObjects:function(g,m){return this._objects.filter(function(y){return!y.excludeFromExport}).map(function(y){return this._toObject(y,g,m)},this)},_toObject:function(g,m,y){var x;this.includeDefaultValues||(x=g.includeDefaultValues,g.includeDefaultValues=!1);var b=g[m](y);return this.includeDefaultValues||(g.includeDefaultValues=x),b},__serializeBgOverlay:function(g,m){var y={},x=this.backgroundImage,b=this.overlayImage,w=this.backgroundColor,S=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(y.background=w.toObject(m)):w&&(y.background=w),S&&S.toObject?S.excludeFromExport||(y.overlay=S.toObject(m)):S&&(y.overlay=S),x&&!x.excludeFromExport&&(y.backgroundImage=this._toObject(x,g,m)),b&&!b.excludeFromExport&&(y.overlayImage=this._toObject(b,g,m)),y},svgViewportTransformation:!0,toSVG:function(g,m){g||(g={}),g.reviver=m;var y=[];return this._setSVGPreamble(y,g),this._setSVGHeader(y,g),this.clipPath&&y.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(y,"background"),this._setSVGBgOverlayImage(y,"backgroundImage",m),this._setSVGObjects(y,m),this.clipPath&&y.push(`</g>
`),this._setSVGBgOverlayColor(y,"overlay"),this._setSVGBgOverlayImage(y,"overlayImage",m),y.push("</svg>"),y.join("")},_setSVGPreamble:function(g,m){m.suppressPreamble||g.push('<?xml version="1.0" encoding="',m.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(g,m){var y=m.width||this.width,x=m.height||this.height,b,w='viewBox="0 0 '+this.width+" "+this.height+'" ',S=e.Object.NUM_FRACTION_DIGITS;m.viewBox?w='viewBox="'+m.viewBox.x+" "+m.viewBox.y+" "+m.viewBox.width+" "+m.viewBox.height+'" ':this.svgViewportTransformation&&(b=this.viewportTransform,w='viewBox="'+h(-b[4]/b[0],S)+" "+h(-b[5]/b[3],S)+" "+h(this.width/b[0],S)+" "+h(this.height/b[3],S)+'" '),g.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',y,'" ','height="',x,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(m),`</defs>
`)},createSVGClipPathMarkup:function(g){var m=this.clipPath;return m?(m.clipPathId="CLIPPATH_"+e.Object.__uid++,'<clipPath id="'+m.clipPathId+`" >
`+this.clipPath.toClipPathSVG(g.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var g=this,m=["background","overlay"].map(function(y){var x=g[y+"Color"];if(x&&x.toLive){var b=g[y+"Vpt"],w=g.viewportTransform,S={width:g.width/(b?w[0]:1),height:g.height/(b?w[3]:1)};return x.toSVG(S,{additionalTransform:b?e.util.matrixToSVG(w):""})}});return m.join("")},createSVGFontFacesMarkup:function(){var g="",m={},y,x,b,w,S,_,C,k,A,F=e.fontPaths,B=[];for(this._objects.forEach(function L(z){B.push(z),z._objects&&z._objects.forEach(L)}),k=0,A=B.length;k<A;k++)if(y=B[k],x=y.fontFamily,!(y.type.indexOf("text")===-1||m[x]||!F[x])&&(m[x]=!0,!!y.styles)){b=y.styles;for(S in b){w=b[S];for(C in w)_=w[C],x=_.fontFamily,!m[x]&&F[x]&&(m[x]=!0)}}for(var H in m)g+=[`		@font-face {
`,"			font-family: '",H,`';
`,"			src: url('",F[H],`');
`,`		}
`].join("");return g&&(g=['	<style type="text/css">',`<![CDATA[
`,g,"]]>",`</style>
`].join("")),g},_setSVGObjects:function(g,m){var y,x,b,w=this._objects;for(x=0,b=w.length;x<b;x++)y=w[x],!y.excludeFromExport&&this._setSVGObject(g,y,m)},_setSVGObject:function(g,m,y){g.push(m.toSVG(y))},_setSVGBgOverlayImage:function(g,m,y){this[m]&&!this[m].excludeFromExport&&this[m].toSVG&&g.push(this[m].toSVG(y))},_setSVGBgOverlayColor:function(g,m){var y=this[m+"Color"],x=this.viewportTransform,b=this.width,w=this.height;if(y)if(y.toLive){var S=y.repeat,_=e.util.invertTransform(x),C=this[m+"Vpt"],k=C?e.util.matrixToSVG(_):"";g.push('<rect transform="'+k+" translate(",b/2,",",w/2,')"',' x="',y.offsetX-b/2,'" y="',y.offsetY-w/2,'" ','width="',S==="repeat-y"||S==="no-repeat"?y.source.width:b,'" height="',S==="repeat-x"||S==="no-repeat"?y.source.height:w,'" fill="url(#SVGID_'+y.id+')"',`></rect>
`)}else g.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',y,'"',`></rect>
`)},sendToBack:function(g){if(!g)return this;var m=this._activeObject,y,x,b;if(g===m&&g.type==="activeSelection")for(b=m._objects,y=b.length;y--;)x=b[y],f(this._objects,x),this._objects.unshift(x);else f(this._objects,g),this._objects.unshift(g);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(g){if(!g)return this;var m=this._activeObject,y,x,b;if(g===m&&g.type==="activeSelection")for(b=m._objects,y=0;y<b.length;y++)x=b[y],f(this._objects,x),this._objects.push(x);else f(this._objects,g),this._objects.push(g);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(g,m){if(!g)return this;var y=this._activeObject,x,b,w,S,_,C=0;if(g===y&&g.type==="activeSelection")for(_=y._objects,x=0;x<_.length;x++)b=_[x],w=this._objects.indexOf(b),w>0+C&&(S=w-1,f(this._objects,b),this._objects.splice(S,0,b)),C++;else w=this._objects.indexOf(g),w!==0&&(S=this._findNewLowerIndex(g,w,m),f(this._objects,g),this._objects.splice(S,0,g));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(g,m,y){var x,b;if(y)for(x=m,b=m-1;b>=0;--b){var w=g.intersectsWithObject(this._objects[b])||g.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(g);if(w){x=b;break}}else x=m-1;return x},bringForward:function(g,m){if(!g)return this;var y=this._activeObject,x,b,w,S,_,C=0;if(g===y&&g.type==="activeSelection")for(_=y._objects,x=_.length;x--;)b=_[x],w=this._objects.indexOf(b),w<this._objects.length-1-C&&(S=w+1,f(this._objects,b),this._objects.splice(S,0,b)),C++;else w=this._objects.indexOf(g),w!==this._objects.length-1&&(S=this._findNewUpperIndex(g,w,m),f(this._objects,g),this._objects.splice(S,0,g));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(g,m,y){var x,b,w;if(y)for(x=m,b=m+1,w=this._objects.length;b<w;++b){var S=g.intersectsWithObject(this._objects[b])||g.isContainedWithinObject(this._objects[b])||this._objects[b].isContainedWithinObject(g);if(S){x=b;break}}else x=m+1;return x},moveTo:function(g,m){return f(this._objects,g),this._objects.splice(m,0,g),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(g){g.dispose&&g.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),o(e.StaticCanvas.prototype,e.Observable),o(e.StaticCanvas.prototype,e.Collection),o(e.StaticCanvas.prototype,e.DataURLExporter),o(e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(g){var m=p();if(!m||!m.getContext)return null;var y=m.getContext("2d");if(!y)return null;switch(g){case"setLineDash":return typeof y.setLineDash<"u";default:return null}}}),e.StaticCanvas.prototype.toJSON=e.StaticCanvas.prototype.toObject,e.isLikelyNode&&(e.StaticCanvas.prototype.createPNGStream=function(){var g=u(this.lowerCanvasEl);return g&&g.createPNGStream()},e.StaticCanvas.prototype.createJPEGStream=function(g){var m=u(this.lowerCanvasEl);return m&&m.createJPEGStream(g)})}(),e.BaseBrush=e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(o){o.strokeStyle=this.color,o.lineWidth=this.width,o.lineCap=this.strokeLineCap,o.miterLimit=this.strokeMiterLimit,o.lineJoin=this.strokeLineJoin,o.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(o){var a=this.canvas.viewportTransform;o.save(),o.transform(a[0],a[1],a[2],a[3],a[4],a[5])},_setShadow:function(){if(this.shadow){var o=this.canvas,a=this.shadow,f=o.contextTop,h=o.getZoom();o&&o._isRetinaScaling()&&(h*=e.devicePixelRatio),f.shadowColor=a.color,f.shadowBlur=a.blur*h,f.shadowOffsetX=a.offsetX*h,f.shadowOffsetY=a.offsetY*h}},needsFullRender:function(){var o=new e.Color(this.color);return o.getAlpha()<1||!!this.shadow},_resetShadow:function(){var o=this.canvas.contextTop;o.shadowColor="",o.shadowBlur=o.shadowOffsetX=o.shadowOffsetY=0},_isOutSideCanvas:function(o){return o.x<0||o.x>this.canvas.getWidth()||o.y<0||o.y>this.canvas.getHeight()}}),function(){e.PencilBrush=e.util.createClass(e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(o){this.canvas=o,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(o,a,f){var h=a.midPointFrom(f);return o.quadraticCurveTo(a.x,a.y,h.x,h.y),h},onMouseDown:function(o,a){this.canvas._isMainEvent(a.e)&&(this.drawStraightLine=a.e[this.straightLineKey],this._prepareForDrawing(o),this._captureDrawingPath(o),this._render())},onMouseMove:function(o,a){if(this.canvas._isMainEvent(a.e)&&(this.drawStraightLine=a.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o))&&this._captureDrawingPath(o)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var f=this._points,h=f.length,l=this.canvas.contextTop;this._saveAndTransform(l),this.oldEnd&&(l.beginPath(),l.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(l,f[h-2],f[h-1],!0),l.stroke(),l.restore()}},onMouseUp:function(o){return this.canvas._isMainEvent(o.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(o){var a=new e.Point(o.x,o.y);this._reset(),this._addPoint(a),this.canvas.contextTop.moveTo(a.x,a.y)},_addPoint:function(o){return this._points.length>1&&o.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(o),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(o){var a=new e.Point(o.x,o.y);return this._addPoint(a)},_render:function(o){var a,f,h=this._points[0],l=this._points[1];if(o=o||this.canvas.contextTop,this._saveAndTransform(o),o.beginPath(),this._points.length===2&&h.x===l.x&&h.y===l.y){var c=this.width/1e3;h=new e.Point(h.x,h.y),l=new e.Point(l.x,l.y),h.x-=c,l.x+=c}for(o.moveTo(h.x,h.y),a=1,f=this._points.length;a<f;a++)this._drawSegment(o,h,l),h=this._points[a],l=this._points[a+1];o.lineTo(h.x,h.y),o.stroke(),o.restore()},convertPointsToSVGPath:function(o){var a=this.width/1e3;return e.util.getSmoothPathFromPoints(o,a)},_isEmptySVGPath:function(o){var a=e.util.joinPath(o);return a==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(o){var a=new e.Path(o,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,a.shadow=new e.Shadow(this.shadow)),a},decimatePoints:function(o,a){if(o.length<=2)return o;var f=this.canvas.getZoom(),h=Math.pow(a/f,2),l,c=o.length-1,u=o[0],p=[u],v;for(l=1;l<c-1;l++)v=Math.pow(u.x-o[l].x,2)+Math.pow(u.y-o[l].y,2),v>=h&&(u=o[l],p.push(u));return p.push(o[c]),p},_finalizeAndAddPath:function(){var o=this.canvas.contextTop;o.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var a=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(a)){this.canvas.requestRenderAll();return}var f=this.createPath(a);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:f}),this.canvas.add(f),this.canvas.requestRenderAll(),f.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:f})}})}(),e.CircleBrush=e.util.createClass(e.BaseBrush,{width:10,initialize:function(o){this.canvas=o,this.points=[]},drawDot:function(o){var a=this.addPoint(o),f=this.canvas.contextTop;this._saveAndTransform(f),this.dot(f,a),f.restore()},dot:function(o,a){o.fillStyle=a.fill,o.beginPath(),o.arc(a.x,a.y,a.radius,0,Math.PI*2,!1),o.closePath(),o.fill()},onMouseDown:function(o){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(o)},_render:function(){var o=this.canvas.contextTop,a,f,h=this.points;for(this._saveAndTransform(o),a=0,f=h.length;a<f;a++)this.dot(o,h[a]);o.restore()},onMouseMove:function(o){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(o),this._render()):this.drawDot(o))},onMouseUp:function(){var o=this.canvas.renderOnAddRemove,a,f;this.canvas.renderOnAddRemove=!1;var h=[];for(a=0,f=this.points.length;a<f;a++){var l=this.points[a],c=new e.Circle({radius:l.radius,left:l.x,top:l.y,originX:"center",originY:"center",fill:l.fill});this.shadow&&(c.shadow=new e.Shadow(this.shadow)),h.push(c)}var u=new e.Group(h);u.canvas=this.canvas,this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.fire("path:created",{path:u}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=o,this.canvas.requestRenderAll()},addPoint:function(o){var a=new e.Point(o.x,o.y),f=e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,h=new e.Color(this.color).setAlpha(e.util.getRandomInt(0,100)/100).toRgba();return a.radius=f,a.fill=h,this.points.push(a),a}}),e.SprayBrush=e.util.createClass(e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(o){this.canvas=o,this.sprayChunks=[]},onMouseDown:function(o){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(o),this.render(this.sprayChunkPoints)},onMouseMove:function(o){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o)||(this.addSprayChunk(o),this.render(this.sprayChunkPoints))},onMouseUp:function(){var o=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var a=[],f=0,h=this.sprayChunks.length;f<h;f++)for(var l=this.sprayChunks[f],c=0,u=l.length;c<u;c++){var p=new e.Rect({width:l[c].width,height:l[c].width,left:l[c].x+1,top:l[c].y+1,originX:"center",originY:"center",fill:this.color});a.push(p)}this.optimizeOverlapping&&(a=this._getOptimizedRects(a));var v=new e.Group(a);this.shadow&&v.set("shadow",new e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:v}),this.canvas.add(v),this.canvas.fire("path:created",{path:v}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=o,this.canvas.requestRenderAll()},_getOptimizedRects:function(o){var a={},f,h,l;for(h=0,l=o.length;h<l;h++)f=o[h].left+""+o[h].top,a[f]||(a[f]=o[h]);var c=[];for(f in a)c.push(a[f]);return c},render:function(o){var a=this.canvas.contextTop,f,h;for(a.fillStyle=this.color,this._saveAndTransform(a),f=0,h=o.length;f<h;f++){var l=o[f];typeof l.opacity<"u"&&(a.globalAlpha=l.opacity),a.fillRect(l.x,l.y,l.width,l.width)}a.restore()},_render:function(){var o=this.canvas.contextTop,a,f;for(o.fillStyle=this.color,this._saveAndTransform(o),a=0,f=this.sprayChunks.length;a<f;a++)this.render(this.sprayChunks[a]);o.restore()},addSprayChunk:function(o){this.sprayChunkPoints=[];var a,f,h,l=this.width/2,c;for(c=0;c<this.density;c++){a=e.util.getRandomInt(o.x-l,o.x+l),f=e.util.getRandomInt(o.y-l,o.y+l),this.dotWidthVariance?h=e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):h=this.dotWidth;var u=new e.Point(a,f);u.width=h,this.randomOpacity&&(u.opacity=e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(u)}this.sprayChunks.push(this.sprayChunkPoints)}}),e.PatternBrush=e.util.createClass(e.PencilBrush,{getPatternSrc:function(){var o=20,a=5,f=e.util.createCanvasElement(),h=f.getContext("2d");return f.width=f.height=o+a,h.fillStyle=this.color,h.beginPath(),h.arc(o/2,o/2,o/2,0,Math.PI*2,!1),h.closePath(),h.fill(),f},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(o){return o.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(o){this.callSuper("_setBrushStyles",o),o.strokeStyle=this.getPattern(o)},createPath:function(o){var a=this.callSuper("createPath",o),f=a._getLeftTopCoords().scalarAdd(a.strokeWidth/2);return a.stroke=new e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-f.x,offsetY:-f.y}),a}}),function(){var o=e.util.getPointer,a=e.util.degreesToRadians,f=e.util.isTouchEvent;e.Canvas=e.util.createClass(e.StaticCanvas,{initialize:function(l,c){c||(c={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,c),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=e.PencilBrush&&new e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var l=this.getActiveObjects(),c,u,p;if(l.length>0&&!this.preserveObjectStacking){u=[],p=[];for(var v=0,g=this._objects.length;v<g;v++)c=this._objects[v],l.indexOf(c)===-1?u.push(c):p.push(c);l.length>1&&(this._activeObject._objects=p),u.push.apply(u,p)}else u=this._objects;return u},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var l=this.contextContainer;return this.renderCanvas(l,this._chooseObjectsToRender()),this},renderTopLayer:function(l){l.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(l),this.contextTopDirty=!0),l.restore()},renderTop:function(){var l=this.contextTop;return this.clearContext(l),this.renderTopLayer(l),this.fire("after:render"),this},_normalizePointer:function(l,c){var u=l.calcTransformMatrix(),p=e.util.invertTransform(u),v=this.restorePointerVpt(c);return e.util.transformPoint(v,p)},isTargetTransparent:function(l,c,u){if(l.shouldCache()&&l._cacheCanvas&&l!==this._activeObject){var p=this._normalizePointer(l,{x:c,y:u}),v=Math.max(l.cacheTranslationX+p.x*l.zoomX,0),g=Math.max(l.cacheTranslationY+p.y*l.zoomY,0),b=e.util.isTransparent(l._cacheContext,Math.round(v),Math.round(g),this.targetFindTolerance);return b}var m=this.contextCache,y=l.selectionBackgroundColor,x=this.viewportTransform;l.selectionBackgroundColor="",this.clearContext(m),m.save(),m.transform(x[0],x[1],x[2],x[3],x[4],x[5]),l.render(m),m.restore(),l.selectionBackgroundColor=y;var b=e.util.isTransparent(m,c,u,this.targetFindTolerance);return b},_isSelectionKeyPressed:function(l){var c=!1;return Array.isArray(this.selectionKey)?c=!!this.selectionKey.find(function(u){return l[u]===!0}):c=l[this.selectionKey],c},_shouldClearSelection:function(l,c){var u=this.getActiveObjects(),p=this._activeObject;return!c||c&&p&&u.length>1&&u.indexOf(c)===-1&&p!==c&&!this._isSelectionKeyPressed(l)||c&&!c.evented||c&&!c.selectable&&p&&p!==c},_shouldCenterTransform:function(l,c,u){if(l){var p;return c==="scale"||c==="scaleX"||c==="scaleY"||c==="resizing"?p=this.centeredScaling||l.centeredScaling:c==="rotate"&&(p=this.centeredRotation||l.centeredRotation),p?!u:u}},_getOriginFromCorner:function(l,c){var u={x:l.originX,y:l.originY};return c==="ml"||c==="tl"||c==="bl"?u.x="right":(c==="mr"||c==="tr"||c==="br")&&(u.x="left"),c==="tl"||c==="mt"||c==="tr"?u.y="bottom":(c==="bl"||c==="mb"||c==="br")&&(u.y="top"),u},_getActionFromCorner:function(l,c,u,p){if(!c||!l)return"drag";var v=p.controls[c];return v.getActionName(u,v,p)},_setupCurrentTransform:function(l,c,u){if(c){var p=this.getPointer(l),v=c.__corner,g=c.controls[v],m=u&&v?g.getActionHandler(l,c,g):e.controlsUtils.dragHandler,y=this._getActionFromCorner(u,v,l,c),x=this._getOriginFromCorner(c,v),b=l[this.centeredKey],w={target:c,action:y,actionHandler:m,corner:v,scaleX:c.scaleX,scaleY:c.scaleY,skewX:c.skewX,skewY:c.skewY,offsetX:p.x-c.left,offsetY:p.y-c.top,originX:x.x,originY:x.y,ex:p.x,ey:p.y,lastX:p.x,lastY:p.y,theta:a(c.angle),width:c.width*c.scaleX,shiftKey:l.shiftKey,altKey:b,original:e.util.saveObjectTransform(c)};this._shouldCenterTransform(c,y,b)&&(w.originX="center",w.originY="center"),w.original.originX=x.x,w.original.originY=x.y,this._currentTransform=w,this._beforeTransform(l)}},setCursor:function(l){this.upperCanvasEl.style.cursor=l},_drawSelection:function(l){var c=this._groupSelector,u=new e.Point(c.ex,c.ey),p=e.util.transformPoint(u,this.viewportTransform),v=new e.Point(c.ex+c.left,c.ey+c.top),g=e.util.transformPoint(v,this.viewportTransform),m=Math.min(p.x,g.x),y=Math.min(p.y,g.y),x=Math.max(p.x,g.x),b=Math.max(p.y,g.y),w=this.selectionLineWidth/2;this.selectionColor&&(l.fillStyle=this.selectionColor,l.fillRect(m,y,x-m,b-y)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(l.lineWidth=this.selectionLineWidth,l.strokeStyle=this.selectionBorderColor,m+=w,y+=w,x-=w,b-=w,e.Object.prototype._setLineDash.call(this,l,this.selectionDashArray),l.strokeRect(m,y,x-m,b-y))},findTarget:function(l,c){if(!this.skipTargetFind){var u=!0,p=this.getPointer(l,u),v=this._activeObject,g=this.getActiveObjects(),m,y,x=f(l),b=g.length>1&&!c||g.length===1;if(this.targets=[],b&&v._findTargetCorner(p,x)||g.length>1&&!c&&v===this._searchPossibleTargets([v],p))return v;if(g.length===1&&v===this._searchPossibleTargets([v],p))if(this.preserveObjectStacking)m=v,y=this.targets,this.targets=[];else return v;var w=this._searchPossibleTargets(this._objects,p);return l[this.altSelectionKey]&&w&&m&&w!==m&&(w=m,this.targets=y),w}},_checkTarget:function(l,c,u){if(c&&c.visible&&c.evented&&c.containsPoint(l))if((this.perPixelTargetFind||c.perPixelTargetFind)&&!c.isEditing){var p=this.isTargetTransparent(c,u.x,u.y);if(!p)return!0}else return!0},_searchPossibleTargets:function(l,c){for(var u,p=l.length,v;p--;){var g=l[p],m=g.group?this._normalizePointer(g.group,c):c;if(this._checkTarget(m,g,c)){u=l[p],u.subTargetCheck&&u instanceof e.Group&&(v=this._searchPossibleTargets(u._objects,c),v&&this.targets.push(v));break}}return u},restorePointerVpt:function(l){return e.util.transformPoint(l,e.util.invertTransform(this.viewportTransform))},getPointer:function(l,c){if(this._absolutePointer&&!c)return this._absolutePointer;if(this._pointer&&c)return this._pointer;var u=o(l),p=this.upperCanvasEl,v=p.getBoundingClientRect(),g=v.width||0,m=v.height||0,y;(!g||!m)&&("top"in v&&"bottom"in v&&(m=Math.abs(v.top-v.bottom)),"right"in v&&"left"in v&&(g=Math.abs(v.right-v.left))),this.calcOffset(),u.x=u.x-this._offset.left,u.y=u.y-this._offset.top,c||(u=this.restorePointerVpt(u));var x=this.getRetinaScaling();return x!==1&&(u.x/=x,u.y/=x),g===0||m===0?y={width:1,height:1}:y={width:p.width/g,height:p.height/m},{x:u.x*y.width,y:u.y*y.height}},_createUpperCanvas:function(){var l=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),c=this.lowerCanvasEl,u=this.upperCanvasEl;u?u.className="":(u=this._createCanvasElement(),this.upperCanvasEl=u),e.util.addClass(u,"upper-canvas "+l),this.wrapperEl.appendChild(u),this._copyCanvasStyle(c,u),this._applyCanvasStyle(u),this.contextTop=u.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(l){var c=this.width||l.width,u=this.height||l.height;e.util.setStyle(l,{position:"absolute",width:c+"px",height:u+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),l.width=c,l.height=u,e.util.makeElementUnselectable(l)},_copyCanvasStyle:function(l,c){c.style.cssText=l.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var l=this._activeObject;return l?l.type==="activeSelection"&&l._objects?l._objects.slice(0):[l]:[]},_onObjectRemoved:function(l){l===this._activeObject&&(this.fire("before:selection:cleared",{target:l}),this._discardActiveObject(),this.fire("selection:cleared",{target:l}),l.fire("deselected")),l===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",l)},_fireSelectionEvents:function(l,c){var u=!1,p=this.getActiveObjects(),v=[],g=[];l.forEach(function(m){p.indexOf(m)===-1&&(u=!0,m.fire("deselected",{e:c,target:m}),g.push(m))}),p.forEach(function(m){l.indexOf(m)===-1&&(u=!0,m.fire("selected",{e:c,target:m}),v.push(m))}),l.length>0&&p.length>0?u&&this.fire("selection:updated",{e:c,selected:v,deselected:g}):p.length>0?this.fire("selection:created",{e:c,selected:v}):l.length>0&&this.fire("selection:cleared",{e:c,deselected:g})},setActiveObject:function(l,c){var u=this.getActiveObjects();return this._setActiveObject(l,c),this._fireSelectionEvents(u,c),this},_setActiveObject:function(l,c){return this._activeObject===l||!this._discardActiveObject(c,l)||l.onSelect({e:c})?!1:(this._activeObject=l,!0)},_discardActiveObject:function(l,c){var u=this._activeObject;if(u){if(u.onDeselect({e:l,object:c}))return!1;this._activeObject=null}return!0},discardActiveObject:function(l){var c=this.getActiveObjects(),u=this.getActiveObject();return c.length&&this.fire("before:selection:cleared",{target:u,e:l}),this._discardActiveObject(l),this._fireSelectionEvents(c,l),this},dispose:function(){var l=this.wrapperEl;return this.removeListeners(),l.removeChild(this.upperCanvasEl),l.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(c){e.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this)),l.parentNode&&l.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(l){var c=this._activeObject;c&&c._renderControls(l)},_toObject:function(l,c,u){var p=this._realizeGroupTransformOnObject(l),v=this.callSuper("_toObject",l,c,u);return this._unwindGroupTransformOnObject(l,p),v},_realizeGroupTransformOnObject:function(l){if(l.group&&l.group.type==="activeSelection"&&this._activeObject===l.group){var c=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],u={};return c.forEach(function(p){u[p]=l[p]}),e.util.addTransformToObject(l,this._activeObject.calcOwnMatrix()),u}else return null},_unwindGroupTransformOnObject:function(l,c){c&&l.set(c)},_setSVGObject:function(l,c,u){var p=this._realizeGroupTransformOnObject(c);this.callSuper("_setSVGObject",l,c,u),this._unwindGroupTransformOnObject(c,p)},setViewportTransform:function(l){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),e.StaticCanvas.prototype.setViewportTransform.call(this,l)}});for(var h in e.StaticCanvas)h!=="prototype"&&(e.Canvas[h]=e.StaticCanvas[h])}(),function(){var o=e.util.addListener,a=e.util.removeListener,f=3,h=2,l=1,c={passive:!1};function u(p,v){return p.button&&p.button===v-1}e.util.object.extend(e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(o,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(p,v){var g=this.upperCanvasEl,m=this._getEventPrefix();p(e.window,"resize",this._onResize),p(g,m+"down",this._onMouseDown),p(g,m+"move",this._onMouseMove,c),p(g,m+"out",this._onMouseOut),p(g,m+"enter",this._onMouseEnter),p(g,"wheel",this._onMouseWheel),p(g,"contextmenu",this._onContextMenu),p(g,"dblclick",this._onDoubleClick),p(g,"dragover",this._onDragOver),p(g,"dragenter",this._onDragEnter),p(g,"dragleave",this._onDragLeave),p(g,"drop",this._onDrop),this.enablePointerEvents||p(g,"touchstart",this._onTouchStart,c),typeof eventjs<"u"&&v in eventjs&&(eventjs[v](g,"gesture",this._onGesture),eventjs[v](g,"drag",this._onDrag),eventjs[v](g,"orientation",this._onOrientationChange),eventjs[v](g,"shake",this._onShake),eventjs[v](g,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(a,"remove");var p=this._getEventPrefix();a(e.document,p+"up",this._onMouseUp),a(e.document,"touchend",this._onTouchEnd,c),a(e.document,p+"move",this._onMouseMove,c),a(e.document,"touchmove",this._onMouseMove,c)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(p,v){this.__onTransformGesture&&this.__onTransformGesture(p,v)},_onDrag:function(p,v){this.__onDrag&&this.__onDrag(p,v)},_onMouseWheel:function(p){this.__onMouseWheel(p)},_onMouseOut:function(p){var v=this._hoveredTarget;this.fire("mouse:out",{target:v,e:p}),this._hoveredTarget=null,v&&v.fire("mouseout",{e:p});var g=this;this._hoveredTargets.forEach(function(m){g.fire("mouse:out",{target:m,e:p}),m&&m.fire("mouseout",{e:p})}),this._hoveredTargets=[]},_onMouseEnter:function(p){!this._currentTransform&&!this.findTarget(p)&&(this.fire("mouse:over",{target:null,e:p}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(p,v){this.__onOrientationChange&&this.__onOrientationChange(p,v)},_onShake:function(p,v){this.__onShake&&this.__onShake(p,v)},_onLongPress:function(p,v){this.__onLongPress&&this.__onLongPress(p,v)},_onDragOver:function(p){p.preventDefault();var v=this._simpleEventHandler("dragover",p);this._fireEnterLeaveEvents(v,p)},_onDrop:function(p){return this._simpleEventHandler("drop:before",p),this._simpleEventHandler("drop",p)},_onContextMenu:function(p){return this.stopContextMenu&&(p.stopPropagation(),p.preventDefault()),!1},_onDoubleClick:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"dblclick"),this._resetTransformEventData(p)},getPointerId:function(p){var v=p.changedTouches;return v?v[0]&&v[0].identifier:this.enablePointerEvents?p.pointerId:-1},_isMainEvent:function(p){return p.isPrimary===!0?!0:p.isPrimary===!1?!1:p.type==="touchend"&&p.touches.length===0?!0:p.changedTouches?p.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(p){p.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(p)),this.__onMouseDown(p),this._resetTransformEventData();var v=this.upperCanvasEl,g=this._getEventPrefix();o(e.document,"touchend",this._onTouchEnd,c),o(e.document,"touchmove",this._onMouseMove,c),a(v,g+"down",this._onMouseDown)},_onMouseDown:function(p){this.__onMouseDown(p),this._resetTransformEventData();var v=this.upperCanvasEl,g=this._getEventPrefix();a(v,g+"move",this._onMouseMove,c),o(e.document,g+"up",this._onMouseUp),o(e.document,g+"move",this._onMouseMove,c)},_onTouchEnd:function(p){if(!(p.touches.length>0)){this.__onMouseUp(p),this._resetTransformEventData(),this.mainTouchId=null;var v=this._getEventPrefix();a(e.document,"touchend",this._onTouchEnd,c),a(e.document,"touchmove",this._onMouseMove,c);var g=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){o(g.upperCanvasEl,v+"down",g._onMouseDown),g._willAddMouseDown=0},400)}},_onMouseUp:function(p){this.__onMouseUp(p),this._resetTransformEventData();var v=this.upperCanvasEl,g=this._getEventPrefix();this._isMainEvent(p)&&(a(e.document,g+"up",this._onMouseUp),a(e.document,g+"move",this._onMouseMove,c),o(v,g+"move",this._onMouseMove,c))},_onMouseMove:function(p){!this.allowTouchScrolling&&p.preventDefault&&p.preventDefault(),this.__onMouseMove(p)},_onResize:function(){this.calcOffset()},_shouldRender:function(p){var v=this._activeObject;return!!v!=!!p||v&&p&&v!==p?!0:(v&&v.isEditing,!1)},__onMouseUp:function(p){var v,g=this._currentTransform,m=this._groupSelector,y=!1,x=!m||m.left===0&&m.top===0;if(this._cacheTransformEventData(p),v=this._target,this._handleEvent(p,"up:before"),u(p,f)){this.fireRightClick&&this._handleEvent(p,"up",f,x);return}if(u(p,h)){this.fireMiddleClick&&this._handleEvent(p,"up",h,x),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(p);return}if(this._isMainEvent(p)){if(g&&(this._finalizeCurrentTransform(p),y=g.actionPerformed),!x){var b=v===this._activeObject;this._maybeGroupObjects(p),y||(y=this._shouldRender(v)||!b&&v===this._activeObject)}var w,S;if(v){if(w=v._findTargetCorner(this.getPointer(p,!0),e.util.isTouchEvent(p)),v.selectable&&v!==this._activeObject&&v.activeOn==="up")this.setActiveObject(v,p),y=!0;else{var _=v.controls[w],C=_&&_.getMouseUpHandler(p,v,_);C&&(S=this.getPointer(p),C(p,g,S.x,S.y))}v.isMoving=!1}if(g&&(g.target!==v||g.corner!==w)){var k=g.target&&g.target.controls[g.corner],A=k&&k.getMouseUpHandler(p,v,_);S=S||this.getPointer(p),A&&A(p,g,S.x,S.y)}this._setCursorFromEvent(p,v),this._handleEvent(p,"up",l,x),this._groupSelector=null,this._currentTransform=null,v&&(v.__corner=0),y?this.requestRenderAll():x||this.renderTop()}},_simpleEventHandler:function(p,v){var g=this.findTarget(v),m=this.targets,y={e:v,target:g,subTargets:m};if(this.fire(p,y),g&&g.fire(p,y),!m)return g;for(var x=0;x<m.length;x++)m[x].fire(p,y);return g},_handleEvent:function(p,v,g,m){var y=this._target,x=this.targets||[],b={e:p,target:y,subTargets:x,button:g||l,isClick:m||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};v==="up"&&(b.currentTarget=this.findTarget(p),b.currentSubTargets=this.targets),this.fire("mouse:"+v,b),y&&y.fire("mouse"+v,b);for(var w=0;w<x.length;w++)x[w].fire("mouse"+v,b)},_finalizeCurrentTransform:function(p){var v=this._currentTransform,g=v.target,m={e:p,target:g,transform:v,action:v.action};g._scaling&&(g._scaling=!1),g.setCoords(),(v.actionPerformed||this.stateful&&g.hasStateChanged())&&this._fire("modified",m)},_onMouseDownInDrawingMode:function(p){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(p).requestRenderAll();var v=this.getPointer(p);this.freeDrawingBrush.onMouseDown(v,{e:p,pointer:v}),this._handleEvent(p,"down")},_onMouseMoveInDrawingMode:function(p){if(this._isCurrentlyDrawing){var v=this.getPointer(p);this.freeDrawingBrush.onMouseMove(v,{e:p,pointer:v})}this.setCursor(this.freeDrawingCursor),this._handleEvent(p,"move")},_onMouseUpInDrawingMode:function(p){var v=this.getPointer(p);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:p,pointer:v}),this._handleEvent(p,"up")},__onMouseDown:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"down:before");var v=this._target;if(u(p,f)){this.fireRightClick&&this._handleEvent(p,"down",f);return}if(u(p,h)){this.fireMiddleClick&&this._handleEvent(p,"down",h);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(p);return}if(this._isMainEvent(p)&&!this._currentTransform){var g=this._pointer;this._previousPointer=g;var m=this._shouldRender(v),y=this._shouldGroup(p,v);if(this._shouldClearSelection(p,v)?this.discardActiveObject(p):y&&(this._handleGrouping(p,v),v=this._activeObject),this.selection&&(!v||!v.selectable&&!v.isEditing&&v!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),v){var x=v===this._activeObject;v.selectable&&v.activeOn==="down"&&this.setActiveObject(v,p);var b=v._findTargetCorner(this.getPointer(p,!0),e.util.isTouchEvent(p));if(v.__corner=b,v===this._activeObject&&(b||!y)){this._setupCurrentTransform(p,v,x);var w=v.controls[b],g=this.getPointer(p),S=w&&w.getMouseDownHandler(p,v,w);S&&S(p,this._currentTransform,g.x,g.y)}}this._handleEvent(p,"down"),(m||y)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(p){this._resetTransformEventData(),this._pointer=this.getPointer(p,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(p)||null},_beforeTransform:function(p){var v=this._currentTransform;this.stateful&&v.target.saveState(),this.fire("before:transform",{e:p,transform:v})},__onMouseMove:function(p){this._handleEvent(p,"move:before"),this._cacheTransformEventData(p);var v,g;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(p);return}if(this._isMainEvent(p)){var m=this._groupSelector;m?(g=this._absolutePointer,m.left=g.x-m.ex,m.top=g.y-m.ey,this.renderTop()):this._currentTransform?this._transformObject(p):(v=this.findTarget(p)||null,this._setCursorFromEvent(p,v),this._fireOverOutEvents(v,p)),this._handleEvent(p,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(p,v){var g=this._hoveredTarget,m=this._hoveredTargets,y=this.targets,x=Math.max(m.length,y.length);this.fireSyntheticInOutEvents(p,v,{oldTarget:g,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var b=0;b<x;b++)this.fireSyntheticInOutEvents(y[b],v,{oldTarget:m[b],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=p,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(p,v){var g=this._draggedoverTarget,m=this._hoveredTargets,y=this.targets,x=Math.max(m.length,y.length);this.fireSyntheticInOutEvents(p,v,{oldTarget:g,evtOut:"dragleave",evtIn:"dragenter"});for(var b=0;b<x;b++)this.fireSyntheticInOutEvents(y[b],v,{oldTarget:m[b],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=p},fireSyntheticInOutEvents:function(p,v,g){var m,y,x=g.oldTarget,b,w,S=x!==p,_=g.canvasEvtIn,C=g.canvasEvtOut;S&&(m={e:v,target:p,previousTarget:x},y={e:v,target:x,nextTarget:p}),w=p&&S,b=x&&S,b&&(C&&this.fire(C,y),x.fire(g.evtOut,y)),w&&(_&&this.fire(_,m),p.fire(g.evtIn,m))},__onMouseWheel:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"wheel"),this._resetTransformEventData()},_transformObject:function(p){var v=this.getPointer(p),g=this._currentTransform;g.reset=!1,g.shiftKey=p.shiftKey,g.altKey=p[this.centeredKey],this._performTransformAction(p,g,v),g.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(p,v,g){var m=g.x,y=g.y,x=v.action,b=!1,w=v.actionHandler;w&&(b=w(p,v,m,y)),x==="drag"&&b&&(v.target.isMoving=!0,this.setCursor(v.target.moveCursor||this.moveCursor)),v.actionPerformed=v.actionPerformed||b},_fire:e.controlsUtils.fireEvent,_setCursorFromEvent:function(p,v){if(!v)return this.setCursor(this.defaultCursor),!1;var g=v.hoverCursor||this.hoverCursor,m=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,y=(!m||!m.contains(v))&&v._findTargetCorner(this.getPointer(p,!0));y?this.setCursor(this.getCornerCursor(y,v,p)):(v.subTargetCheck&&this.targets.concat().reverse().map(function(x){g=x.hoverCursor||g}),this.setCursor(g))},getCornerCursor:function(p,v,g){var m=v.controls[p];return m.cursorStyleHandler(g,m,v)}})}(),function(){var o=Math.min,a=Math.max;e.util.object.extend(e.Canvas.prototype,{_shouldGroup:function(f,h){var l=this._activeObject;return l&&this._isSelectionKeyPressed(f)&&h&&h.selectable&&this.selection&&(l!==h||l.type==="activeSelection")&&!h.onSelect({e:f})},_handleGrouping:function(f,h){var l=this._activeObject;l.__corner||h===l&&(h=this.findTarget(f,!0),!h||!h.selectable)||(l&&l.type==="activeSelection"?this._updateActiveSelection(h,f):this._createActiveSelection(h,f))},_updateActiveSelection:function(f,h){var l=this._activeObject,c=l._objects.slice(0);l.contains(f)?(l.removeWithUpdate(f),this._hoveredTarget=f,this._hoveredTargets=this.targets.concat(),l.size()===1&&this._setActiveObject(l.item(0),h)):(l.addWithUpdate(f),this._hoveredTarget=l,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(c,h)},_createActiveSelection:function(f,h){var l=this.getActiveObjects(),c=this._createGroup(f);this._hoveredTarget=c,this._setActiveObject(c,h),this._fireSelectionEvents(l,h)},_createGroup:function(f){var h=this._objects,l=h.indexOf(this._activeObject)<h.indexOf(f),c=l?[this._activeObject,f]:[f,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new e.ActiveSelection(c,{canvas:this})},_groupSelectedObjects:function(f){var h=this._collectObjects(f),l;h.length===1?this.setActiveObject(h[0],f):h.length>1&&(l=new e.ActiveSelection(h.reverse(),{canvas:this}),this.setActiveObject(l,f))},_collectObjects:function(f){for(var h=[],l,c=this._groupSelector.ex,u=this._groupSelector.ey,p=c+this._groupSelector.left,v=u+this._groupSelector.top,g=new e.Point(o(c,p),o(u,v)),m=new e.Point(a(c,p),a(u,v)),y=!this.selectionFullyContained,x=c===p&&u===v,b=this._objects.length;b--&&(l=this._objects[b],!(!(!l||!l.selectable||!l.visible)&&(y&&l.intersectsWithRect(g,m,!0)||l.isContainedWithinRect(g,m,!0)||y&&l.containsPoint(g,null,!0)||y&&l.containsPoint(m,null,!0))&&(h.push(l),x))););return h.length>1&&(h=h.filter(function(w){return!w.onSelect({e:f})})),h},_maybeGroupObjects:function(f){this.selection&&this._groupSelector&&this._groupSelectedObjects(f),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){e.util.object.extend(e.StaticCanvas.prototype,{toDataURL:function(o){o||(o={});var a=o.format||"png",f=o.quality||1,h=(o.multiplier||1)*(o.enableRetinaScaling?this.getRetinaScaling():1),l=this.toCanvasElement(h,o);return e.util.toDataURL(l,a,f)},toCanvasElement:function(o,a){o=o||1,a=a||{};var f=(a.width||this.width)*o,h=(a.height||this.height)*o,l=this.getZoom(),c=this.width,u=this.height,p=l*o,v=this.viewportTransform,g=(v[4]-(a.left||0))*o,m=(v[5]-(a.top||0))*o,y=this.interactive,x=[p,0,0,p,g,m],b=this.enableRetinaScaling,w=e.util.createCanvasElement(),S=this.contextTop;return w.width=f,w.height=h,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=x,this.width=f,this.height=h,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=v,this.width=c,this.height=u,this.calcViewportBoundaries(),this.interactive=y,this.enableRetinaScaling=b,this.contextTop=S,w}})}(),e.util.object.extend(e.StaticCanvas.prototype,{loadFromJSON:function(o,a,f){if(o){var h=typeof o=="string"?JSON.parse(o):e.util.object.clone(o),l=this,c=h.clipPath,u=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete h.clipPath,this._enlivenObjects(h.objects,function(p){l.clear(),l._setBgOverlay(h,function(){c?l._enlivenObjects([c],function(v){l.clipPath=v[0],l.__setupCanvas.call(l,h,p,u,a)}):l.__setupCanvas.call(l,h,p,u,a)})},f),this}},__setupCanvas:function(o,a,f,h){var l=this;a.forEach(function(c,u){l.insertAt(c,u)}),this.renderOnAddRemove=f,delete o.objects,delete o.backgroundImage,delete o.overlayImage,delete o.background,delete o.overlay,this._setOptions(o),this.renderAll(),h&&h()},_setBgOverlay:function(o,a){var f={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!o.backgroundImage&&!o.overlayImage&&!o.background&&!o.overlay){a&&a();return}var h=function(){f.backgroundImage&&f.overlayImage&&f.backgroundColor&&f.overlayColor&&a&&a()};this.__setBgOverlay("backgroundImage",o.backgroundImage,f,h),this.__setBgOverlay("overlayImage",o.overlayImage,f,h),this.__setBgOverlay("backgroundColor",o.background,f,h),this.__setBgOverlay("overlayColor",o.overlay,f,h)},__setBgOverlay:function(o,a,f,h){var l=this;if(!a){f[o]=!0,h&&h();return}o==="backgroundImage"||o==="overlayImage"?e.util.enlivenObjects([a],function(c){l[o]=c[0],f[o]=!0,h&&h()}):this["set"+e.util.string.capitalize(o,!0)](a,function(){f[o]=!0,h&&h()})},_enlivenObjects:function(o,a,f){if(!o||o.length===0){a&&a([]);return}e.util.enlivenObjects(o,function(h){a&&a(h)},null,f)},_toDataURL:function(o,a){this.clone(function(f){a(f.toDataURL(o))})},_toDataURLWithMultiplier:function(o,a,f){this.clone(function(h){f(h.toDataURLWithMultiplier(o,a))})},clone:function(o,a){var f=JSON.stringify(this.toJSON(a));this.cloneWithoutData(function(h){h.loadFromJSON(f,function(){o&&o(h)})})},cloneWithoutData:function(o){var a=e.util.createCanvasElement();a.width=this.width,a.height=this.height;var f=new e.Canvas(a);this.backgroundImage?(f.setBackgroundImage(this.backgroundImage.src,function(){f.renderAll(),o&&o(f)}),f.backgroundImageOpacity=this.backgroundImageOpacity,f.backgroundImageStretch=this.backgroundImageStretch):o&&o(f)}}),function(o){var a=o.fabric||(o.fabric={}),f=a.util.object.extend,h=a.util.object.clone,l=a.util.toFixed,c=a.util.string.capitalize,u=a.util.degreesToRadians,p=!a.isLikelyNode,v=2;a.Object||(a.Object=a.util.createClass(a.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:p,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(g){g&&this.setOptions(g)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=a.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(g){var m=a.perfLimitSizeTotal,y=g.width,x=g.height,b=a.maxCacheSideLimit,w=a.minCacheSideLimit;if(y<=b&&x<=b&&y*x<=m)return y<w&&(g.width=w),x<w&&(g.height=w),g;var S=y/x,_=a.util.limitDimsByArea(S,m),C=a.util.capValue,k=C(w,_.x,b),A=C(w,_.y,b);return y>k&&(g.zoomX/=y/k,g.width=k,g.capped=!0),x>A&&(g.zoomY/=x/A,g.height=A,g.capped=!0),g},_getCacheCanvasDimensions:function(){var g=this.getTotalObjectScaling(),m=this._getTransformedDimensions(0,0),y=m.x*g.scaleX/this.scaleX,x=m.y*g.scaleY/this.scaleY;return{width:y+v,height:x+v,zoomX:g.scaleX,zoomY:g.scaleY,x:y,y:x}},_updateCacheCanvas:function(){var g=this.canvas;if(this.noScaleCache&&g&&g._currentTransform){var m=g._currentTransform.target,y=g._currentTransform.action;if(this===m&&y.slice&&y.slice(0,5)==="scale")return!1}var x=this._cacheCanvas,b=this._limitCacheSize(this._getCacheCanvasDimensions()),w=a.minCacheSideLimit,S=b.width,_=b.height,C,k,A=b.zoomX,F=b.zoomY,B=S!==this.cacheWidth||_!==this.cacheHeight,H=this.zoomX!==A||this.zoomY!==F,L=B||H,z=0,I=0,E=!1;if(B){var V=this._cacheCanvas.width,T=this._cacheCanvas.height,P=S>V||_>T,j=(S<V*.9||_<T*.9)&&V>w&&T>w;E=P||j,P&&!b.capped&&(S>w||_>w)&&(z=S*.1,I=_*.1)}return this instanceof a.Text&&this.path&&(L=!0,E=!0,z+=this.getHeightOfLine(0)*this.zoomX,I+=this.getHeightOfLine(0)*this.zoomY),L?(E?(x.width=Math.ceil(S+z),x.height=Math.ceil(_+I)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,x.width,x.height)),C=b.x/2,k=b.y/2,this.cacheTranslationX=Math.round(x.width/2-C)+C,this.cacheTranslationY=Math.round(x.height/2-k)+k,this.cacheWidth=S,this.cacheHeight=_,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(A,F),this.zoomX=A,this.zoomY=F,!0):!1},setOptions:function(g){this._setOptions(g),this._initGradient(g.fill,"fill"),this._initGradient(g.stroke,"stroke"),this._initPattern(g.fill,"fill"),this._initPattern(g.stroke,"stroke")},transform:function(g){var m=this.group&&!this.group._transformDone||this.group&&this.canvas&&g===this.canvas.contextTop,y=this.calcTransformMatrix(!m);g.transform(y[0],y[1],y[2],y[3],y[4],y[5])},toObject:function(g){var m=a.Object.NUM_FRACTION_DIGITS,y={type:this.type,version:a.version,originX:this.originX,originY:this.originY,left:l(this.left,m),top:l(this.top,m),width:l(this.width,m),height:l(this.height,m),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:l(this.strokeWidth,m),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:l(this.strokeMiterLimit,m),scaleX:l(this.scaleX,m),scaleY:l(this.scaleY,m),angle:l(this.angle,m),flipX:this.flipX,flipY:this.flipY,opacity:l(this.opacity,m),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:l(this.skewX,m),skewY:l(this.skewY,m)};return this.clipPath&&!this.clipPath.excludeFromExport&&(y.clipPath=this.clipPath.toObject(g),y.clipPath.inverted=this.clipPath.inverted,y.clipPath.absolutePositioned=this.clipPath.absolutePositioned),a.util.populateWithProperties(this,y,g),this.includeDefaultValues||(y=this._removeDefaultValues(y)),y},toDatalessObject:function(g){return this.toObject(g)},_removeDefaultValues:function(g){var m=a.util.getKlass(g.type).prototype,y=m.stateProperties;return y.forEach(function(x){x==="left"||x==="top"||(g[x]===m[x]&&delete g[x],Array.isArray(g[x])&&Array.isArray(m[x])&&g[x].length===0&&m[x].length===0&&delete g[x])}),g},toString:function(){return"#<fabric."+c(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var g=a.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(g.scaleX),scaleY:Math.abs(g.scaleY)}},getTotalObjectScaling:function(){var g=this.getObjectScaling(),m=g.scaleX,y=g.scaleY;if(this.canvas){var x=this.canvas.getZoom(),b=this.canvas.getRetinaScaling();m*=x*b,y*=x*b}return{scaleX:m,scaleY:y}},getObjectOpacity:function(){var g=this.opacity;return this.group&&(g*=this.group.getObjectOpacity()),g},_set:function(g,m){var y=g==="scaleX"||g==="scaleY",x=this[g]!==m,b=!1;return y&&(m=this._constrainScale(m)),g==="scaleX"&&m<0?(this.flipX=!this.flipX,m*=-1):g==="scaleY"&&m<0?(this.flipY=!this.flipY,m*=-1):g==="shadow"&&m&&!(m instanceof a.Shadow)?m=new a.Shadow(m):g==="dirty"&&this.group&&this.group.set("dirty",m),this[g]=m,x&&(b=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(g)>-1?(this.dirty=!0,b&&this.group.set("dirty",!0)):b&&this.stateProperties.indexOf(g)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:a.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(g){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(g.save(),this._setupCompositeOperation(g),this.drawSelectionBackground(g),this.transform(g),this._setOpacity(g),this._setShadow(g,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(g)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(g),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),g.restore())},renderCache:function(g){g=g||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,g.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(g,m){if(g.save(),m.inverted?g.globalCompositeOperation="destination-out":g.globalCompositeOperation="destination-in",m.absolutePositioned){var y=a.util.invertTransform(this.calcTransformMatrix());g.transform(y[0],y[1],y[2],y[3],y[4],y[5])}m.transform(g),g.scale(1/m.zoomX,1/m.zoomY),g.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),g.restore()},drawObject:function(g,m){var y=this.fill,x=this.stroke;m?(this.fill="black",this.stroke="",this._setClippingProperties(g)):this._renderBackground(g),this._render(g),this._drawClipPath(g,this.clipPath),this.fill=y,this.stroke=x},_drawClipPath:function(g,m){m&&(m.canvas=this.canvas,m.shouldCache(),m._transformDone=!0,m.renderCache({forClipping:!0}),this.drawClipPathOnCache(g,m))},drawCacheOnCanvas:function(g){g.scale(1/this.zoomX,1/this.zoomY),g.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(g){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!g&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!g){var m=this.cacheWidth/this.zoomX,y=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-m/2,-y/2,m,y)}return!0}return!1},_renderBackground:function(g){if(this.backgroundColor){var m=this._getNonTransformedDimensions();g.fillStyle=this.backgroundColor,g.fillRect(-m.x/2,-m.y/2,m.x,m.y),this._removeShadow(g)}},_setOpacity:function(g){this.group&&!this.group._transformDone?g.globalAlpha=this.getObjectOpacity():g.globalAlpha*=this.opacity},_setStrokeStyles:function(g,m){var y=m.stroke;y&&(g.lineWidth=m.strokeWidth,g.lineCap=m.strokeLineCap,g.lineDashOffset=m.strokeDashOffset,g.lineJoin=m.strokeLineJoin,g.miterLimit=m.strokeMiterLimit,y.toLive?y.gradientUnits==="percentage"||y.gradientTransform||y.patternTransform?this._applyPatternForTransformedGradient(g,y):(g.strokeStyle=y.toLive(g,this),this._applyPatternGradientTransform(g,y)):g.strokeStyle=m.stroke)},_setFillStyles:function(g,m){var y=m.fill;y&&(y.toLive?(g.fillStyle=y.toLive(g,this),this._applyPatternGradientTransform(g,m.fill)):g.fillStyle=y)},_setClippingProperties:function(g){g.globalAlpha=1,g.strokeStyle="transparent",g.fillStyle="#000000"},_setLineDash:function(g,m){!m||m.length===0||(1&m.length&&m.push.apply(m,m),g.setLineDash(m))},_renderControls:function(g,m){var y=this.getViewportTransform(),x=this.calcTransformMatrix(),b,w,S;m=m||{},w=typeof m.hasBorders<"u"?m.hasBorders:this.hasBorders,S=typeof m.hasControls<"u"?m.hasControls:this.hasControls,x=a.util.multiplyTransformMatrices(y,x),b=a.util.qrDecompose(x),g.save(),g.translate(b.translateX,b.translateY),g.lineWidth=1*this.borderScaleFactor,this.group||(g.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(b.angle-=180),g.rotate(u(this.group?b.angle:this.angle)),m.forActiveSelection||this.group?w&&this.drawBordersInGroup(g,b,m):w&&this.drawBorders(g,m),S&&this.drawControls(g,m),g.restore()},_setShadow:function(g){if(this.shadow){var m=this.shadow,y=this.canvas,x,b=y&&y.viewportTransform[0]||1,w=y&&y.viewportTransform[3]||1;m.nonScaling?x={scaleX:1,scaleY:1}:x=this.getObjectScaling(),y&&y._isRetinaScaling()&&(b*=a.devicePixelRatio,w*=a.devicePixelRatio),g.shadowColor=m.color,g.shadowBlur=m.blur*a.browserShadowBlurConstant*(b+w)*(x.scaleX+x.scaleY)/4,g.shadowOffsetX=m.offsetX*b*x.scaleX,g.shadowOffsetY=m.offsetY*w*x.scaleY}},_removeShadow:function(g){this.shadow&&(g.shadowColor="",g.shadowBlur=g.shadowOffsetX=g.shadowOffsetY=0)},_applyPatternGradientTransform:function(g,m){if(!m||!m.toLive)return{offsetX:0,offsetY:0};var y=m.gradientTransform||m.patternTransform,x=-this.width/2+m.offsetX||0,b=-this.height/2+m.offsetY||0;return m.gradientUnits==="percentage"?g.transform(this.width,0,0,this.height,x,b):g.transform(1,0,0,1,x,b),y&&g.transform(y[0],y[1],y[2],y[3],y[4],y[5]),{offsetX:x,offsetY:b}},_renderPaintInOrder:function(g){this.paintFirst==="stroke"?(this._renderStroke(g),this._renderFill(g)):(this._renderFill(g),this._renderStroke(g))},_render:function(){},_renderFill:function(g){this.fill&&(g.save(),this._setFillStyles(g,this),this.fillRule==="evenodd"?g.fill("evenodd"):g.fill(),g.restore())},_renderStroke:function(g){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(g),g.save(),this.strokeUniform&&this.group){var m=this.getObjectScaling();g.scale(1/m.scaleX,1/m.scaleY)}else this.strokeUniform&&g.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(g,this.strokeDashArray),this._setStrokeStyles(g,this),g.stroke(),g.restore()}},_applyPatternForTransformedGradient:function(g,m){var y=this._limitCacheSize(this._getCacheCanvasDimensions()),x=a.util.createCanvasElement(),b,w=this.canvas.getRetinaScaling(),S=y.x/this.scaleX/w,_=y.y/this.scaleY/w;x.width=Math.ceil(S),x.height=Math.ceil(_),b=x.getContext("2d"),b.beginPath(),b.moveTo(0,0),b.lineTo(S,0),b.lineTo(S,_),b.lineTo(0,_),b.closePath(),b.translate(S/2,_/2),b.scale(y.zoomX/this.scaleX/w,y.zoomY/this.scaleY/w),this._applyPatternGradientTransform(b,m),b.fillStyle=m.toLive(g),b.fill(),g.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),g.scale(w*this.scaleX/y.zoomX,w*this.scaleY/y.zoomY),g.strokeStyle=b.createPattern(x,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var g=a.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",g.scaleX),this.set("scaleY",g.scaleY),this.angle=g.angle,this.skewX=g.skewX,this.skewY=0}},_removeTransformMatrix:function(g){var m=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),m=a.util.transformPoint(m,this.transformMatrix)),this.transformMatrix=null,g&&(this.scaleX*=g.scaleX,this.scaleY*=g.scaleY,this.cropX=g.cropX,this.cropY=g.cropY,m.x+=g.offsetLeft,m.y+=g.offsetTop,this.width=g.width,this.height=g.height),this.setPositionByOrigin(m,"center","center")},clone:function(g,m){var y=this.toObject(m);this.constructor.fromObject?this.constructor.fromObject(y,g):a.Object._fromObject("Object",y,g)},cloneAsImage:function(g,m){var y=this.toCanvasElement(m);return g&&g(new a.Image(y)),this},toCanvasElement:function(g){g||(g={});var m=a.util,y=m.saveObjectTransform(this),x=this.group,b=this.shadow,w=Math.abs,S=(g.multiplier||1)*(g.enableRetinaScaling?a.devicePixelRatio:1);delete this.group,g.withoutTransform&&m.resetObjectTransform(this),g.withoutShadow&&(this.shadow=null);var _=a.util.createCanvasElement(),C=this.getBoundingRect(!0,!0),k=this.shadow,A,F={x:0,y:0},B,H,L;k&&(B=k.blur,k.nonScaling?A={scaleX:1,scaleY:1}:A=this.getObjectScaling(),F.x=2*Math.round(w(k.offsetX)+B)*w(A.scaleX),F.y=2*Math.round(w(k.offsetY)+B)*w(A.scaleY)),H=C.width+F.x,L=C.height+F.y,_.width=Math.ceil(H),_.height=Math.ceil(L);var z=new a.StaticCanvas(_,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});g.format==="jpeg"&&(z.backgroundColor="#fff"),this.setPositionByOrigin(new a.Point(z.width/2,z.height/2),"center","center");var I=this.canvas;z.add(this);var E=z.toCanvasElement(S||1,g);return this.shadow=b,this.set("canvas",I),x&&(this.group=x),this.set(y).setCoords(),z._objects=[],z.dispose(),z=null,E},toDataURL:function(g){return g||(g={}),a.util.toDataURL(this.toCanvasElement(g),g.format||"png",g.quality||1)},isType:function(g){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===g},complexity:function(){return 1},toJSON:function(g){return this.toObject(g)},rotate:function(g){var m=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return m&&this._setOriginToCenter(),this.set("angle",g),m&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(g,m){m=m||this.canvas.getPointer(g);var y=new a.Point(m.x,m.y),x=this._getLeftTopCoords();return this.angle&&(y=a.util.rotatePoint(y,x,u(-this.angle))),{x:y.x-x.x,y:y.y-x.y}},_setupCompositeOperation:function(g){this.globalCompositeOperation&&(g.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){a.runningAnimations&&a.runningAnimations.cancelByTarget(this)}}),a.util.createAccessors&&a.util.createAccessors(a.Object),f(a.Object.prototype,a.Observable),a.Object.NUM_FRACTION_DIGITS=2,a.Object.ENLIVEN_PROPS=["clipPath"],a.Object._fromObject=function(g,m,y,x){var b=a[g];m=h(m,!0),a.util.enlivenPatterns([m.fill,m.stroke],function(w){typeof w[0]<"u"&&(m.fill=w[0]),typeof w[1]<"u"&&(m.stroke=w[1]),a.util.enlivenObjectEnlivables(m,m,function(){var S=x?new b(m[x],m):new b(m);y&&y(S)})})},a.Object.__uid=0)}(t),function(){var o=e.util.degreesToRadians,a={left:-.5,center:0,right:.5},f={top:-.5,center:0,bottom:.5};e.util.object.extend(e.Object.prototype,{translateToGivenOrigin:function(h,l,c,u,p){var v=h.x,g=h.y,m,y,x;return typeof l=="string"?l=a[l]:l-=.5,typeof u=="string"?u=a[u]:u-=.5,m=u-l,typeof c=="string"?c=f[c]:c-=.5,typeof p=="string"?p=f[p]:p-=.5,y=p-c,(m||y)&&(x=this._getTransformedDimensions(),v=h.x+m*x.x,g=h.y+y*x.y),new e.Point(v,g)},translateToCenterPoint:function(h,l,c){var u=this.translateToGivenOrigin(h,l,c,"center","center");return this.angle?e.util.rotatePoint(u,h,o(this.angle)):u},translateToOriginPoint:function(h,l,c){var u=this.translateToGivenOrigin(h,"center","center",l,c);return this.angle?e.util.rotatePoint(u,h,o(this.angle)):u},getCenterPoint:function(){var h=new e.Point(this.left,this.top);return this.translateToCenterPoint(h,this.originX,this.originY)},getPointByOrigin:function(h,l){var c=this.getCenterPoint();return this.translateToOriginPoint(c,h,l)},toLocalPoint:function(h,l,c){var u=this.getCenterPoint(),p,v;return typeof l<"u"&&typeof c<"u"?p=this.translateToGivenOrigin(u,"center","center",l,c):p=new e.Point(this.left,this.top),v=new e.Point(h.x,h.y),this.angle&&(v=e.util.rotatePoint(v,u,-o(this.angle))),v.subtractEquals(p)},setPositionByOrigin:function(h,l,c){var u=this.translateToCenterPoint(h,l,c),p=this.translateToOriginPoint(u,this.originX,this.originY);this.set("left",p.x),this.set("top",p.y)},adjustPosition:function(h){var l=o(this.angle),c=this.getScaledWidth(),u=e.util.cos(l)*c,p=e.util.sin(l)*c,v,g;typeof this.originX=="string"?v=a[this.originX]:v=this.originX-.5,typeof h=="string"?g=a[h]:g=h-.5,this.left+=u*(g-v),this.top+=p*(g-v),this.setCoords(),this.originX=h},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var h=this.getCenterPoint();this.originX="center",this.originY="center",this.left=h.x,this.top=h.y},_resetOrigin:function(){var h=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=h.x,this.top=h.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function o(c){return[new e.Point(c.tl.x,c.tl.y),new e.Point(c.tr.x,c.tr.y),new e.Point(c.br.x,c.br.y),new e.Point(c.bl.x,c.bl.y)]}var a=e.util,f=a.degreesToRadians,h=a.multiplyTransformMatrices,l=a.transformPoint;a.object.extend(e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(c,u){return u?c?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),c?this.aCoords:this.lineCoords)},getCoords:function(c,u){return o(this._getCoords(c,u))},intersectsWithRect:function(c,u,p,v){var g=this.getCoords(p,v),m=e.Intersection.intersectPolygonRectangle(g,c,u);return m.status==="Intersection"},intersectsWithObject:function(c,u,p){var v=e.Intersection.intersectPolygonPolygon(this.getCoords(u,p),c.getCoords(u,p));return v.status==="Intersection"||c.isContainedWithinObject(this,u,p)||this.isContainedWithinObject(c,u,p)},isContainedWithinObject:function(c,u,p){for(var v=this.getCoords(u,p),g=u?c.aCoords:c.lineCoords,m=0,y=c._getImageLines(g);m<4;m++)if(!c.containsPoint(v[m],y))return!1;return!0},isContainedWithinRect:function(c,u,p,v){var g=this.getBoundingRect(p,v);return g.left>=c.x&&g.left+g.width<=u.x&&g.top>=c.y&&g.top+g.height<=u.y},containsPoint:function(c,m,p,v){var g=this._getCoords(p,v),m=m||this._getImageLines(g),y=this._findCrossPoints(c,m);return y!==0&&y%2===1},isOnScreen:function(c){if(!this.canvas)return!1;var u=this.canvas.vptCoords.tl,p=this.canvas.vptCoords.br,v=this.getCoords(!0,c);return v.some(function(g){return g.x<=p.x&&g.x>=u.x&&g.y<=p.y&&g.y>=u.y})||this.intersectsWithRect(u,p,!0,c)?!0:this._containsCenterOfCanvas(u,p,c)},_containsCenterOfCanvas:function(c,u,p){var v={x:(c.x+u.x)/2,y:(c.y+u.y)/2};return!!this.containsPoint(v,null,!0,p)},isPartiallyOnScreen:function(c){if(!this.canvas)return!1;var u=this.canvas.vptCoords.tl,p=this.canvas.vptCoords.br;if(this.intersectsWithRect(u,p,!0,c))return!0;var v=this.getCoords(!0,c).every(function(g){return(g.x>=p.x||g.x<=u.x)&&(g.y>=p.y||g.y<=u.y)});return v&&this._containsCenterOfCanvas(u,p,c)},_getImageLines:function(c){var u={topline:{o:c.tl,d:c.tr},rightline:{o:c.tr,d:c.br},bottomline:{o:c.br,d:c.bl},leftline:{o:c.bl,d:c.tl}};return u},_findCrossPoints:function(c,u){var p,v,g,m,y,x=0,b;for(var w in u)if(b=u[w],!(b.o.y<c.y&&b.d.y<c.y)&&!(b.o.y>=c.y&&b.d.y>=c.y)&&(b.o.x===b.d.x&&b.o.x>=c.x?y=b.o.x:(p=0,v=(b.d.y-b.o.y)/(b.d.x-b.o.x),g=c.y-p*c.x,m=b.o.y-v*b.o.x,y=-(g-m)/(p-v)),y>=c.x&&(x+=1),x===2))break;return x},getBoundingRect:function(c,u){var p=this.getCoords(c,u);return a.makeBoundingBoxFromPoints(p)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(c){return Math.abs(c)<this.minScaleLimit?c<0?-this.minScaleLimit:this.minScaleLimit:c===0?1e-4:c},scale:function(c){return this._set("scaleX",c),this._set("scaleY",c),this.setCoords()},scaleToWidth:function(c,u){var p=this.getBoundingRect(u).width/this.getScaledWidth();return this.scale(c/this.width/p)},scaleToHeight:function(c,u){var p=this.getBoundingRect(u).height/this.getScaledHeight();return this.scale(c/this.height/p)},calcLineCoords:function(){var c=this.getViewportTransform(),u=this.padding,p=f(this.angle),v=a.cos(p),g=a.sin(p),m=v*u,y=g*u,x=m+y,b=m-y,w=this.calcACoords(),S={tl:l(w.tl,c),tr:l(w.tr,c),bl:l(w.bl,c),br:l(w.br,c)};return u&&(S.tl.x-=b,S.tl.y-=x,S.tr.x+=x,S.tr.y-=b,S.bl.x-=x,S.bl.y+=b,S.br.x+=b,S.br.y+=x),S},calcOCoords:function(){var c=this._calcRotateMatrix(),u=this._calcTranslateMatrix(),p=this.getViewportTransform(),v=h(p,u),g=h(v,c),g=h(g,[1/p[0],0,0,1/p[3],0,0]),m=this._calculateCurrentDimensions(),y={};return this.forEachControl(function(x,b,w){y[b]=x.positionHandler(m,g,w)}),y},calcACoords:function(){var c=this._calcRotateMatrix(),u=this._calcTranslateMatrix(),p=h(u,c),v=this._getTransformedDimensions(),g=v.x/2,m=v.y/2;return{tl:l({x:-g,y:-m},p),tr:l({x:g,y:-m},p),bl:l({x:-g,y:m},p),br:l({x:g,y:m},p)}},setCoords:function(c){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),c?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return a.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var c=this.getCenterPoint();return[1,0,0,1,c.x,c.y]},transformMatrixKey:function(c){var u="_",p="";return!c&&this.group&&(p=this.group.transformMatrixKey(c)+u),p+this.top+u+this.left+u+this.scaleX+u+this.scaleY+u+this.skewX+u+this.skewY+u+this.angle+u+this.originX+u+this.originY+u+this.width+u+this.height+u+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(c){var u=this.calcOwnMatrix();if(c||!this.group)return u;var p=this.transformMatrixKey(c),v=this.matrixCache||(this.matrixCache={});return v.key===p?v.value:(this.group&&(u=h(this.group.calcTransformMatrix(!1),u)),v.key=p,v.value=u,u)},calcOwnMatrix:function(){var c=this.transformMatrixKey(!0),u=this.ownMatrixCache||(this.ownMatrixCache={});if(u.key===c)return u.value;var p=this._calcTranslateMatrix(),v={angle:this.angle,translateX:p[4],translateY:p[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return u.key=c,u.value=a.composeMatrix(v),u.value},_getNonTransformedDimensions:function(){var c=this.strokeWidth,u=this.width+c,p=this.height+c;return{x:u,y:p}},_getTransformedDimensions:function(c,u){typeof c>"u"&&(c=this.skewX),typeof u>"u"&&(u=this.skewY);var p,v,g,m=c===0&&u===0;if(this.strokeUniform?(v=this.width,g=this.height):(p=this._getNonTransformedDimensions(),v=p.x,g=p.y),m)return this._finalizeDimensions(v*this.scaleX,g*this.scaleY);var y=a.sizeAfterTransform(v,g,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:c,skewY:u});return this._finalizeDimensions(y.x,y.y)},_finalizeDimensions:function(c,u){return this.strokeUniform?{x:c+this.strokeWidth,y:u+this.strokeWidth}:{x:c,y:u}},_calculateCurrentDimensions:function(){var c=this.getViewportTransform(),u=this._getTransformedDimensions(),p=l(u,c,!0);return p.scalarAdd(2*this.padding)}})}(),e.util.object.extend(e.Object.prototype,{sendToBack:function(){return this.group?e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(o){return this.group?e.StaticCanvas.prototype.sendBackwards.call(this.group,this,o):this.canvas&&this.canvas.sendBackwards(this,o),this},bringForward:function(o){return this.group?e.StaticCanvas.prototype.bringForward.call(this.group,this,o):this.canvas&&this.canvas.bringForward(this,o),this},moveTo:function(o){return this.group&&this.group.type!=="activeSelection"?e.StaticCanvas.prototype.moveTo.call(this.group,this,o):this.canvas&&this.canvas.moveTo(this,o),this}}),function(){function o(f,h){if(h){if(h.toLive)return f+": url(#SVGID_"+h.id+"); ";var l=new e.Color(h),c=f+": "+l.toRgb()+"; ",u=l.getAlpha();return u!==1&&(c+=f+"-opacity: "+u.toString()+"; "),c}else return f+": none; "}var a=e.util.toFixed;e.util.object.extend(e.Object.prototype,{getSvgStyles:function(f){var h=this.fillRule?this.fillRule:"nonzero",l=this.strokeWidth?this.strokeWidth:"0",c=this.strokeDashArray?this.strokeDashArray.join(" "):"none",u=this.strokeDashOffset?this.strokeDashOffset:"0",p=this.strokeLineCap?this.strokeLineCap:"butt",v=this.strokeLineJoin?this.strokeLineJoin:"miter",g=this.strokeMiterLimit?this.strokeMiterLimit:"4",m=typeof this.opacity<"u"?this.opacity:"1",y=this.visible?"":" visibility: hidden;",x=f?"":this.getSvgFilter(),b=o("fill",this.fill),w=o("stroke",this.stroke);return[w,"stroke-width: ",l,"; ","stroke-dasharray: ",c,"; ","stroke-linecap: ",p,"; ","stroke-dashoffset: ",u,"; ","stroke-linejoin: ",v,"; ","stroke-miterlimit: ",g,"; ",b,"fill-rule: ",h,"; ","opacity: ",m,";",x,y].join("")},getSvgSpanStyles:function(f,h){var l="; ",u=f.fontFamily?"font-family: "+(f.fontFamily.indexOf("'")===-1&&f.fontFamily.indexOf('"')===-1?"'"+f.fontFamily+"'":f.fontFamily)+l:"",c=f.strokeWidth?"stroke-width: "+f.strokeWidth+l:"",u=u,p=f.fontSize?"font-size: "+f.fontSize+"px"+l:"",v=f.fontStyle?"font-style: "+f.fontStyle+l:"",g=f.fontWeight?"font-weight: "+f.fontWeight+l:"",m=f.fill?o("fill",f.fill):"",y=f.stroke?o("stroke",f.stroke):"",x=this.getSvgTextDecoration(f),b=f.deltaY?"baseline-shift: "+-f.deltaY+"; ":"";return x&&(x="text-decoration: "+x+l),[y,c,u,p,v,g,x,m,b,h?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(f){return["overline","underline","line-through"].filter(function(h){return f[h.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(f,h){var l=f?this.calcTransformMatrix():this.calcOwnMatrix(),c='transform="'+e.util.matrixToSVG(l);return c+(h||"")+'" '},_setSVGBg:function(f){if(this.backgroundColor){var h=e.Object.NUM_FRACTION_DIGITS;f.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',a(-this.width/2,h),'" y="',a(-this.height/2,h),'" width="',a(this.width,h),'" height="',a(this.height,h),`"></rect>
`)}},toSVG:function(f){return this._createBaseSVGMarkup(this._toSVG(f),{reviver:f})},toClipPathSVG:function(f){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(f),{reviver:f})},_createBaseClipPathSVGMarkup:function(f,h){h=h||{};var l=h.reviver,c=h.additionalTransform||"",u=[this.getSvgTransform(!0,c),this.getSvgCommons()].join(""),p=f.indexOf("COMMON_PARTS");return f[p]=u,l?l(f.join("")):f.join("")},_createBaseSVGMarkup:function(f,h){h=h||{};var l=h.noStyle,c=h.reviver,u=l?"":'style="'+this.getSvgStyles()+'" ',p=h.withShadow?'style="'+this.getSvgFilter()+'" ':"",v=this.clipPath,g=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",m=v&&v.absolutePositioned,y=this.stroke,x=this.fill,b=this.shadow,w,S=[],_,C=f.indexOf("COMMON_PARTS"),k=h.additionalTransform;return v&&(v.clipPathId="CLIPPATH_"+e.Object.__uid++,_='<clipPath id="'+v.clipPathId+`" >
`+v.toClipPathSVG(c)+`</clipPath>
`),m&&S.push("<g ",p,this.getSvgCommons(),` >
`),S.push("<g ",this.getSvgTransform(!1),m?"":p+this.getSvgCommons(),` >
`),w=[u,g,l?"":this.addPaintOrder()," ",k?'transform="'+k+'" ':""].join(""),f[C]=w,x&&x.toLive&&S.push(x.toSVG(this)),y&&y.toLive&&S.push(y.toSVG(this)),b&&S.push(b.toSVG(this)),v&&S.push(_),S.push(f.join("")),S.push(`</g>
`),m&&S.push(`</g>
`),c?c(S.join("")):S.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var o=e.util.object.extend,a="stateProperties";function f(l,c,u){var p={},v=!0;u.forEach(function(g){p[g]=l[g]}),o(l[c],p,v)}function h(l,c,u){if(l===c)return!0;if(Array.isArray(l)){if(!Array.isArray(c)||l.length!==c.length)return!1;for(var p=0,v=l.length;p<v;p++)if(!h(l[p],c[p]))return!1;return!0}else if(l&&typeof l=="object"){var g=Object.keys(l),m;if(!c||typeof c!="object"||!u&&g.length!==Object.keys(c).length)return!1;for(var p=0,v=g.length;p<v;p++)if(m=g[p],!(m==="canvas"||m==="group")&&!h(l[m],c[m]))return!1;return!0}}e.util.object.extend(e.Object.prototype,{hasStateChanged:function(l){l=l||a;var c="_"+l;return Object.keys(this[c]).length<this[l].length?!0:!h(this[c],this,!0)},saveState:function(l){var c=l&&l.propertySet||a,u="_"+c;return this[u]?(f(this,u,this[c]),l&&l.stateProperties&&f(this,u,l.stateProperties),this):this.setupState(l)},setupState:function(l){l=l||{};var c=l.propertySet||a;return l.propertySet=c,this["_"+c]={},this.saveState(l),this}})}(),function(){var o=e.util.degreesToRadians;e.util.object.extend(e.Object.prototype,{_findTargetCorner:function(a,f){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var h=a.x,l=a.y,c,u,p=Object.keys(this.oCoords),v=p.length-1,g;for(this.__corner=0;v>=0;v--)if(g=p[v],!!this.isControlVisible(g)&&(u=this._getImageLines(f?this.oCoords[g].touchCorner:this.oCoords[g].corner),c=this._findCrossPoints({x:h,y:l},u),c!==0&&c%2===1))return this.__corner=g,g;return!1},forEachControl:function(a){for(var f in this.controls)a(this.controls[f],f,this)},_setCornerCoords:function(){var a=this.oCoords;for(var f in a){var h=this.controls[f];a[f].corner=h.calcCornerCoords(this.angle,this.cornerSize,a[f].x,a[f].y,!1),a[f].touchCorner=h.calcCornerCoords(this.angle,this.touchCornerSize,a[f].x,a[f].y,!0)}},drawSelectionBackground:function(a){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;a.save();var f=this.getCenterPoint(),h=this._calculateCurrentDimensions(),l=this.canvas.viewportTransform;return a.translate(f.x,f.y),a.scale(1/l[0],1/l[3]),a.rotate(o(this.angle)),a.fillStyle=this.selectionBackgroundColor,a.fillRect(-h.x/2,-h.y/2,h.x,h.y),a.restore(),this},drawBorders:function(a,f){f=f||{};var h=this._calculateCurrentDimensions(),l=this.borderScaleFactor,c=h.x+l,u=h.y+l,p=typeof f.hasControls<"u"?f.hasControls:this.hasControls,v=!1;return a.save(),a.strokeStyle=f.borderColor||this.borderColor,this._setLineDash(a,f.borderDashArray||this.borderDashArray),a.strokeRect(-c/2,-u/2,c,u),p&&(a.beginPath(),this.forEachControl(function(g,m,y){g.withConnection&&g.getVisibility(y,m)&&(v=!0,a.moveTo(g.x*c,g.y*u),a.lineTo(g.x*c+g.offsetX,g.y*u+g.offsetY))}),v&&a.stroke()),a.restore(),this},drawBordersInGroup:function(a,f,h){h=h||{};var l=e.util.sizeAfterTransform(this.width,this.height,f),c=this.strokeWidth,u=this.strokeUniform,p=this.borderScaleFactor,v=l.x+c*(u?this.canvas.getZoom():f.scaleX)+p,g=l.y+c*(u?this.canvas.getZoom():f.scaleY)+p;return a.save(),this._setLineDash(a,h.borderDashArray||this.borderDashArray),a.strokeStyle=h.borderColor||this.borderColor,a.strokeRect(-v/2,-g/2,v,g),a.restore(),this},drawControls:function(a,f){f=f||{},a.save();var h=1,l,c;return this.canvas&&(h=this.canvas.getRetinaScaling()),a.setTransform(h,0,0,h,0,0),a.strokeStyle=a.fillStyle=f.cornerColor||this.cornerColor,this.transparentCorners||(a.strokeStyle=f.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(a,f.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(l=this.group.calcTransformMatrix()),this.forEachControl(function(u,p,v){c=v.oCoords[p],u.getVisibility(v,p)&&(l&&(c=e.util.transformPoint(c,l)),u.render(a,c.x,c.y,f,v))}),a.restore(),this},isControlVisible:function(a){return this.controls[a]&&this.controls[a].getVisibility(this,a)},setControlVisible:function(a,f){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[a]=f,this},setControlsVisibility:function(a){a||(a={});for(var f in a)this.setControlVisible(f,a[f]);return this},onDeselect:function(){},onSelect:function(){}})}(),e.util.object.extend(e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(o,a){a=a||{};var f=function(){},h=a.onComplete||f,l=a.onChange||f,c=this;return e.util.animate({target:this,startValue:o.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(u){o.set("left",u),c.requestRenderAll(),l()},onComplete:function(){o.setCoords(),h()}})},fxCenterObjectV:function(o,a){a=a||{};var f=function(){},h=a.onComplete||f,l=a.onChange||f,c=this;return e.util.animate({target:this,startValue:o.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(u){o.set("top",u),c.requestRenderAll(),l()},onComplete:function(){o.setCoords(),h()}})},fxRemove:function(o,a){a=a||{};var f=function(){},h=a.onComplete||f,l=a.onChange||f,c=this;return e.util.animate({target:this,startValue:o.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(u){o.set("opacity",u),c.requestRenderAll(),l()},onComplete:function(){c.remove(o),h()}})}}),e.util.object.extend(e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var o=[],a,f,h=[];for(a in arguments[0])o.push(a);for(var l=0,c=o.length;l<c;l++)a=o[l],f=l!==c-1,h.push(this._animate(a,arguments[0][a],arguments[1],f));return h}else return this._animate.apply(this,arguments)},_animate:function(o,a,f,h){var l=this,c;a=a.toString(),f?f=e.util.object.clone(f):f={},~o.indexOf(".")&&(c=o.split("."));var u=l.colorProperties.indexOf(o)>-1||c&&l.colorProperties.indexOf(c[1])>-1,p=c?this.get(c[0])[c[1]]:this.get(o);"from"in f||(f.from=p),u||(~a.indexOf("=")?a=p+parseFloat(a.replace("=","")):a=parseFloat(a));var v={target:this,startValue:f.from,endValue:a,byValue:f.by,easing:f.easing,duration:f.duration,abort:f.abort&&function(g,m,y){return f.abort.call(l,g,m,y)},onChange:function(g,m,y){c?l[c[0]][c[1]]=g:l.set(o,g),!h&&f.onChange&&f.onChange(g,m,y)},onComplete:function(g,m,y){h||(l.setCoords(),f.onComplete&&f.onComplete(g,m,y))}};return u?e.util.animateColor(v.startValue,v.endValue,v.duration,v):e.util.animate(v)}}),function(o){var a=o.fabric||(o.fabric={}),f=a.util.object.extend,h=a.util.object.clone,l={x1:1,x2:1,y1:1,y2:1};if(a.Line){a.warn("fabric.Line is already defined");return}a.Line=a.util.createClass(a.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:a.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(u,p){u||(u=[0,0,0,0]),this.callSuper("initialize",p),this.set("x1",u[0]),this.set("y1",u[1]),this.set("x2",u[2]),this.set("y2",u[3]),this._setWidthHeight(p)},_setWidthHeight:function(u){u||(u={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in u?u.left:this._getLeftToOriginX(),this.top="top"in u?u.top:this._getTopToOriginY()},_set:function(u,p){return this.callSuper("_set",u,p),typeof l[u]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:c({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:c({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(u){u.beginPath();var p=this.calcLinePoints();u.moveTo(p.x1,p.y1),u.lineTo(p.x2,p.y2),u.lineWidth=this.strokeWidth;var v=u.strokeStyle;u.strokeStyle=this.stroke||u.fillStyle,this.stroke&&this._renderStroke(u),u.strokeStyle=v},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(u){return f(this.callSuper("toObject",u),this.calcLinePoints())},_getNonTransformedDimensions:function(){var u=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(u.y-=this.strokeWidth),this.height===0&&(u.x-=this.strokeWidth)),u},calcLinePoints:function(){var u=this.x1<=this.x2?-1:1,p=this.y1<=this.y2?-1:1,v=u*this.width*.5,g=p*this.height*.5,m=u*this.width*-.5,y=p*this.height*-.5;return{x1:v,x2:m,y1:g,y2:y}},_toSVG:function(){var u=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',u.x1,'" y1="',u.y1,'" x2="',u.x2,'" y2="',u.y2,`" />
`]}}),a.Line.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),a.Line.fromElement=function(u,p,v){v=v||{};var g=a.parseAttributes(u,a.Line.ATTRIBUTE_NAMES),m=[g.x1||0,g.y1||0,g.x2||0,g.y2||0];p(new a.Line(m,f(g,v)))},a.Line.fromObject=function(u,p){function v(m){delete m.points,p&&p(m)}var g=h(u,!0);g.points=[u.x1,u.y1,u.x2,u.y2],a.Object._fromObject("Line",g,v,"points")};function c(u,p){var v=u.origin,g=u.axis1,m=u.axis2,y=u.dimension,x=p.nearest,b=p.center,w=p.farthest;return function(){switch(this.get(v)){case x:return Math.min(this.get(g),this.get(m));case b:return Math.min(this.get(g),this.get(m))+.5*this.get(y);case w:return Math.max(this.get(g),this.get(m))}}}}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.util.degreesToRadians;if(a.Circle){a.warn("fabric.Circle is already defined.");return}a.Circle=a.util.createClass(a.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:a.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(l,c){return this.callSuper("_set",l,c),l==="radius"&&this.setRadius(c),this},toObject:function(l){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(l))},_toSVG:function(){var l,c=0,u=0,p=(this.endAngle-this.startAngle)%360;if(p===0)l=["<circle ","COMMON_PARTS",'cx="'+c+'" cy="'+u+'" ','r="',this.radius,`" />
`];else{var v=f(this.startAngle),g=f(this.endAngle),m=this.radius,y=a.util.cos(v)*m,x=a.util.sin(v)*m,b=a.util.cos(g)*m,w=a.util.sin(g)*m,S=p>180?"1":"0";l=['<path d="M '+y+" "+x," A "+m+" "+m," 0 ",+S+" 1"," "+b+" "+w,'" ',"COMMON_PARTS",` />
`]}return l},_render:function(l){l.beginPath(),l.arc(0,0,this.radius,f(this.startAngle),f(this.endAngle),!1),this._renderPaintInOrder(l)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(l){return this.radius=l,this.set("width",l*2).set("height",l*2)}}),a.Circle.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),a.Circle.fromElement=function(l,c){var u=a.parseAttributes(l,a.Circle.ATTRIBUTE_NAMES);if(!h(u))throw new Error("value of `r` attribute is required and can not be negative");u.left=(u.left||0)-u.radius,u.top=(u.top||0)-u.radius,c(new a.Circle(u))};function h(l){return"radius"in l&&l.radius>=0}a.Circle.fromObject=function(l,c){a.Object._fromObject("Circle",l,c)}}(t),function(o){var a=o.fabric||(o.fabric={});if(a.Triangle){a.warn("fabric.Triangle is already defined");return}a.Triangle=a.util.createClass(a.Object,{type:"triangle",width:100,height:100,_render:function(f){var h=this.width/2,l=this.height/2;f.beginPath(),f.moveTo(-h,l),f.lineTo(0,-l),f.lineTo(h,l),f.closePath(),this._renderPaintInOrder(f)},_toSVG:function(){var f=this.width/2,h=this.height/2,l=[-f+" "+h,"0 "+-h,f+" "+h].join(",");return["<polygon ","COMMON_PARTS",'points="',l,'" />']}}),a.Triangle.fromObject=function(f,h){return a.Object._fromObject("Triangle",f,h)}}(t),function(o){var a=o.fabric||(o.fabric={}),f=Math.PI*2;if(a.Ellipse){a.warn("fabric.Ellipse is already defined.");return}a.Ellipse=a.util.createClass(a.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this.set("rx",h&&h.rx||0),this.set("ry",h&&h.ry||0)},_set:function(h,l){switch(this.callSuper("_set",h,l),h){case"rx":this.rx=l,this.set("width",l*2);break;case"ry":this.ry=l,this.set("height",l*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(h){h.beginPath(),h.save(),h.transform(1,0,0,this.ry/this.rx,0,0),h.arc(0,0,this.rx,0,f,!1),h.restore(),this._renderPaintInOrder(h)}}),a.Ellipse.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),a.Ellipse.fromElement=function(h,l){var c=a.parseAttributes(h,a.Ellipse.ATTRIBUTE_NAMES);c.left=(c.left||0)-c.rx,c.top=(c.top||0)-c.ry,l(new a.Ellipse(c))},a.Ellipse.fromObject=function(h,l){a.Object._fromObject("Ellipse",h,l)}}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.util.object.extend;if(a.Rect){a.warn("fabric.Rect is already defined");return}a.Rect=a.util.createClass(a.Object,{stateProperties:a.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(h){var l=this.rx?Math.min(this.rx,this.width/2):0,c=this.ry?Math.min(this.ry,this.height/2):0,u=this.width,p=this.height,v=-this.width/2,g=-this.height/2,m=l!==0||c!==0,y=1-.5522847498;h.beginPath(),h.moveTo(v+l,g),h.lineTo(v+u-l,g),m&&h.bezierCurveTo(v+u-y*l,g,v+u,g+y*c,v+u,g+c),h.lineTo(v+u,g+p-c),m&&h.bezierCurveTo(v+u,g+p-y*c,v+u-y*l,g+p,v+u-l,g+p),h.lineTo(v+l,g+p),m&&h.bezierCurveTo(v+y*l,g+p,v,g+p-y*c,v,g+p-c),h.lineTo(v,g+c),m&&h.bezierCurveTo(v,g+y*c,v+y*l,g,v+l,g),h.closePath(),this._renderPaintInOrder(h)},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){var h=-this.width/2,l=-this.height/2;return["<rect ","COMMON_PARTS",'x="',h,'" y="',l,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),a.Rect.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),a.Rect.fromElement=function(h,l,c){if(!h)return l(null);c=c||{};var u=a.parseAttributes(h,a.Rect.ATTRIBUTE_NAMES);u.left=u.left||0,u.top=u.top||0,u.height=u.height||0,u.width=u.width||0;var p=new a.Rect(f(c?a.util.object.clone(c):{},u));p.visible=p.visible&&p.width>0&&p.height>0,l(p)},a.Rect.fromObject=function(h,l){return a.Object._fromObject("Rect",h,l)}}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.util.object.extend,h=a.util.array.min,l=a.util.array.max,c=a.util.toFixed,u=a.util.projectStrokeOnPoints;if(a.Polyline){a.warn("fabric.Polyline is already defined");return}a.Polyline=a.util.createClass(a.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:a.Object.prototype.cacheProperties.concat("points"),initialize:function(p,v){v=v||{},this.points=p||[],this.callSuper("initialize",v),this._setPositionDimensions(v)},_projectStrokeOnPoints:function(){return u(this.points,this,!0)},_setPositionDimensions:function(p){var v=this._calcDimensions(p),g,m=this.exactBoundingBox?this.strokeWidth:0;this.width=v.width-m,this.height=v.height-m,p.fromSVG||(g=this.translateToGivenOrigin({x:v.left-this.strokeWidth/2+m/2,y:v.top-this.strokeWidth/2+m/2},"left","top",this.originX,this.originY)),typeof p.left>"u"&&(this.left=p.fromSVG?v.left:g.x),typeof p.top>"u"&&(this.top=p.fromSVG?v.top:g.y),this.pathOffset={x:v.left+this.width/2+m/2,y:v.top+this.height/2+m/2}},_calcDimensions:function(){var p=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,v=h(p,"x")||0,g=h(p,"y")||0,m=l(p,"x")||0,y=l(p,"y")||0,x=m-v,b=y-g;return{left:v,top:g,width:x,height:b}},toObject:function(p){return f(this.callSuper("toObject",p),{points:this.points.concat()})},_toSVG:function(){for(var p=[],v=this.pathOffset.x,g=this.pathOffset.y,m=a.Object.NUM_FRACTION_DIGITS,y=0,x=this.points.length;y<x;y++)p.push(c(this.points[y].x-v,m),",",c(this.points[y].y-g,m)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',p.join(""),`" />
`]},commonRender:function(p){var v,g=this.points.length,m=this.pathOffset.x,y=this.pathOffset.y;if(!g||isNaN(this.points[g-1].y))return!1;p.beginPath(),p.moveTo(this.points[0].x-m,this.points[0].y-y);for(var x=0;x<g;x++)v=this.points[x],p.lineTo(v.x-m,v.y-y);return!0},_render:function(p){this.commonRender(p)&&this._renderPaintInOrder(p)},complexity:function(){return this.get("points").length}}),a.Polyline.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polyline.fromElementGenerator=function(p){return function(v,g,m){if(!v)return g(null);m||(m={});var y=a.parsePointsAttribute(v.getAttribute("points")),x=a.parseAttributes(v,a[p].ATTRIBUTE_NAMES);x.fromSVG=!0,g(new a[p](y,f(x,m)))}},a.Polyline.fromElement=a.Polyline.fromElementGenerator("Polyline"),a.Polyline.fromObject=function(p,v){return a.Object._fromObject("Polyline",p,v,"points")}}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.util.projectStrokeOnPoints;if(a.Polygon){a.warn("fabric.Polygon is already defined");return}a.Polygon=a.util.createClass(a.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return f(this.points,this)},_render:function(h){this.commonRender(h)&&(h.closePath(),this._renderPaintInOrder(h))}}),a.Polygon.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polygon.fromElement=a.Polyline.fromElementGenerator("Polygon"),a.Polygon.fromObject=function(h,l){a.Object._fromObject("Polygon",h,l,"points")}}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.util.array.min,h=a.util.array.max,l=a.util.object.extend,c=a.util.object.clone,u=a.util.toFixed;if(a.Path){a.warn("fabric.Path is already defined");return}a.Path=a.util.createClass(a.Object,{type:"path",path:null,cacheProperties:a.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:a.Object.prototype.stateProperties.concat("path"),initialize:function(p,v){v=c(v||{}),delete v.path,this.callSuper("initialize",v),this._setPath(p||[],v)},_setPath:function(p,v){this.path=a.util.makePathSimpler(Array.isArray(p)?p:a.util.parsePath(p)),a.Polyline.prototype._setPositionDimensions.call(this,v||{})},_renderPathCommands:function(p){var v,g=0,m=0,y=0,x=0,b=0,w=0,S=-this.pathOffset.x,_=-this.pathOffset.y;p.beginPath();for(var C=0,k=this.path.length;C<k;++C)switch(v=this.path[C],v[0]){case"L":y=v[1],x=v[2],p.lineTo(y+S,x+_);break;case"M":y=v[1],x=v[2],g=y,m=x,p.moveTo(y+S,x+_);break;case"C":y=v[5],x=v[6],b=v[3],w=v[4],p.bezierCurveTo(v[1]+S,v[2]+_,b+S,w+_,y+S,x+_);break;case"Q":p.quadraticCurveTo(v[1]+S,v[2]+_,v[3]+S,v[4]+_),y=v[3],x=v[4],b=v[1],w=v[2];break;case"z":case"Z":y=g,x=m,p.closePath();break}},_render:function(p){this._renderPathCommands(p),this._renderPaintInOrder(p)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(p){return l(this.callSuper("toObject",p),{path:this.path.map(function(v){return v.slice()})})},toDatalessObject:function(p){var v=this.toObject(["sourcePath"].concat(p));return v.sourcePath&&delete v.path,v},_toSVG:function(){var p=a.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',p,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var p=a.Object.NUM_FRACTION_DIGITS;return" translate("+u(-this.pathOffset.x,p)+", "+u(-this.pathOffset.y,p)+")"},toClipPathSVG:function(p){var v=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:p,additionalTransform:v})},toSVG:function(p){var v=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:p,additionalTransform:v})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var p=[],v=[],g,m=0,y=0,x=0,b=0,w,S=0,_=this.path.length;S<_;++S){switch(g=this.path[S],g[0]){case"L":x=g[1],b=g[2],w=[];break;case"M":x=g[1],b=g[2],m=x,y=b,w=[];break;case"C":w=a.util.getBoundsOfCurve(x,b,g[1],g[2],g[3],g[4],g[5],g[6]),x=g[5],b=g[6];break;case"Q":w=a.util.getBoundsOfCurve(x,b,g[1],g[2],g[1],g[2],g[3],g[4]),x=g[3],b=g[4];break;case"z":case"Z":x=m,b=y;break}w.forEach(function(L){p.push(L.x),v.push(L.y)}),p.push(x),v.push(b)}var C=f(p)||0,k=f(v)||0,A=h(p)||0,F=h(v)||0,B=A-C,H=F-k;return{left:C,top:k,width:B,height:H}}}),a.Path.fromObject=function(p,v){if(typeof p.sourcePath=="string"){var g=p.sourcePath;a.loadSVGFromURL(g,function(m){var y=m[0];y.setOptions(p),p.clipPath?a.util.enlivenObjects([p.clipPath],function(x){y.clipPath=x[0],v&&v(y)}):v&&v(y)})}else a.Object._fromObject("Path",p,v,"path")},a.Path.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(["d"]),a.Path.fromElement=function(p,v,g){var m=a.parseAttributes(p,a.Path.ATTRIBUTE_NAMES);m.fromSVG=!0,v(new a.Path(m.d,l(m,g)))}}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.util.array.min,h=a.util.array.max;a.Group||(a.Group=a.util.createClass(a.Object,a.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(l,c,u){c=c||{},this._objects=[],u&&this.callSuper("initialize",c),this._objects=l||[];for(var p=this._objects.length;p--;)this._objects[p].group=this;if(u)this._updateObjectsACoords();else{var v=c&&c.centerPoint;c.originX!==void 0&&(this.originX=c.originX),c.originY!==void 0&&(this.originY=c.originY),v||this._calcBounds(),this._updateObjectsCoords(v),delete c.centerPoint,this.callSuper("initialize",c)}this.setCoords()},_updateObjectsACoords:function(){for(var l=!0,c=this._objects.length;c--;)this._objects[c].setCoords(l)},_updateObjectsCoords:function(c){for(var c=c||this.getCenterPoint(),u=this._objects.length;u--;)this._updateObjectCoords(this._objects[u],c)},_updateObjectCoords:function(l,c){var u=l.left,p=l.top,v=!0;l.set({left:u-c.x,top:p-c.y}),l.group=this,l.setCoords(v)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(l){var c=!!this.group;return this._restoreObjectsState(),a.util.resetObjectTransform(this),l&&(c&&a.util.removeTransformFromObject(l,this.group.calcTransformMatrix()),this._objects.push(l),l.group=this,l._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,c?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(l){return this._restoreObjectsState(),a.util.resetObjectTransform(this),this.remove(l),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(l){this.dirty=!0,l.group=this,l._set("canvas",this.canvas)},_onObjectRemoved:function(l){this.dirty=!0,delete l.group},_set:function(l,c){var u=this._objects.length;if(this.useSetOnGroup)for(;u--;)this._objects[u].setOnGroup(l,c);if(l==="canvas")for(;u--;)this._objects[u]._set(l,c);a.Object.prototype._set.call(this,l,c)},toObject:function(l){var c=this.includeDefaultValues,u=this._objects.filter(function(v){return!v.excludeFromExport}).map(function(v){var g=v.includeDefaultValues;v.includeDefaultValues=c;var m=v.toObject(l);return v.includeDefaultValues=g,m}),p=a.Object.prototype.toObject.call(this,l);return p.objects=u,p},toDatalessObject:function(l){var c,u=this.sourcePath;if(u)c=u;else{var p=this.includeDefaultValues;c=this._objects.map(function(g){var m=g.includeDefaultValues;g.includeDefaultValues=p;var y=g.toDatalessObject(l);return g.includeDefaultValues=m,y})}var v=a.Object.prototype.toDatalessObject.call(this,l);return v.objects=c,v},render:function(l){this._transformDone=!0,this.callSuper("render",l),this._transformDone=!1},shouldCache:function(){var l=a.Object.prototype.shouldCache.call(this);if(l){for(var c=0,u=this._objects.length;c<u;c++)if(this._objects[c].willDrawShadow())return this.ownCaching=!1,!1}return l},willDrawShadow:function(){if(a.Object.prototype.willDrawShadow.call(this))return!0;for(var l=0,c=this._objects.length;l<c;l++)if(this._objects[l].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(l){for(var c=0,u=this._objects.length;c<u;c++)this._objects[c].render(l);this._drawClipPath(l,this.clipPath)},isCacheDirty:function(l){if(this.callSuper("isCacheDirty",l))return!0;if(!this.statefullCache)return!1;for(var c=0,u=this._objects.length;c<u;c++)if(this._objects[c].isCacheDirty(!0)){if(this._cacheCanvas){var p=this.cacheWidth/this.zoomX,v=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-p/2,-v/2,p,v)}return!0}return!1},_restoreObjectsState:function(){var l=this.calcOwnMatrix();return this._objects.forEach(function(c){a.util.addTransformToObject(c,l),delete c.group,c.setCoords()}),this},destroy:function(){return this._objects.forEach(function(l){l.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var l=this._objects,c=this.canvas;this._objects=[];var u=this.toObject();delete u.objects;var p=new a.ActiveSelection([]);return p.set(u),p.type="activeSelection",c.remove(this),l.forEach(function(v){v.group=p,v.dirty=!0,c.add(v)}),p.canvas=c,p._objects=l,c._activeObject=p,p.setCoords(),p}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var l=!0;return this.forEachObject(function(c){c.setCoords(l)}),this},_calcBounds:function(l){for(var c=[],u=[],p,v,g,m=["tr","br","bl","tl"],y=0,x=this._objects.length,b,w=m.length;y<x;++y){for(p=this._objects[y],g=p.calcACoords(),b=0;b<w;b++)v=m[b],c.push(g[v].x),u.push(g[v].y);p.aCoords=g}this._getBounds(c,u,l)},_getBounds:function(l,c,u){var p=new a.Point(f(l),f(c)),v=new a.Point(h(l),h(c)),g=p.y||0,m=p.x||0,y=v.x-p.x||0,x=v.y-p.y||0;this.width=y,this.height=x,u||this.setPositionByOrigin({x:m,y:g},"left","top")},_toSVG:function(l){for(var c=["<g ","COMMON_PARTS",` >
`],u=0,p=this._objects.length;u<p;u++)c.push("		",this._objects[u].toSVG(l));return c.push(`</g>
`),c},getSvgStyles:function(){var l=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",c=this.visible?"":" visibility: hidden;";return[l,this.getSvgFilter(),c].join("")},toClipPathSVG:function(l){for(var c=[],u=0,p=this._objects.length;u<p;u++)c.push("	",this._objects[u].toClipPathSVG(l));return this._createBaseClipPathSVGMarkup(c,{reviver:l})}}),a.Group.fromObject=function(l,c){var u=l.objects,p=a.util.object.clone(l,!0);if(delete p.objects,typeof u=="string"){a.loadSVGFromURL(u,function(v){var g=a.util.groupSVGElements(v,l,u),m=p.clipPath;delete p.clipPath,g.set(p),m?a.util.enlivenObjects([m],function(y){g.clipPath=y[0],c&&c(g)}):c&&c(g)});return}a.util.enlivenObjects(u,function(v){a.util.enlivenObjectEnlivables(l,p,function(){c&&c(new a.Group(v,p,!0))})})})}(t),function(o){var a=o.fabric||(o.fabric={});a.ActiveSelection||(a.ActiveSelection=a.util.createClass(a.Group,{type:"activeSelection",initialize:function(f,h){h=h||{},this._objects=f||[];for(var l=this._objects.length;l--;)this._objects[l].group=this;h.originX&&(this.originX=h.originX),h.originY&&(this.originY=h.originY),this._calcBounds(),this._updateObjectsCoords(),a.Object.prototype.initialize.call(this,h),this.setCoords()},toGroup:function(){var f=this._objects.concat();this._objects=[];var h=a.Object.prototype.toObject.call(this),l=new a.Group([]);if(delete h.type,l.set(h),f.forEach(function(u){u.canvas.remove(u),u.group=l}),l._objects=f,!this.canvas)return l;var c=this.canvas;return c.add(l),c._activeObject=l,l.setCoords(),l},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(f,h,l){f.save(),f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,l=l||{},typeof l.hasControls>"u"&&(l.hasControls=!1),l.forActiveSelection=!0;for(var c=0,u=this._objects.length;c<u;c++)this._objects[c]._renderControls(f,l);this.callSuper("_renderControls",f,h),f.restore()}}),a.ActiveSelection.fromObject=function(f,h){a.util.enlivenObjects(f.objects,function(l){delete f.objects,h&&h(new a.ActiveSelection(l,f,!0))})})}(t),function(o){var a=e.util.object.extend;if(o.fabric||(o.fabric={}),o.fabric.Image){e.warn("fabric.Image is already defined.");return}e.Image=e.util.createClass(e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(f,h){h||(h={}),this.filters=[],this.cacheKey="texture"+e.Object.__uid++,this.callSuper("initialize",h),this._initElement(f,h)},getElement:function(){return this._element||{}},setElement:function(f,h){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=f,this._originalElement=f,this._initConfig(h),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(f){var h=e.filterBackend;h&&h.evictCachesForKey&&h.evictCachesForKey(f)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(f){e.util.cleanUpJsdomNode(this[f]),this[f]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var f=this.getElement();return{width:f.naturalWidth||f.width,height:f.naturalHeight||f.height}},_stroke:function(f){if(!(!this.stroke||this.strokeWidth===0)){var h=this.width/2,l=this.height/2;f.beginPath(),f.moveTo(-h,-l),f.lineTo(h,-l),f.lineTo(h,l),f.lineTo(-h,l),f.lineTo(-h,-l),f.closePath()}},toObject:function(f){var h=[];this.filters.forEach(function(c){c&&h.push(c.toObject())});var l=a(this.callSuper("toObject",["cropX","cropY"].concat(f)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:h});return this.resizeFilter&&(l.resizeFilter=this.resizeFilter.toObject()),l},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var f=[],h=[],l,c=this._element,u=-this.width/2,p=-this.height/2,v="",g="";if(!c)return[];if(this.hasCrop()){var m=e.Object.__uid++;f.push('<clipPath id="imageCrop_'+m+`">
`,'	<rect x="'+u+'" y="'+p+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),v=' clip-path="url(#imageCrop_'+m+')" '}if(this.imageSmoothing||(g='" image-rendering="optimizeSpeed'),h.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',u-this.cropX,'" y="',p-this.cropY,'" width="',c.width||c.naturalWidth,'" height="',c.height||c.height,g,'"',v,`></image>
`),this.stroke||this.strokeDashArray){var y=this.fill;this.fill=null,l=["	<rect ",'x="',u,'" y="',p,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=y}return this.paintFirst!=="fill"?f=f.concat(l,h):f=f.concat(h,l),f},getSrc:function(f){var h=f?this._element:this._originalElement;return h?h.toDataURL?h.toDataURL():this.srcFromAttribute?h.getAttribute("src"):h.src:this.src||""},setSrc:function(f,h,l){return e.util.loadImage(f,function(c,u){this.setElement(c,l),this._setWidthHeight(),h&&h(this,u)},this,l&&l.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var f=this.resizeFilter,h=this.minimumScaleTrigger,l=this.getTotalObjectScaling(),c=l.scaleX,u=l.scaleY,p=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!f||c>h&&u>h){this._element=p,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=c,this._lastScaleY=u;return}e.filterBackend||(e.filterBackend=e.initFilterBackend());var v=e.util.createCanvasElement(),g=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,m=p.width,y=p.height;v.width=m,v.height=y,this._element=v,this._lastScaleX=f.scaleX=c,this._lastScaleY=f.scaleY=u,e.filterBackend.applyFilters([f],p,m,y,this._element,g),this._filterScalingX=v.width/this._originalElement.width,this._filterScalingY=v.height/this._originalElement.height},applyFilters:function(f){if(f=f||this.filters||[],f=f.filter(function(p){return p&&!p.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),f.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var h=this._originalElement,l=h.naturalWidth||h.width,c=h.naturalHeight||h.height;if(this._element===this._originalElement){var u=e.util.createCanvasElement();u.width=l,u.height=c,this._element=u,this._filteredEl=u}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,l,c),this._lastScaleX=1,this._lastScaleY=1;return e.filterBackend||(e.filterBackend=e.initFilterBackend()),e.filterBackend.applyFilters(f,this._originalElement,l,c,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(f){e.util.setImageSmoothing(f,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(f),this._renderPaintInOrder(f)},drawCacheOnCanvas:function(f){e.util.setImageSmoothing(f,this.imageSmoothing),e.Object.prototype.drawCacheOnCanvas.call(this,f)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(f){var h=this._element;if(h){var l=this._filterScalingX,c=this._filterScalingY,u=this.width,p=this.height,v=Math.min,g=Math.max,m=g(this.cropX,0),y=g(this.cropY,0),x=h.naturalWidth||h.width,b=h.naturalHeight||h.height,w=m*l,S=y*c,_=v(u*l,x-w),C=v(p*c,b-S),k=-u/2,A=-p/2,F=v(u,x/l-m),B=v(p,b/c-y);h&&f.drawImage(h,w,S,_,C,k,A,F,B)}},_needsResize:function(){var f=this.getTotalObjectScaling();return f.scaleX!==this._lastScaleX||f.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(f,h){this.setElement(e.util.getById(f),h),e.util.addClass(this.getElement(),e.Image.CSS_CANVAS)},_initConfig:function(f){f||(f={}),this.setOptions(f),this._setWidthHeight(f)},_initFilters:function(f,h){f&&f.length?e.util.enlivenObjects(f,function(l){h&&h(l)},"fabric.Image.filters"):h&&h()},_setWidthHeight:function(f){f||(f={});var h=this.getElement();this.width=f.width||h.naturalWidth||h.width||0,this.height=f.height||h.naturalHeight||h.height||0},parsePreserveAspectRatioAttribute:function(){var f=e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),h=this._element.width,l=this._element.height,c=1,u=1,p=0,v=0,g=0,m=0,y,x=this.width,b=this.height,w={width:x,height:b};return f&&(f.alignX!=="none"||f.alignY!=="none")?(f.meetOrSlice==="meet"&&(c=u=e.util.findScaleToFit(this._element,w),y=(x-h*c)/2,f.alignX==="Min"&&(p=-y),f.alignX==="Max"&&(p=y),y=(b-l*u)/2,f.alignY==="Min"&&(v=-y),f.alignY==="Max"&&(v=y)),f.meetOrSlice==="slice"&&(c=u=e.util.findScaleToCover(this._element,w),y=h-x/c,f.alignX==="Mid"&&(g=y/2),f.alignX==="Max"&&(g=y),y=l-b/u,f.alignY==="Mid"&&(m=y/2),f.alignY==="Max"&&(m=y),h=x/c,l=b/u)):(c=x/h,u=b/l),{width:h,height:l,scaleX:c,scaleY:u,offsetLeft:p,offsetTop:v,cropX:g,cropY:m}}}),e.Image.CSS_CANVAS="canvas-img",e.Image.prototype.getSvgSrc=e.Image.prototype.getSrc,e.Image.fromObject=function(f,h){var l=e.util.object.clone(f);e.util.loadImage(l.src,function(c,u){if(u){h&&h(null,!0);return}e.Image.prototype._initFilters.call(l,l.filters,function(p){l.filters=p||[],e.Image.prototype._initFilters.call(l,[l.resizeFilter],function(v){l.resizeFilter=v[0],e.util.enlivenObjectEnlivables(l,l,function(){var g=new e.Image(c,l);h(g,!1)})})})},null,l.crossOrigin)},e.Image.fromURL=function(f,h,l){e.util.loadImage(f,function(c,u){h&&h(new e.Image(c,l),u)},null,l&&l.crossOrigin)},e.Image.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),e.Image.fromElement=function(f,h,l){var c=e.parseAttributes(f,e.Image.ATTRIBUTE_NAMES);e.Image.fromURL(c["xlink:href"],h,a(l?e.util.object.clone(l):{},c))}}(t),e.util.object.extend(e.Object.prototype,{_getAngleValueForStraighten:function(){var o=this.angle%360;return o>0?Math.round((o-1)/90)*90:Math.round(o/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(o){o=o||{};var a=function(){},f=o.onComplete||a,h=o.onChange||a,l=this;return e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(c){l.rotate(c),h()},onComplete:function(){l.setCoords(),f()}})}}),e.util.object.extend(e.StaticCanvas.prototype,{straightenObject:function(o){return o.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(o){return o.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function o(f,h){var l="precision "+h+` float;
void main(){}`,c=f.createShader(f.FRAGMENT_SHADER);return f.shaderSource(c,l),f.compileShader(c),!!f.getShaderParameter(c,f.COMPILE_STATUS)}e.isWebglSupported=function(f){if(e.isLikelyNode)return!1;f=f||e.WebglFilterBackend.prototype.tileSize;var h=document.createElement("canvas"),l=h.getContext("webgl")||h.getContext("experimental-webgl"),c=!1;if(l){e.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),c=e.maxTextureSize>=f;for(var u=["highp","mediump","lowp"],p=0;p<3;p++)if(o(l,u[p])){e.webGlPrecision=u[p];break}}return this.isSupported=c,c},e.WebglFilterBackend=a;function a(f){f&&f.tileSize&&(this.tileSize=f.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}a.prototype={tileSize:2048,resources:{},setupGLContext:function(f,h){this.dispose(),this.createWebGLCanvas(f,h),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(f,h)},chooseFastestCopyGLTo2DMethod:function(f,h){var l=typeof window.performance<"u",c;try{new ImageData(1,1),c=!0}catch{c=!1}var u=typeof ArrayBuffer<"u",p=typeof Uint8ClampedArray<"u";if(l&&c&&u&&p){var v=e.util.createCanvasElement(),g=new ArrayBuffer(f*h*4);if(e.forceGLPutImageData){this.imageBuffer=g,this.copyGLTo2D=d;return}var m={imageBuffer:g,destinationWidth:f,destinationHeight:h,targetCanvas:v},y,x,b;v.width=f,v.height=h,y=window.performance.now(),s.call(m,this.gl,m),x=window.performance.now()-y,y=window.performance.now(),d.call(m,this.gl,m),b=window.performance.now()-y,x>b?(this.imageBuffer=g,this.copyGLTo2D=d):this.copyGLTo2D=s}},createWebGLCanvas:function(f,h){var l=e.util.createCanvasElement();l.width=f,l.height=h;var c={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},u=l.getContext("webgl",c);u||(u=l.getContext("experimental-webgl",c)),u&&(u.clearColor(0,0,0,0),this.canvas=l,this.gl=u)},applyFilters:function(f,h,l,c,u,p){var v=this.gl,g;p&&(g=this.getCachedTexture(p,h));var m={originalWidth:h.width||h.originalWidth,originalHeight:h.height||h.originalHeight,sourceWidth:l,sourceHeight:c,destinationWidth:l,destinationHeight:c,context:v,sourceTexture:this.createTexture(v,l,c,!g&&h),targetTexture:this.createTexture(v,l,c),originalTexture:g||this.createTexture(v,l,c,!g&&h),passes:f.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:u},y=v.createFramebuffer();return v.bindFramebuffer(v.FRAMEBUFFER,y),f.forEach(function(x){x&&x.applyTo(m)}),i(m),this.copyGLTo2D(v,m),v.bindTexture(v.TEXTURE_2D,null),v.deleteTexture(m.sourceTexture),v.deleteTexture(m.targetTexture),v.deleteFramebuffer(y),u.getContext("2d").setTransform(1,0,0,1,0,0),m},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(f,h,l,c,u){var p=f.createTexture();return f.bindTexture(f.TEXTURE_2D,p),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,u||f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,u||f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),c?f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,c):f.texImage2D(f.TEXTURE_2D,0,f.RGBA,h,l,0,f.RGBA,f.UNSIGNED_BYTE,null),p},getCachedTexture:function(f,h){if(this.textureCache[f])return this.textureCache[f];var l=this.createTexture(this.gl,h.width,h.height,h);return this.textureCache[f]=l,l},evictCachesForKey:function(f){this.textureCache[f]&&(this.gl.deleteTexture(this.textureCache[f]),delete this.textureCache[f])},copyGLTo2D:s,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var f=this.gl,h={renderer:"",vendor:""};if(!f)return h;var l=f.getExtension("WEBGL_debug_renderer_info");if(l){var c=f.getParameter(l.UNMASKED_RENDERER_WEBGL),u=f.getParameter(l.UNMASKED_VENDOR_WEBGL);c&&(h.renderer=c.toLowerCase()),u&&(h.vendor=u.toLowerCase())}return this.gpuInfo=h,h}}}();function i(o){var a=o.targetCanvas,f=a.width,h=a.height,l=o.destinationWidth,c=o.destinationHeight;(f!==l||h!==c)&&(a.width=l,a.height=c)}function s(o,a){var f=o.canvas,h=a.targetCanvas,l=h.getContext("2d");l.translate(0,h.height),l.scale(1,-1);var c=f.height-h.height;l.drawImage(f,0,c,h.width,h.height,0,0,h.width,h.height)}function d(o,a){var f=a.targetCanvas,h=f.getContext("2d"),l=a.destinationWidth,c=a.destinationHeight,u=l*c*4,p=new Uint8Array(this.imageBuffer,0,u),v=new Uint8ClampedArray(this.imageBuffer,0,u);o.readPixels(0,0,l,c,o.RGBA,o.UNSIGNED_BYTE,p);var g=new ImageData(v,l,c);h.putImageData(g,0,0)}(function(){var o=function(){};e.Canvas2dFilterBackend=a;function a(){}a.prototype={evictCachesForKey:o,dispose:o,clearWebGLCaches:o,resources:{},applyFilters:function(f,h,l,c,u){var p=u.getContext("2d");p.drawImage(h,0,0,l,c);var v=p.getImageData(0,0,l,c),g=p.getImageData(0,0,l,c),m={sourceWidth:l,sourceHeight:c,imageData:v,originalEl:h,originalImageData:g,canvasEl:u,ctx:p,filterBackend:this};return f.forEach(function(y){y.applyTo(m)}),(m.imageData.width!==l||m.imageData.height!==c)&&(u.width=m.imageData.width,u.height=m.imageData.height),p.putImageData(m.imageData,0,0),m}}})(),e.Image=e.Image||{},e.Image.filters=e.Image.filters||{},e.Image.filters.BaseFilter=e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(o){o&&this.setOptions(o)},setOptions:function(o){for(var a in o)this[a]=o[a]},createProgram:function(o,a,f){a=a||this.fragmentSource,f=f||this.vertexSource,e.webGlPrecision!=="highp"&&(a=a.replace(/precision highp float/g,"precision "+e.webGlPrecision+" float"));var h=o.createShader(o.VERTEX_SHADER);if(o.shaderSource(h,f),o.compileShader(h),!o.getShaderParameter(h,o.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+o.getShaderInfoLog(h));var l=o.createShader(o.FRAGMENT_SHADER);if(o.shaderSource(l,a),o.compileShader(l),!o.getShaderParameter(l,o.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+o.getShaderInfoLog(l));var c=o.createProgram();if(o.attachShader(c,h),o.attachShader(c,l),o.linkProgram(c),!o.getProgramParameter(c,o.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+o.getProgramInfoLog(c));var u=this.getAttributeLocations(o,c),p=this.getUniformLocations(o,c)||{};return p.uStepW=o.getUniformLocation(c,"uStepW"),p.uStepH=o.getUniformLocation(c,"uStepH"),{program:c,attributeLocations:u,uniformLocations:p}},getAttributeLocations:function(o,a){return{aPosition:o.getAttribLocation(a,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(o,a,f){var h=a.aPosition,l=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,l),o.enableVertexAttribArray(h),o.vertexAttribPointer(h,2,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,f,o.STATIC_DRAW)},_setupFrameBuffer:function(o){var a=o.context,f,h;o.passes>1?(f=o.destinationWidth,h=o.destinationHeight,(o.sourceWidth!==f||o.sourceHeight!==h)&&(a.deleteTexture(o.targetTexture),o.targetTexture=o.filterBackend.createTexture(a,f,h)),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,o.targetTexture,0)):(a.bindFramebuffer(a.FRAMEBUFFER,null),a.finish())},_swapTextures:function(o){o.passes--,o.pass++;var a=o.targetTexture;o.targetTexture=o.sourceTexture,o.sourceTexture=a},isNeutralState:function(){var o=this.mainParameter,a=e.Image.filters[this.type].prototype;if(o)if(Array.isArray(a[o])){for(var f=a[o].length;f--;)if(this[o][f]!==a[o][f])return!1;return!0}else return a[o]===this[o];else return!1},applyTo:function(o){o.webgl?(this._setupFrameBuffer(o),this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},retrieveShader:function(o){return o.programCache.hasOwnProperty(this.type)||(o.programCache[this.type]=this.createProgram(o.context)),o.programCache[this.type]},applyToWebGL:function(o){var a=o.context,f=this.retrieveShader(o);o.pass===0&&o.originalTexture?a.bindTexture(a.TEXTURE_2D,o.originalTexture):a.bindTexture(a.TEXTURE_2D,o.sourceTexture),a.useProgram(f.program),this.sendAttributeData(a,f.attributeLocations,o.aPosition),a.uniform1f(f.uniformLocations.uStepW,1/o.sourceWidth),a.uniform1f(f.uniformLocations.uStepH,1/o.sourceHeight),this.sendUniformData(a,f.uniformLocations),a.viewport(0,0,o.destinationWidth,o.destinationHeight),a.drawArrays(a.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(o,a,f){o.activeTexture(f),o.bindTexture(o.TEXTURE_2D,a),o.activeTexture(o.TEXTURE0)},unbindAdditionalTexture:function(o,a){o.activeTexture(a),o.bindTexture(o.TEXTURE_2D,null),o.activeTexture(o.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(o){this[this.mainParameter]=o},sendUniformData:function(){},createHelpLayer:function(o){if(!o.helpLayer){var a=document.createElement("canvas");a.width=o.sourceWidth,a.height=o.sourceHeight,o.helpLayer=a}},toObject:function(){var o={type:this.type},a=this.mainParameter;return a&&(o[a]=this[a]),o},toJSON:function(){return this.toObject()}}),e.Image.filters.BaseFilter.fromObject=function(o,a){var f=new e.Image.filters[o.type](o);return a&&a(f),f},function(o){var a=o.fabric||(o.fabric={}),f=a.Image.filters,h=a.util.createClass;f.ColorMatrix=h(f.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(l){this.callSuper("initialize",l),this.matrix=this.matrix.slice(0)},applyTo2d:function(l){var c=l.imageData,u=c.data,p=u.length,v=this.matrix,g,m,y,x,b,w=this.colorsOnly;for(b=0;b<p;b+=4)g=u[b],m=u[b+1],y=u[b+2],w?(u[b]=g*v[0]+m*v[1]+y*v[2]+v[4]*255,u[b+1]=g*v[5]+m*v[6]+y*v[7]+v[9]*255,u[b+2]=g*v[10]+m*v[11]+y*v[12]+v[14]*255):(x=u[b+3],u[b]=g*v[0]+m*v[1]+y*v[2]+x*v[3]+v[4]*255,u[b+1]=g*v[5]+m*v[6]+y*v[7]+x*v[8]+v[9]*255,u[b+2]=g*v[10]+m*v[11]+y*v[12]+x*v[13]+v[14]*255,u[b+3]=g*v[15]+m*v[16]+y*v[17]+x*v[18]+v[19]*255)},getUniformLocations:function(l,c){return{uColorMatrix:l.getUniformLocation(c,"uColorMatrix"),uConstants:l.getUniformLocation(c,"uConstants")}},sendUniformData:function(l,c){var u=this.matrix,p=[u[0],u[1],u[2],u[3],u[5],u[6],u[7],u[8],u[10],u[11],u[12],u[13],u[15],u[16],u[17],u[18]],v=[u[4],u[9],u[14],u[19]];l.uniformMatrix4fv(c.uColorMatrix,!1,p),l.uniform4fv(c.uConstants,v)}}),a.Image.filters.ColorMatrix.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Brightness=h(f.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(l){if(this.brightness!==0){var c=l.imageData,u=c.data,p,v=u.length,g=Math.round(this.brightness*255);for(p=0;p<v;p+=4)u[p]=u[p]+g,u[p+1]=u[p+1]+g,u[p+2]=u[p+2]+g}},getUniformLocations:function(l,c){return{uBrightness:l.getUniformLocation(c,"uBrightness")}},sendUniformData:function(l,c){l.uniform1f(c.uBrightness,this.brightness)}}),a.Image.filters.Brightness.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.util.object.extend,h=a.Image.filters,l=a.util.createClass;h.Convolute=l(h.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(c){var u=Math.sqrt(this.matrix.length),p=this.type+"_"+u+"_"+(this.opaque?1:0),v=this.fragmentSource[p];return c.programCache.hasOwnProperty(p)||(c.programCache[p]=this.createProgram(c.context,v)),c.programCache[p]},applyTo2d:function(c){var u=c.imageData,p=u.data,v=this.matrix,g=Math.round(Math.sqrt(v.length)),m=Math.floor(g/2),y=u.width,x=u.height,b=c.ctx.createImageData(y,x),w=b.data,S=this.opaque?1:0,_,C,k,A,F,B,H,L,z,I,E,V,T;for(E=0;E<x;E++)for(I=0;I<y;I++){for(F=(E*y+I)*4,_=0,C=0,k=0,A=0,T=0;T<g;T++)for(V=0;V<g;V++)H=E+T-m,B=I+V-m,!(H<0||H>=x||B<0||B>=y)&&(L=(H*y+B)*4,z=v[T*g+V],_+=p[L]*z,C+=p[L+1]*z,k+=p[L+2]*z,S||(A+=p[L+3]*z));w[F]=_,w[F+1]=C,w[F+2]=k,S?w[F+3]=p[F+3]:w[F+3]=A}c.imageData=b},getUniformLocations:function(c,u){return{uMatrix:c.getUniformLocation(u,"uMatrix"),uOpaque:c.getUniformLocation(u,"uOpaque"),uHalfSize:c.getUniformLocation(u,"uHalfSize"),uSize:c.getUniformLocation(u,"uSize")}},sendUniformData:function(c,u){c.uniform1fv(u.uMatrix,this.matrix)},toObject:function(){return f(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),a.Image.filters.Convolute.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Grayscale=h(f.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(l){var c=l.imageData,u=c.data,p,v=u.length,g,m=this.mode;for(p=0;p<v;p+=4)m==="average"?g=(u[p]+u[p+1]+u[p+2])/3:m==="lightness"?g=(Math.min(u[p],u[p+1],u[p+2])+Math.max(u[p],u[p+1],u[p+2]))/2:m==="luminosity"&&(g=.21*u[p]+.72*u[p+1]+.07*u[p+2]),u[p]=g,u[p+1]=g,u[p+2]=g},retrieveShader:function(l){var c=this.type+"_"+this.mode;if(!l.programCache.hasOwnProperty(c)){var u=this.fragmentSource[this.mode];l.programCache[c]=this.createProgram(l.context,u)}return l.programCache[c]},getUniformLocations:function(l,c){return{uMode:l.getUniformLocation(c,"uMode")}},sendUniformData:function(l,c){var u=1;l.uniform1i(c.uMode,u)},isNeutralState:function(){return!1}}),a.Image.filters.Grayscale.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Invert=h(f.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(l){var c=l.imageData,u=c.data,p,v=u.length;for(p=0;p<v;p+=4)u[p]=255-u[p],u[p+1]=255-u[p+1],u[p+2]=255-u[p+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(l,c){return{uInvert:l.getUniformLocation(c,"uInvert")}},sendUniformData:function(l,c){l.uniform1i(c.uInvert,this.invert)}}),a.Image.filters.Invert.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.util.object.extend,h=a.Image.filters,l=a.util.createClass;h.Noise=l(h.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(c){if(this.noise!==0){var u=c.imageData,p=u.data,v,g=p.length,m=this.noise,y;for(v=0,g=p.length;v<g;v+=4)y=(.5-Math.random())*m,p[v]+=y,p[v+1]+=y,p[v+2]+=y}},getUniformLocations:function(c,u){return{uNoise:c.getUniformLocation(u,"uNoise"),uSeed:c.getUniformLocation(u,"uSeed")}},sendUniformData:function(c,u){c.uniform1f(u.uNoise,this.noise/255),c.uniform1f(u.uSeed,Math.random())},toObject:function(){return f(this.callSuper("toObject"),{noise:this.noise})}}),a.Image.filters.Noise.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Pixelate=h(f.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(l){var c=l.imageData,u=c.data,p=c.height,v=c.width,g,m,y,x,b,w,S,_,C,k,A;for(m=0;m<p;m+=this.blocksize)for(y=0;y<v;y+=this.blocksize)for(g=m*4*v+y*4,x=u[g],b=u[g+1],w=u[g+2],S=u[g+3],k=Math.min(m+this.blocksize,p),A=Math.min(y+this.blocksize,v),_=m;_<k;_++)for(C=y;C<A;C++)g=_*4*v+C*4,u[g]=x,u[g+1]=b,u[g+2]=w,u[g+3]=S},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(l,c){return{uBlocksize:l.getUniformLocation(c,"uBlocksize"),uStepW:l.getUniformLocation(c,"uStepW"),uStepH:l.getUniformLocation(c,"uStepH")}},sendUniformData:function(l,c){l.uniform1f(c.uBlocksize,this.blocksize)}}),a.Image.filters.Pixelate.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.util.object.extend,h=a.Image.filters,l=a.util.createClass;h.RemoveColor=l(h.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(c){var u=c.imageData,p=u.data,v,g=this.distance*255,m,y,x,b=new a.Color(this.color).getSource(),w=[b[0]-g,b[1]-g,b[2]-g],S=[b[0]+g,b[1]+g,b[2]+g];for(v=0;v<p.length;v+=4)m=p[v],y=p[v+1],x=p[v+2],m>w[0]&&y>w[1]&&x>w[2]&&m<S[0]&&y<S[1]&&x<S[2]&&(p[v+3]=0)},getUniformLocations:function(c,u){return{uLow:c.getUniformLocation(u,"uLow"),uHigh:c.getUniformLocation(u,"uHigh")}},sendUniformData:function(c,u){var p=new a.Color(this.color).getSource(),v=parseFloat(this.distance),g=[0+p[0]/255-v,0+p[1]/255-v,0+p[2]/255-v,1],m=[p[0]/255+v,p[1]/255+v,p[2]/255+v,1];c.uniform4fv(u.uLow,g),c.uniform4fv(u.uHigh,m)},toObject:function(){return f(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),a.Image.filters.RemoveColor.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.Image.filters,h=a.util.createClass,l={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var c in l)f[c]=h(f.ColorMatrix,{type:c,matrix:l[c],mainParameter:!1,colorsOnly:!0}),a.Image.filters[c].fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric,f=a.Image.filters,h=a.util.createClass;f.BlendColor=h(f.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(l){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[l]+`}
}`},retrieveShader:function(l){var c=this.type+"_"+this.mode,u;return l.programCache.hasOwnProperty(c)||(u=this.buildSource(this.mode),l.programCache[c]=this.createProgram(l.context,u)),l.programCache[c]},applyTo2d:function(l){var c=l.imageData,u=c.data,p=u.length,v,g,m,y,x,b,w,S=1-this.alpha;w=new a.Color(this.color).getSource(),v=w[0]*this.alpha,g=w[1]*this.alpha,m=w[2]*this.alpha;for(var _=0;_<p;_+=4)switch(y=u[_],x=u[_+1],b=u[_+2],this.mode){case"multiply":u[_]=y*v/255,u[_+1]=x*g/255,u[_+2]=b*m/255;break;case"screen":u[_]=255-(255-y)*(255-v)/255,u[_+1]=255-(255-x)*(255-g)/255,u[_+2]=255-(255-b)*(255-m)/255;break;case"add":u[_]=y+v,u[_+1]=x+g,u[_+2]=b+m;break;case"diff":case"difference":u[_]=Math.abs(y-v),u[_+1]=Math.abs(x-g),u[_+2]=Math.abs(b-m);break;case"subtract":u[_]=y-v,u[_+1]=x-g,u[_+2]=b-m;break;case"darken":u[_]=Math.min(y,v),u[_+1]=Math.min(x,g),u[_+2]=Math.min(b,m);break;case"lighten":u[_]=Math.max(y,v),u[_+1]=Math.max(x,g),u[_+2]=Math.max(b,m);break;case"overlay":u[_]=v<128?2*y*v/255:255-2*(255-y)*(255-v)/255,u[_+1]=g<128?2*x*g/255:255-2*(255-x)*(255-g)/255,u[_+2]=m<128?2*b*m/255:255-2*(255-b)*(255-m)/255;break;case"exclusion":u[_]=v+y-2*v*y/255,u[_+1]=g+x-2*g*x/255,u[_+2]=m+b-2*m*b/255;break;case"tint":u[_]=v+y*S,u[_+1]=g+x*S,u[_+2]=m+b*S}},getUniformLocations:function(l,c){return{uColor:l.getUniformLocation(c,"uColor")}},sendUniformData:function(l,c){var u=new a.Color(this.color).getSource();u[0]=this.alpha*u[0]/255,u[1]=this.alpha*u[1]/255,u[2]=this.alpha*u[2]/255,u[3]=this.alpha,l.uniform4fv(c.uColor,u)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendColor.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric,f=a.Image.filters,h=a.util.createClass;f.BlendImage=h(f.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(l){var c=this.type+"_"+this.mode,u=this.fragmentSource[this.mode];return l.programCache.hasOwnProperty(c)||(l.programCache[c]=this.createProgram(l.context,u)),l.programCache[c]},applyToWebGL:function(l){var c=l.context,u=this.createTexture(l.filterBackend,this.image);this.bindAdditionalTexture(c,u,c.TEXTURE1),this.callSuper("applyToWebGL",l),this.unbindAdditionalTexture(c,c.TEXTURE1)},createTexture:function(l,c){return l.getCachedTexture(c.cacheKey,c._element)},calculateMatrix:function(){var l=this.image,c=l._element.width,u=l._element.height;return[1/l.scaleX,0,0,0,1/l.scaleY,0,-l.left/c,-l.top/u,1]},applyTo2d:function(l){var c=l.imageData,u=l.filterBackend.resources,p=c.data,v=p.length,g=c.width,m=c.height,y,x,b,w,S,_,C,k,A,F,B=this.image,H;u.blendImage||(u.blendImage=a.util.createCanvasElement()),A=u.blendImage,F=A.getContext("2d"),A.width!==g||A.height!==m?(A.width=g,A.height=m):F.clearRect(0,0,g,m),F.setTransform(B.scaleX,0,0,B.scaleY,B.left,B.top),F.drawImage(B._element,0,0,g,m),H=F.getImageData(0,0,g,m).data;for(var L=0;L<v;L+=4)switch(S=p[L],_=p[L+1],C=p[L+2],k=p[L+3],y=H[L],x=H[L+1],b=H[L+2],w=H[L+3],this.mode){case"multiply":p[L]=S*y/255,p[L+1]=_*x/255,p[L+2]=C*b/255,p[L+3]=k*w/255;break;case"mask":p[L+3]=w;break}},getUniformLocations:function(l,c){return{uTransformMatrix:l.getUniformLocation(c,"uTransformMatrix"),uImage:l.getUniformLocation(c,"uImage")}},sendUniformData:function(l,c){var u=this.calculateMatrix();l.uniform1i(c.uImage,1),l.uniformMatrix3fv(c.uTransformMatrix,!1,u)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendImage.fromObject=function(l,c){a.Image.fromObject(l.image,function(u){var p=a.util.object.clone(l);p.image=u,c(new a.Image.filters.BlendImage(p))})}}(t),function(o){var a=o.fabric||(o.fabric={}),f=Math.pow,h=Math.floor,l=Math.sqrt,c=Math.abs,u=Math.round,p=Math.sin,v=Math.ceil,g=a.Image.filters,m=a.util.createClass;g.Resize=m(g.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(y,x){return{uDelta:y.getUniformLocation(x,"uDelta"),uTaps:y.getUniformLocation(x,"uTaps")}},sendUniformData:function(y,x){y.uniform2fv(x.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),y.uniform1fv(x.uTaps,this.taps)},retrieveShader:function(y){var x=this.getFilterWindow(),b=this.type+"_"+x;if(!y.programCache.hasOwnProperty(b)){var w=this.generateShader(x);y.programCache[b]=this.createProgram(y.context,w)}return y.programCache[b]},getFilterWindow:function(){var y=this.tempScale;return Math.ceil(this.lanczosLobes/y)},getTaps:function(){for(var y=this.lanczosCreate(this.lanczosLobes),x=this.tempScale,b=this.getFilterWindow(),w=new Array(b),S=1;S<=b;S++)w[S-1]=y(S*x);return w},generateShader:function(w){for(var x=new Array(w),b=this.fragmentSourceTOP,w,S=1;S<=w;S++)x[S-1]=S+".0 * uDelta";return b+="uniform float uTaps["+w+`];
`,b+=`void main() {
`,b+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,b+=`  float sum = 1.0;
`,x.forEach(function(_,C){b+="  color += texture2D(uTexture, vTexCoord + "+_+") * uTaps["+C+`];
`,b+="  color += texture2D(uTexture, vTexCoord - "+_+") * uTaps["+C+`];
`,b+="  sum += 2.0 * uTaps["+C+`];
`}),b+=`  gl_FragColor = color / sum;
`,b+="}",b},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(y){y.webgl?(y.passes++,this.width=y.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=y.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),y.destinationWidth=this.dW,this._setupFrameBuffer(y),this.applyToWebGL(y),this._swapTextures(y),y.sourceWidth=y.destinationWidth,this.height=y.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),y.destinationHeight=this.dH,this._setupFrameBuffer(y),this.applyToWebGL(y),this._swapTextures(y),y.sourceHeight=y.destinationHeight):this.applyTo2d(y)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(y){return function(x){if(x>=y||x<=-y)return 0;if(x<11920929e-14&&x>-11920929e-14)return 1;x*=Math.PI;var b=x/y;return p(x)/x*p(b)/b}},applyTo2d:function(y){var x=y.imageData,b=this.scaleX,w=this.scaleY;this.rcpScaleX=1/b,this.rcpScaleY=1/w;var S=x.width,_=x.height,C=u(S*b),k=u(_*w),A;this.resizeType==="sliceHack"?A=this.sliceByTwo(y,S,_,C,k):this.resizeType==="hermite"?A=this.hermiteFastResize(y,S,_,C,k):this.resizeType==="bilinear"?A=this.bilinearFiltering(y,S,_,C,k):this.resizeType==="lanczos"&&(A=this.lanczosResize(y,S,_,C,k)),y.imageData=A},sliceByTwo:function(y,x,b,w,S){var _=y.imageData,C=.5,k=!1,A=!1,F=x*C,B=b*C,H=a.filterBackend.resources,L,z,I=0,E=0,V=x,T=0;for(H.sliceByTwo||(H.sliceByTwo=document.createElement("canvas")),L=H.sliceByTwo,(L.width<x*1.5||L.height<b)&&(L.width=x*1.5,L.height=b),z=L.getContext("2d"),z.clearRect(0,0,x*1.5,b),z.putImageData(_,0,0),w=h(w),S=h(S);!k||!A;)x=F,b=B,w<h(F*C)?F=h(F*C):(F=w,k=!0),S<h(B*C)?B=h(B*C):(B=S,A=!0),z.drawImage(L,I,E,x,b,V,T,F,B),I=V,E=T,T+=B;return z.getImageData(I,E,w,S)},lanczosResize:function(y,x,b,w,S){function _(j){var D,W,M,O,U,G,K,Y,Z,ie,ae;for(T.x=(j+.5)*B,P.x=h(T.x),D=0;D<S;D++){for(T.y=(D+.5)*H,P.y=h(T.y),U=0,G=0,K=0,Y=0,Z=0,W=P.x-I;W<=P.x+I;W++)if(!(W<0||W>=x)){ie=h(1e3*c(W-T.x)),V[ie]||(V[ie]={});for(var Q=P.y-E;Q<=P.y+E;Q++)Q<0||Q>=b||(ae=h(1e3*c(Q-T.y)),V[ie][ae]||(V[ie][ae]=F(l(f(ie*L,2)+f(ae*z,2))/1e3)),M=V[ie][ae],M>0&&(O=(Q*x+W)*4,U+=M,G+=M*C[O],K+=M*C[O+1],Y+=M*C[O+2],Z+=M*C[O+3]))}O=(D*w+j)*4,A[O]=G/U,A[O+1]=K/U,A[O+2]=Y/U,A[O+3]=Z/U}return++j<w?_(j):k}var C=y.imageData.data,k=y.ctx.createImageData(w,S),A=k.data,F=this.lanczosCreate(this.lanczosLobes),B=this.rcpScaleX,H=this.rcpScaleY,L=2/this.rcpScaleX,z=2/this.rcpScaleY,I=v(B*this.lanczosLobes/2),E=v(H*this.lanczosLobes/2),V={},T={},P={};return _(0)},bilinearFiltering:function(y,x,b,w,S){var _,C,k,A,F,B,H,L,z,I,E,V,T=0,P,j=this.rcpScaleX,D=this.rcpScaleY,W=4*(x-1),M=y.imageData,O=M.data,U=y.ctx.createImageData(w,S),G=U.data;for(H=0;H<S;H++)for(L=0;L<w;L++)for(F=h(j*L),B=h(D*H),z=j*L-F,I=D*H-B,P=4*(B*x+F),E=0;E<4;E++)_=O[P+E],C=O[P+4+E],k=O[P+W+E],A=O[P+W+4+E],V=_*(1-z)*(1-I)+C*z*(1-I)+k*I*(1-z)+A*z*I,G[T++]=V;return U},hermiteFastResize:function(y,x,b,w,S){for(var _=this.rcpScaleX,C=this.rcpScaleY,k=v(_/2),A=v(C/2),F=y.imageData,B=F.data,H=y.ctx.createImageData(w,S),L=H.data,z=0;z<S;z++)for(var I=0;I<w;I++){for(var E=(I+z*w)*4,V=0,T=0,P=0,j=0,D=0,W=0,M=0,O=(z+.5)*C,U=h(z*C);U<(z+1)*C;U++)for(var G=c(O-(U+.5))/A,K=(I+.5)*_,Y=G*G,Z=h(I*_);Z<(I+1)*_;Z++){var ie=c(K-(Z+.5))/k,ae=l(Y+ie*ie);ae>1&&ae<-1||(V=2*ae*ae*ae-3*ae*ae+1,V>0&&(ie=4*(Z+U*x),M+=V*B[ie+3],P+=V,B[ie+3]<255&&(V=V*B[ie+3]/250),j+=V*B[ie],D+=V*B[ie+1],W+=V*B[ie+2],T+=V))}L[E]=j/T,L[E+1]=D/T,L[E+2]=W/T,L[E+3]=M/P}return H},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),a.Image.filters.Resize.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Contrast=h(f.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(l){if(this.contrast!==0){var c=l.imageData,u,v,p=c.data,v=p.length,g=Math.floor(this.contrast*255),m=259*(g+255)/(255*(259-g));for(u=0;u<v;u+=4)p[u]=m*(p[u]-128)+128,p[u+1]=m*(p[u+1]-128)+128,p[u+2]=m*(p[u+2]-128)+128}},getUniformLocations:function(l,c){return{uContrast:l.getUniformLocation(c,"uContrast")}},sendUniformData:function(l,c){l.uniform1f(c.uContrast,this.contrast)}}),a.Image.filters.Contrast.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Saturation=h(f.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(l){if(this.saturation!==0){var c=l.imageData,u=c.data,p=u.length,v=-this.saturation,g,m;for(g=0;g<p;g+=4)m=Math.max(u[g],u[g+1],u[g+2]),u[g]+=m!==u[g]?(m-u[g])*v:0,u[g+1]+=m!==u[g+1]?(m-u[g+1])*v:0,u[g+2]+=m!==u[g+2]?(m-u[g+2])*v:0}},getUniformLocations:function(l,c){return{uSaturation:l.getUniformLocation(c,"uSaturation")}},sendUniformData:function(l,c){l.uniform1f(c.uSaturation,-this.saturation)}}),a.Image.filters.Saturation.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Vibrance=h(f.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(l){if(this.vibrance!==0){var c=l.imageData,u=c.data,p=u.length,v=-this.vibrance,g,m,y,x;for(g=0;g<p;g+=4)m=Math.max(u[g],u[g+1],u[g+2]),y=(u[g]+u[g+1]+u[g+2])/3,x=Math.abs(m-y)*2/255*v,u[g]+=m!==u[g]?(m-u[g])*x:0,u[g+1]+=m!==u[g+1]?(m-u[g+1])*x:0,u[g+2]+=m!==u[g+2]?(m-u[g+2])*x:0}},getUniformLocations:function(l,c){return{uVibrance:l.getUniformLocation(c,"uVibrance")}},sendUniformData:function(l,c){l.uniform1f(c.uVibrance,-this.vibrance)}}),a.Image.filters.Vibrance.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Blur=h(f.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(l){l.webgl?(this.aspectRatio=l.sourceWidth/l.sourceHeight,l.passes++,this._setupFrameBuffer(l),this.horizontal=!0,this.applyToWebGL(l),this._swapTextures(l),this._setupFrameBuffer(l),this.horizontal=!1,this.applyToWebGL(l),this._swapTextures(l)):this.applyTo2d(l)},applyTo2d:function(l){l.imageData=this.simpleBlur(l)},simpleBlur:function(l){var c=l.filterBackend.resources,u,p,v=l.imageData.width,g=l.imageData.height;c.blurLayer1||(c.blurLayer1=a.util.createCanvasElement(),c.blurLayer2=a.util.createCanvasElement()),u=c.blurLayer1,p=c.blurLayer2,(u.width!==v||u.height!==g)&&(p.width=u.width=v,p.height=u.height=g);var m=u.getContext("2d"),y=p.getContext("2d"),x=15,b,w,S,_,C=this.blur*.06*.5;for(m.putImageData(l.imageData,0,0),y.clearRect(0,0,v,g),_=-x;_<=x;_++)b=(Math.random()-.5)/4,w=_/x,S=C*w*v+b,y.globalAlpha=1-Math.abs(w),y.drawImage(u,S,b),m.drawImage(p,0,0),y.globalAlpha=1,y.clearRect(0,0,p.width,p.height);for(_=-x;_<=x;_++)b=(Math.random()-.5)/4,w=_/x,S=C*w*g+b,y.globalAlpha=1-Math.abs(w),y.drawImage(u,b,S),m.drawImage(p,0,0),y.globalAlpha=1,y.clearRect(0,0,p.width,p.height);l.ctx.drawImage(u,0,0);var k=l.ctx.getImageData(0,0,u.width,u.height);return m.globalAlpha=1,m.clearRect(0,0,u.width,u.height),k},getUniformLocations:function(l,c){return{delta:l.getUniformLocation(c,"uDelta")}},sendUniformData:function(l,c){var u=this.chooseRightDelta();l.uniform2fv(c.delta,u)},chooseRightDelta:function(){var l=1,c=[0,0],u;return this.horizontal?this.aspectRatio>1&&(l=1/this.aspectRatio):this.aspectRatio<1&&(l=this.aspectRatio),u=l*this.blur*.12,this.horizontal?c[0]=u:c[1]=u,c}}),f.Blur.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Gamma=h(f.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(l){this.gamma=[1,1,1],f.BaseFilter.prototype.initialize.call(this,l)},applyTo2d:function(l){var c=l.imageData,u=c.data,p=this.gamma,v=u.length,g=1/p[0],m=1/p[1],y=1/p[2],x;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),x=0,v=256;x<v;x++)this.rVals[x]=Math.pow(x/255,g)*255,this.gVals[x]=Math.pow(x/255,m)*255,this.bVals[x]=Math.pow(x/255,y)*255;for(x=0,v=u.length;x<v;x+=4)u[x]=this.rVals[u[x]],u[x+1]=this.gVals[u[x+1]],u[x+2]=this.bVals[u[x+2]]},getUniformLocations:function(l,c){return{uGamma:l.getUniformLocation(c,"uGamma")}},sendUniformData:function(l,c){l.uniform3fv(c.uGamma,this.gamma)}}),a.Image.filters.Gamma.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Composed=h(f.BaseFilter,{type:"Composed",subFilters:[],initialize:function(l){this.callSuper("initialize",l),this.subFilters=this.subFilters.slice(0)},applyTo:function(l){l.passes+=this.subFilters.length-1,this.subFilters.forEach(function(c){c.applyTo(l)})},toObject:function(){return a.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(l){return l.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(l){return!l.isNeutralState()})}}),a.Image.filters.Composed.fromObject=function(l,c){var u=l.subFilters||[],p=u.map(function(g){return new a.Image.filters[g.type](g)}),v=new a.Image.filters.Composed({subFilters:p});return c&&c(v),v}}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.Image.filters,h=a.util.createClass;f.HueRotation=h(f.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var l=this.rotation*Math.PI,c=a.util.cos(l),u=a.util.sin(l),p=1/3,v=Math.sqrt(p)*u,g=1-c;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=c+g/3,this.matrix[1]=p*g-v,this.matrix[2]=p*g+v,this.matrix[5]=p*g+v,this.matrix[6]=c+p*g,this.matrix[7]=p*g-v,this.matrix[10]=p*g-v,this.matrix[11]=p*g+v,this.matrix[12]=c+p*g},isNeutralState:function(l){return this.calculateMatrix(),f.BaseFilter.prototype.isNeutralState.call(this,l)},applyTo:function(l){this.calculateMatrix(),f.BaseFilter.prototype.applyTo.call(this,l)}}),a.Image.filters.HueRotation.fromObject=a.Image.filters.BaseFilter.fromObject}(t),function(o){var a=o.fabric||(o.fabric={}),f=a.util.object.clone;if(a.Text){a.warn("fabric.Text is already defined");return}var h="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");a.Text=a.util.createClass(a.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:a.Object.prototype.stateProperties.concat(h),cacheProperties:a.Object.prototype.cacheProperties.concat(h),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(l,c){this.styles=c?c.styles||{}:{},this.text=l,this.__skipDimension=!0,this.callSuper("initialize",c),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var l=this.path;l&&(l.segmentsInfo=a.util.getPathSegmentsInfo(l.path))},getMeasuringContext:function(){return a._measuringContext||(a._measuringContext=this.canvas&&this.canvas.contextCache||a.util.createCanvasElement().getContext("2d")),a._measuringContext},_splitText:function(){var l=this._splitTextIntoLines(this.text);return this.textLines=l.lines,this._textLines=l.graphemeLines,this._unwrappedTextLines=l._unwrappedLines,this._text=l.graphemeText,l},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var l,c,u,p,v,g,m,y=0,x=this._textLines.length;y<x;y++)if(!(this.textAlign!=="justify"&&(y===x-1||this.isEndOfWrapping(y)))&&(p=0,v=this._textLines[y],c=this.getLineWidth(y),c<this.width&&(m=this.textLines[y].match(this._reSpacesAndTabs)))){u=m.length,l=(this.width-c)/u;for(var b=0,w=v.length;b<=w;b++)g=this.__charBounds[y][b],this._reSpaceAndTab.test(v[b])?(g.width+=l,g.kernedWidth+=l,g.left+=p,p+=l):g.left+=p}},isEndOfWrapping:function(l){return l===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var l=this.callSuper("_getCacheCanvasDimensions"),c=this.fontSize;return l.width+=c*l.zoomX,l.height+=c*l.zoomY,l},_render:function(l){var c=this.path;c&&!c.isNotVisible()&&c._render(l),this._setTextStyles(l),this._renderTextLinesBackground(l),this._renderTextDecoration(l,"underline"),this._renderText(l),this._renderTextDecoration(l,"overline"),this._renderTextDecoration(l,"linethrough")},_renderText:function(l){this.paintFirst==="stroke"?(this._renderTextStroke(l),this._renderTextFill(l)):(this._renderTextFill(l),this._renderTextStroke(l))},_setTextStyles:function(l,c,u){if(l.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":l.textBaseline="middle";break;case"ascender":l.textBaseline="top";break;case"descender":l.textBaseline="bottom";break}l.font=this._getFontDeclaration(c,u)},calcTextWidth:function(){for(var l=this.getLineWidth(0),c=1,u=this._textLines.length;c<u;c++){var p=this.getLineWidth(c);p>l&&(l=p)}return l},_renderTextLine:function(l,c,u,p,v,g){this._renderChars(l,c,u,p,v,g)},_renderTextLinesBackground:function(l){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var c,u,p=l.fillStyle,v,g,m=this._getLeftOffset(),y=this._getTopOffset(),x=0,b=0,w,S,_=this.path,C,k=0,A=this._textLines.length;k<A;k++){if(c=this.getHeightOfLine(k),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",k)){y+=c;continue}v=this._textLines[k],u=this._getLineLeftOffset(k),b=0,x=0,g=this.getValueOfPropertyAt(k,0,"textBackgroundColor");for(var F=0,B=v.length;F<B;F++)w=this.__charBounds[k][F],S=this.getValueOfPropertyAt(k,F,"textBackgroundColor"),_?(l.save(),l.translate(w.renderLeft,w.renderTop),l.rotate(w.angle),l.fillStyle=S,S&&l.fillRect(-w.width/2,-c/this.lineHeight*(1-this._fontSizeFraction),w.width,c/this.lineHeight),l.restore()):S!==g?(C=m+u+x,this.direction==="rtl"&&(C=this.width-C-b),l.fillStyle=g,g&&l.fillRect(C,y,b,c/this.lineHeight),x=w.left,b=w.width,g=S):b+=w.kernedWidth;S&&!_&&(C=m+u+x,this.direction==="rtl"&&(C=this.width-C-b),l.fillStyle=S,l.fillRect(C,y,b,c/this.lineHeight)),y+=c}l.fillStyle=p,this._removeShadow(l)}},getFontCache:function(l){var c=l.fontFamily.toLowerCase();a.charWidthsCache[c]||(a.charWidthsCache[c]={});var u=a.charWidthsCache[c],p=l.fontStyle.toLowerCase()+"_"+(l.fontWeight+"").toLowerCase();return u[p]||(u[p]={}),u[p]},_measureChar:function(l,c,u,p){var v=this.getFontCache(c),g=this._getFontDeclaration(c),m=this._getFontDeclaration(p),y=u+l,x=g===m,b,w,S,_=c.fontSize/this.CACHE_FONT_SIZE,C;if(u&&v[u]!==void 0&&(S=v[u]),v[l]!==void 0&&(C=b=v[l]),x&&v[y]!==void 0&&(w=v[y],C=w-S),b===void 0||S===void 0||w===void 0){var k=this.getMeasuringContext();this._setTextStyles(k,c,!0)}return b===void 0&&(C=b=k.measureText(l).width,v[l]=b),S===void 0&&x&&u&&(S=k.measureText(u).width,v[u]=S),x&&w===void 0&&(w=k.measureText(y).width,v[y]=w,C=w-S),{width:b*_,kernedWidth:C*_}},getHeightOfChar:function(l,c){return this.getValueOfPropertyAt(l,c,"fontSize")},measureLine:function(l){var c=this._measureLine(l);return this.charSpacing!==0&&(c.width-=this._getWidthOfCharSpacing()),c.width<0&&(c.width=0),c},_measureLine:function(l){var c=0,u,p,v=this._textLines[l],g,m,y=0,x=new Array(v.length),b=0,w,S,_=this.path,C=this.pathSide==="right";for(this.__charBounds[l]=x,u=0;u<v.length;u++)p=v[u],m=this._getGraphemeBox(p,l,u,g),x[u]=m,c+=m.kernedWidth,g=p;if(x[u]={left:m?m.left+m.width:0,width:0,kernedWidth:0,height:this.fontSize},_){switch(S=_.segmentsInfo[_.segmentsInfo.length-1].length,w=a.util.getPointOnPath(_.path,0,_.segmentsInfo),w.x+=_.pathOffset.x,w.y+=_.pathOffset.y,this.textAlign){case"left":b=C?S-c:0;break;case"center":b=(S-c)/2;break;case"right":b=C?0:S-c;break}for(b+=this.pathStartOffset*(C?-1:1),u=C?v.length-1:0;C?u>=0:u<v.length;C?u--:u++)m=x[u],b>S?b%=S:b<0&&(b+=S),this._setGraphemeOnPath(b,m,w),b+=m.kernedWidth}return{width:c,numOfSpaces:y}},_setGraphemeOnPath:function(l,c,u){var p=l+c.kernedWidth/2,v=this.path,g=a.util.getPointOnPath(v.path,p,v.segmentsInfo);c.renderLeft=g.x-u.x,c.renderTop=g.y-u.y,c.angle=g.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(l,c,u,p,v){var g=this.getCompleteStyleDeclaration(c,u),m=p?this.getCompleteStyleDeclaration(c,u-1):{},y=this._measureChar(l,g,p,m),x=y.kernedWidth,b=y.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),b+=w,x+=w);var S={width:b,left:0,height:g.fontSize,kernedWidth:x,deltaY:g.deltaY};if(u>0&&!v){var _=this.__charBounds[c][u-1];S.left=_.left+_.width+y.kernedWidth-y.width}return S},getHeightOfLine:function(l){if(this.__lineHeights[l])return this.__lineHeights[l];for(var c=this._textLines[l],u=this.getHeightOfChar(l,0),p=1,v=c.length;p<v;p++)u=Math.max(this.getHeightOfChar(l,p),u);return this.__lineHeights[l]=u*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var l,c=0,u=0,p=this._textLines.length;u<p;u++)l=this.getHeightOfLine(u),c+=u===p-1?l/this.lineHeight:l;return c},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(l,c){l.save();for(var u=0,p=this._getLeftOffset(),v=this._getTopOffset(),g=0,m=this._textLines.length;g<m;g++){var y=this.getHeightOfLine(g),x=y/this.lineHeight,b=this._getLineLeftOffset(g);this._renderTextLine(c,l,this._textLines[g],p+b,v+u+x,g),u+=y}l.restore()},_renderTextFill:function(l){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(l,"fillText")},_renderTextStroke:function(l){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this._setLineDash(l,this.strokeDashArray),l.beginPath(),this._renderTextCommon(l,"strokeText"),l.closePath(),l.restore())},_renderChars:function(l,c,u,p,v,g){var m=this.getHeightOfLine(g),y=this.textAlign.indexOf("justify")!==-1,x,b,w="",S,_=0,C,k=this.path,A=!y&&this.charSpacing===0&&this.isEmptyStyles(g)&&!k,F=this.direction==="ltr",B=this.direction==="ltr"?1:-1,H,L=c.canvas.getAttribute("dir");if(c.save(),L!==this.direction&&(c.canvas.setAttribute("dir",F?"ltr":"rtl"),c.direction=F?"ltr":"rtl",c.textAlign=F?"left":"right"),v-=m*this._fontSizeFraction/this.lineHeight,A){this._renderChar(l,c,g,0,u.join(""),p,v,m),c.restore();return}for(var z=0,I=u.length-1;z<=I;z++)C=z===I||this.charSpacing||k,w+=u[z],S=this.__charBounds[g][z],_===0?(p+=B*(S.kernedWidth-S.width),_+=S.width):_+=S.kernedWidth,y&&!C&&this._reSpaceAndTab.test(u[z])&&(C=!0),C||(x=x||this.getCompleteStyleDeclaration(g,z),b=this.getCompleteStyleDeclaration(g,z+1),C=a.util.hasStyleChanged(x,b,!1)),C&&(k?(c.save(),c.translate(S.renderLeft,S.renderTop),c.rotate(S.angle),this._renderChar(l,c,g,z,w,-_/2,0,m),c.restore()):(H=p,this._renderChar(l,c,g,z,w,H,v,m)),w="",x=b,p+=B*_,_=0);c.restore()},_applyPatternGradientTransformText:function(l){var c=a.util.createCanvasElement(),u,p=this.width+this.strokeWidth,v=this.height+this.strokeWidth;return c.width=p,c.height=v,u=c.getContext("2d"),u.beginPath(),u.moveTo(0,0),u.lineTo(p,0),u.lineTo(p,v),u.lineTo(0,v),u.closePath(),u.translate(p/2,v/2),u.fillStyle=l.toLive(u),this._applyPatternGradientTransform(u,l),u.fill(),u.createPattern(c,"no-repeat")},handleFiller:function(l,c,u){var p,v;return u.toLive?u.gradientUnits==="percentage"||u.gradientTransform||u.patternTransform?(p=-this.width/2,v=-this.height/2,l.translate(p,v),l[c]=this._applyPatternGradientTransformText(u),{offsetX:p,offsetY:v}):(l[c]=u.toLive(l,this),this._applyPatternGradientTransform(l,u)):(l[c]=u,{offsetX:0,offsetY:0})},_setStrokeStyles:function(l,c){return l.lineWidth=c.strokeWidth,l.lineCap=this.strokeLineCap,l.lineDashOffset=this.strokeDashOffset,l.lineJoin=this.strokeLineJoin,l.miterLimit=this.strokeMiterLimit,this.handleFiller(l,"strokeStyle",c.stroke)},_setFillStyles:function(l,c){return this.handleFiller(l,"fillStyle",c.fill)},_renderChar:function(l,c,u,p,v,g,m){var y=this._getStyleDeclaration(u,p),x=this.getCompleteStyleDeclaration(u,p),b=l==="fillText"&&x.fill,w=l==="strokeText"&&x.stroke&&x.strokeWidth,S,_;!w&&!b||(c.save(),b&&(S=this._setFillStyles(c,x)),w&&(_=this._setStrokeStyles(c,x)),c.font=this._getFontDeclaration(x),y&&y.textBackgroundColor&&this._removeShadow(c),y&&y.deltaY&&(m+=y.deltaY),b&&c.fillText(v,g-S.offsetX,m-S.offsetY),w&&c.strokeText(v,g-_.offsetX,m-_.offsetY),c.restore())},setSuperscript:function(l,c){return this._setScript(l,c,this.superscript)},setSubscript:function(l,c){return this._setScript(l,c,this.subscript)},_setScript:function(l,c,u){var p=this.get2DCursorLocation(l,!0),v=this.getValueOfPropertyAt(p.lineIndex,p.charIndex,"fontSize"),g=this.getValueOfPropertyAt(p.lineIndex,p.charIndex,"deltaY"),m={fontSize:v*u.size,deltaY:g+v*u.baseline};return this.setSelectionStyles(m,l,c),this},_getLineLeftOffset:function(l){var c=this.getLineWidth(l),u=this.width-c,p=this.textAlign,v=this.direction,m,g=0,m=this.isEndOfWrapping(l);return p==="justify"||p==="justify-center"&&!m||p==="justify-right"&&!m||p==="justify-left"&&!m?0:(p==="center"&&(g=u/2),p==="right"&&(g=u),p==="justify-center"&&(g=u/2),p==="justify-right"&&(g=u),v==="rtl"&&(g-=u),g)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var l=this._forceClearCache;return l||(l=this.hasStateChanged("_dimensionAffectingProps")),l&&(this.dirty=!0,this._forceClearCache=!1),l},getLineWidth:function(l){if(this.__lineWidths[l]!==void 0)return this.__lineWidths[l];var c=this.measureLine(l),u=c.width;return this.__lineWidths[l]=u,u},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(l,c,u){var p=this._getStyleDeclaration(l,c);return p&&typeof p[u]<"u"?p[u]:this[u]},_renderTextDecoration:function(l,c){if(!(!this[c]&&!this.styleHas(c))){l.save(),(c==="overline"||c==="linethrough")&&this._removeShadow(l);for(var u,p,v,g,m,y,x,b,w=this._getLeftOffset(),S=this._getTopOffset(),_,C,k,A,F,B,H,L,z=this.path,I=this._getWidthOfCharSpacing(),E=this.offsets[c],V=0,T=this._textLines.length;V<T;V++){if(u=this.getHeightOfLine(V),!this[c]&&!this.styleHas(c,V)){S+=u;continue}x=this._textLines[V],B=u/this.lineHeight,g=this._getLineLeftOffset(V),C=0,k=0,b=this.getValueOfPropertyAt(V,0,c),L=this.getValueOfPropertyAt(V,0,"fill"),_=S+B*(1-this._fontSizeFraction),p=this.getHeightOfChar(V,0),m=this.getValueOfPropertyAt(V,0,"deltaY");for(var P=0,j=x.length;P<j;P++)if(A=this.__charBounds[V][P],F=this.getValueOfPropertyAt(V,P,c),H=this.getValueOfPropertyAt(V,P,"fill"),v=this.getHeightOfChar(V,P),y=this.getValueOfPropertyAt(V,P,"deltaY"),z&&F&&H)l.save(),l.fillStyle=L,l.translate(A.renderLeft,A.renderTop),l.rotate(A.angle),l.fillRect(-A.kernedWidth/2,E*v+y,A.kernedWidth,this.fontSize/15),l.restore();else if((F!==b||H!==L||v!==p||y!==m)&&k>0){var D=w+g+C;this.direction==="rtl"&&(D=this.width-D-k),b&&L&&(l.fillStyle=L,l.fillRect(D,_+E*p+m,k,this.fontSize/15)),C=A.left,k=A.width,b=F,L=H,p=v,m=y}else k+=A.kernedWidth;var D=w+g+C;this.direction==="rtl"&&(D=this.width-D-k),l.fillStyle=H,F&&H&&l.fillRect(D,_+E*p+m,k-I,this.fontSize/15),S+=u}l.restore()}},_getFontDeclaration:function(l,c){var u=l||this,p=this.fontFamily,v=a.Text.genericFonts.indexOf(p.toLowerCase())>-1,g=p===void 0||p.indexOf("'")>-1||p.indexOf(",")>-1||p.indexOf('"')>-1||v?u.fontFamily:'"'+u.fontFamily+'"';return[a.isLikelyNode?u.fontWeight:u.fontStyle,a.isLikelyNode?u.fontStyle:u.fontWeight,c?this.CACHE_FONT_SIZE+"px":u.fontSize+"px",g].join(" ")},render:function(l){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",l)))},_splitTextIntoLines:function(l){for(var c=l.split(this._reNewline),u=new Array(c.length),p=[`
`],v=[],g=0;g<c.length;g++)u[g]=a.util.string.graphemeSplit(c[g]),v=v.concat(u[g],p);return v.pop(),{_unwrappedLines:u,lines:c,graphemeText:v,graphemeLines:u}},toObject:function(l){var c=h.concat(l),u=this.callSuper("toObject",c);return u.styles=a.util.stylesToArray(this.styles,this.text),u.path&&(u.path=this.path.toObject()),u},set:function(l,c){this.callSuper("set",l,c);var u=!1,p=!1;if(typeof l=="object")for(var v in l)v==="path"&&this.setPathInfo(),u=u||this._dimensionAffectingProps.indexOf(v)!==-1,p=p||v==="path";else u=this._dimensionAffectingProps.indexOf(l)!==-1,p=l==="path";return p&&this.setPathInfo(),u&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),a.Text.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),a.Text.DEFAULT_SVG_FONT_SIZE=16,a.Text.fromElement=function(l,c,u){if(!l)return c(null);var p=a.parseAttributes(l,a.Text.ATTRIBUTE_NAMES),v=p.textAnchor||"left";if(u=a.util.object.extend(u?f(u):{},p),u.top=u.top||0,u.left=u.left||0,p.textDecoration){var g=p.textDecoration;g.indexOf("underline")!==-1&&(u.underline=!0),g.indexOf("overline")!==-1&&(u.overline=!0),g.indexOf("line-through")!==-1&&(u.linethrough=!0),delete u.textDecoration}"dx"in p&&(u.left+=p.dx),"dy"in p&&(u.top+=p.dy),"fontSize"in u||(u.fontSize=a.Text.DEFAULT_SVG_FONT_SIZE);var m="";"textContent"in l?m=l.textContent:"firstChild"in l&&l.firstChild!==null&&"data"in l.firstChild&&l.firstChild.data!==null&&(m=l.firstChild.data),m=m.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var y=u.strokeWidth;u.strokeWidth=0;var x=new a.Text(m,u),b=x.getScaledHeight()/x.height,w=(x.height+x.strokeWidth)*x.lineHeight-x.height,S=w*b,_=x.getScaledHeight()+S,C=0;v==="center"&&(C=x.getScaledWidth()/2),v==="right"&&(C=x.getScaledWidth()),x.set({left:x.left-C,top:x.top-(_-x.fontSize*(.07+x._fontSizeFraction))/x.lineHeight,strokeWidth:typeof y<"u"?y:1}),c(x)},a.Text.fromObject=function(l,c){var u=f(l),p=l.path;return delete u.path,a.Object._fromObject("Text",u,function(v){v.styles=a.util.stylesFromArray(l.styles,l.text),p?a.Object._fromObject("Path",p,function(g){v.set("path",g),c(v)},"path"):c(v)},"text")},a.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],a.util.createAccessors&&a.util.createAccessors(a.Text)}(t),function(){e.util.object.extend(e.Text.prototype,{isEmptyStyles:function(o){if(!this.styles||typeof o<"u"&&!this.styles[o])return!0;var a=typeof o>"u"?this.styles:{line:this.styles[o]};for(var f in a)for(var h in a[f])for(var l in a[f][h])return!1;return!0},styleHas:function(o,a){if(!this.styles||!o||o===""||typeof a<"u"&&!this.styles[a])return!1;var f=typeof a>"u"?this.styles:{0:this.styles[a]};for(var h in f)for(var l in f[h])if(typeof f[h][l][o]<"u")return!0;return!1},cleanStyle:function(o){if(!this.styles||!o||o==="")return!1;var a=this.styles,f=0,h,l,c=!0,u=0,p;for(var v in a){h=0;for(var g in a[v]){var p=a[v][g],m=p.hasOwnProperty(o);f++,m?(l?p[o]!==l&&(c=!1):l=p[o],p[o]===this[o]&&delete p[o]):c=!1,Object.keys(p).length!==0?h++:delete a[v][g]}h===0&&delete a[v]}for(var y=0;y<this._textLines.length;y++)u+=this._textLines[y].length;c&&f===u&&(this[o]=l,this.removeStyle(o))},removeStyle:function(o){if(!(!this.styles||!o||o==="")){var a=this.styles,f,h,l;for(h in a){f=a[h];for(l in f)delete f[l][o],Object.keys(f[l]).length===0&&delete f[l];Object.keys(f).length===0&&delete a[h]}}},_extendStyles:function(o,a){var f=this.get2DCursorLocation(o);this._getLineStyle(f.lineIndex)||this._setLineStyle(f.lineIndex),this._getStyleDeclaration(f.lineIndex,f.charIndex)||this._setStyleDeclaration(f.lineIndex,f.charIndex,{}),e.util.object.extend(this._getStyleDeclaration(f.lineIndex,f.charIndex),a)},get2DCursorLocation:function(o,a){typeof o>"u"&&(o=this.selectionStart);for(var f=a?this._unwrappedTextLines:this._textLines,h=f.length,l=0;l<h;l++){if(o<=f[l].length)return{lineIndex:l,charIndex:o};o-=f[l].length+this.missingNewlineOffset(l,a)}return{lineIndex:l-1,charIndex:f[l-1].length<o?f[l-1].length:o}},getSelectionStyles:function(o,a,f){typeof o>"u"&&(o=this.selectionStart||0),typeof a>"u"&&(a=this.selectionEnd||o);for(var h=[],l=o;l<a;l++)h.push(this.getStyleAtPosition(l,f));return h},getStyleAtPosition:function(o,a){var f=this.get2DCursorLocation(o),h=a?this.getCompleteStyleDeclaration(f.lineIndex,f.charIndex):this._getStyleDeclaration(f.lineIndex,f.charIndex);return h||{}},setSelectionStyles:function(o,a,f){typeof a>"u"&&(a=this.selectionStart||0),typeof f>"u"&&(f=this.selectionEnd||a);for(var h=a;h<f;h++)this._extendStyles(h,o);return this._forceClearCache=!0,this},_getStyleDeclaration:function(o,a){var f=this.styles&&this.styles[o];return f?f[a]:null},getCompleteStyleDeclaration:function(o,a){for(var f=this._getStyleDeclaration(o,a)||{},h={},l,c=0;c<this._styleProperties.length;c++)l=this._styleProperties[c],h[l]=typeof f[l]>"u"?this[l]:f[l];return h},_setStyleDeclaration:function(o,a,f){this.styles[o][a]=f},_deleteStyleDeclaration:function(o,a){delete this.styles[o][a]},_getLineStyle:function(o){return!!this.styles[o]},_setLineStyle:function(o){this.styles[o]={}},_deleteLineStyle:function(o){delete this.styles[o]}})}(),function(){function o(a){a.textDecoration&&(a.textDecoration.indexOf("underline")>-1&&(a.underline=!0),a.textDecoration.indexOf("line-through")>-1&&(a.linethrough=!0),a.textDecoration.indexOf("overline")>-1&&(a.overline=!0),delete a.textDecoration)}e.IText=e.util.createClass(e.Text,e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(a,f){this.callSuper("initialize",a,f),this.initBehavior()},setSelectionStart:function(a){a=Math.max(a,0),this._updateAndFire("selectionStart",a)},setSelectionEnd:function(a){a=Math.min(a,this.text.length),this._updateAndFire("selectionEnd",a)},_updateAndFire:function(a,f){this[a]!==f&&(this._fireSelectionChanged(),this[a]=f),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(a){this.clearContextTop(),this.callSuper("render",a),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(a){this.callSuper("_render",a)},clearContextTop:function(a){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var f=this.canvas.contextTop,h=this.canvas.viewportTransform;f.save(),f.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this.transform(f),this._clearTextArea(f),a||f.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var a=this._getCursorBoundaries(),f=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(a,f):this.renderSelection(a,f),f.restore()}},_clearTextArea:function(a){var f=this.width+4,h=this.height+4;a.clearRect(-f/2,-h/2,f,h)},_getCursorBoundaries:function(a){typeof a>"u"&&(a=this.selectionStart);var f=this._getLeftOffset(),h=this._getTopOffset(),l=this._getCursorBoundariesOffsets(a);return{left:f,top:h,leftOffset:l.left,topOffset:l.top}},_getCursorBoundariesOffsets:function(a){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var f,h,l,c=0,u=0,p,v=this.get2DCursorLocation(a);l=v.charIndex,h=v.lineIndex;for(var g=0;g<h;g++)c+=this.getHeightOfLine(g);f=this._getLineLeftOffset(h);var m=this.__charBounds[h][l];return m&&(u=m.left),this.charSpacing!==0&&l===this._textLines[h].length&&(u-=this._getWidthOfCharSpacing()),p={top:c,left:f+(u>0?u:0)},this.direction==="rtl"&&(p.left*=-1),this.cursorOffsetCache=p,this.cursorOffsetCache},renderCursor:function(a,f){var h=this.get2DCursorLocation(),l=h.lineIndex,c=h.charIndex>0?h.charIndex-1:0,u=this.getValueOfPropertyAt(l,c,"fontSize"),p=this.scaleX*this.canvas.getZoom(),v=this.cursorWidth/p,g=a.topOffset,m=this.getValueOfPropertyAt(l,c,"deltaY");g+=(1-this._fontSizeFraction)*this.getHeightOfLine(l)/this.lineHeight-u*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(a,f),f.fillStyle=this.cursorColor||this.getValueOfPropertyAt(l,c,"fill"),f.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,f.fillRect(a.left+a.leftOffset-v/2,g+a.top+m,v,u)},renderSelection:function(a,f){for(var h=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,l=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,c=this.textAlign.indexOf("justify")!==-1,u=this.get2DCursorLocation(h),p=this.get2DCursorLocation(l),v=u.lineIndex,g=p.lineIndex,m=u.charIndex<0?0:u.charIndex,y=p.charIndex<0?0:p.charIndex,x=v;x<=g;x++){var b=this._getLineLeftOffset(x)||0,w=this.getHeightOfLine(x),S=0,_=0,C=0;if(x===v&&(_=this.__charBounds[v][m].left),x>=v&&x<g)C=c&&!this.isEndOfWrapping(x)?this.width:this.getLineWidth(x)||5;else if(x===g)if(y===0)C=this.__charBounds[g][y].left;else{var k=this._getWidthOfCharSpacing();C=this.__charBounds[g][y-1].left+this.__charBounds[g][y-1].width-k}S=w,(this.lineHeight<1||x===g&&this.lineHeight>1)&&(w/=this.lineHeight);var A=a.left+b+_,F=C-_,B=w,H=0;this.inCompositionMode?(f.fillStyle=this.compositionColor||"black",B=1,H=w):f.fillStyle=this.selectionColor,this.direction==="rtl"&&(A=this.width-A-F),f.fillRect(A,a.top+a.topOffset+H,F,B),a.topOffset+=S}},getCurrentCharFontSize:function(){var a=this._getCurrentCharIndex();return this.getValueOfPropertyAt(a.l,a.c,"fontSize")},getCurrentCharColor:function(){var a=this._getCurrentCharIndex();return this.getValueOfPropertyAt(a.l,a.c,"fill")},_getCurrentCharIndex:function(){var a=this.get2DCursorLocation(this.selectionStart,!0),f=a.charIndex>0?a.charIndex-1:0;return{l:a.lineIndex,c:f}}}),e.IText.fromObject=function(a,f){var h=e.util.stylesFromArray(a.styles,a.text),l=Object.assign({},a,{styles:h});if(delete l.path,o(l),l.styles)for(var c in l.styles)for(var u in l.styles[c])o(l.styles[c][u]);e.Object._fromObject("IText",l,function(p){a.path?e.Object._fromObject("Path",a.path,function(v){p.set("path",v),f(p)},"path"):f(p)},"text")}}(),function(){var o=e.util.object.clone;e.util.object.extend(e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var a=this;this.on("added",function(){var f=a.canvas;f&&(f._hasITextHandlers||(f._hasITextHandlers=!0,a._initCanvasHandlers(f)),f._iTextInstances=f._iTextInstances||[],f._iTextInstances.push(a))})},initRemovedHandler:function(){var a=this;this.on("removed",function(){var f=a.canvas;f&&(f._iTextInstances=f._iTextInstances||[],e.util.removeFromArray(f._iTextInstances,a),f._iTextInstances.length===0&&(f._hasITextHandlers=!1,a._removeCanvasHandlers(f)))})},_initCanvasHandlers:function(a){a._mouseUpITextHandler=function(){a._iTextInstances&&a._iTextInstances.forEach(function(f){f.__isMousedown=!1})},a.on("mouse:up",a._mouseUpITextHandler)},_removeCanvasHandlers:function(a){a.off("mouse:up",a._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(a,f,h,l){var c;return c={isAborted:!1,abort:function(){this.isAborted=!0}},a.animate("_currentCursorOpacity",f,{duration:h,onComplete:function(){c.isAborted||a[l]()},onChange:function(){a.canvas&&a.selectionStart===a.selectionEnd&&a.renderCursorOrSelection()},abort:function(){return c.isAborted}}),c},_onTickComplete:function(){var a=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){a._currentTickCompleteState=a._animateCursor(a,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(a){var f=this,h=a?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){f._tick()},h)},abortCursorAnimation:function(){var a=this._currentTickState||this._currentTickCompleteState,f=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,a&&f&&f.clearContext(f.contextTop||f.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(a){var f=0,h=a-1;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)f++,h--;for(;/\S/.test(this._text[h])&&h>-1;)f++,h--;return a-f},findWordBoundaryRight:function(a){var f=0,h=a;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)f++,h++;for(;/\S/.test(this._text[h])&&h<this._text.length;)f++,h++;return a+f},findLineBoundaryLeft:function(a){for(var f=0,h=a-1;!/\n/.test(this._text[h])&&h>-1;)f++,h--;return a-f},findLineBoundaryRight:function(a){for(var f=0,h=a;!/\n/.test(this._text[h])&&h<this._text.length;)f++,h++;return a+f},searchWordBoundary:function(a,f){for(var h=this._text,l=this._reSpace.test(h[a])?a-1:a,c=h[l],u=e.reNonWord;!u.test(c)&&l>0&&l<h.length;)l+=f,c=h[l];return u.test(c)&&(l+=f===1?0:1),l},selectWord:function(a){a=a||this.selectionStart;var f=this.searchWordBoundary(a,-1),h=this.searchWordBoundary(a,1);this.selectionStart=f,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(a){a=a||this.selectionStart;var f=this.findLineBoundaryLeft(a),h=this.findLineBoundaryRight(a);return this.selectionStart=f,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(a){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(a),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(a){a._iTextInstances&&a._iTextInstances.forEach(function(f){f.selected=!1,f.isEditing&&f.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(a){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var f=this.getSelectionStartFromPointer(a.e),h=this.selectionStart,l=this.selectionEnd;(f!==this.__selectionStartOnMouseDown||h===l)&&(h===f||l===f)||(f>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=f):(this.selectionStart=f,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==h||this.selectionEnd!==l)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(a,f,h){var l=h.slice(0,a),c=e.util.string.graphemeSplit(l).length;if(a===f)return{selectionStart:c,selectionEnd:c};var u=h.slice(a,f),p=e.util.string.graphemeSplit(u).length;return{selectionStart:c,selectionEnd:c+p}},fromGraphemeToStringSelection:function(a,f,h){var l=h.slice(0,a),c=l.join("").length;if(a===f)return{selectionStart:c,selectionEnd:c};var u=h.slice(a,f),p=u.join("").length;return{selectionStart:c,selectionEnd:c+p}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var a=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=a.selectionStart,this.hiddenTextarea.selectionEnd=a.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var a=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=a.selectionEnd,this.inCompositionMode||(this.selectionStart=a.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var a=this._calcTextareaPosition();this.hiddenTextarea.style.left=a.left,this.hiddenTextarea.style.top=a.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var a=this.inCompositionMode?this.compositionStart:this.selectionStart,f=this._getCursorBoundaries(a),h=this.get2DCursorLocation(a),l=h.lineIndex,c=h.charIndex,u=this.getValueOfPropertyAt(l,c,"fontSize")*this.lineHeight,p=f.leftOffset,v=this.calcTransformMatrix(),g={x:f.left+p,y:f.top+f.topOffset+u},m=this.canvas.getRetinaScaling(),y=this.canvas.upperCanvasEl,x=y.width/m,b=y.height/m,w=x-u,S=b-u,_=y.clientWidth/x,C=y.clientHeight/b;return g=e.util.transformPoint(g,v),g=e.util.transformPoint(g,this.canvas.viewportTransform),g.x*=_,g.y*=C,g.x<0&&(g.x=0),g.x>w&&(g.x=w),g.y<0&&(g.y=0),g.y>S&&(g.y=S),g.x+=this.canvas._offset.left,g.y+=this.canvas._offset.top,{left:g.x+"px",top:g.y+"px",fontSize:u+"px",charHeight:u}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var a=this._textBeforeEdit!==this.text,f=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,f&&(f.blur&&f.blur(),f.parentNode&&f.parentNode.removeChild(f)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),a&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),a&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var a in this.styles)this._textLines[a]||delete this.styles[a]},removeStyleFromTo:function(a,f){var h=this.get2DCursorLocation(a,!0),l=this.get2DCursorLocation(f,!0),c=h.lineIndex,u=h.charIndex,p=l.lineIndex,v=l.charIndex,g,m;if(c!==p){if(this.styles[c])for(g=u;g<this._unwrappedTextLines[c].length;g++)delete this.styles[c][g];if(this.styles[p])for(g=v;g<this._unwrappedTextLines[p].length;g++)m=this.styles[p][g],m&&(this.styles[c]||(this.styles[c]={}),this.styles[c][u+g-v]=m);for(g=c+1;g<=p;g++)delete this.styles[g];this.shiftLineStyles(p,c-p)}else if(this.styles[c]){m=this.styles[c];var y=v-u,x,b;for(g=u;g<v;g++)delete m[g];for(b in this.styles[c])x=parseInt(b,10),x>=v&&(m[x-y]=m[b],delete m[b])}},shiftLineStyles:function(a,f){var h=o(this.styles);for(var l in this.styles){var c=parseInt(l,10);c>a&&(this.styles[c+f]=h[c],h[c-f]||delete this.styles[c])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(a,f,h,l){var c,u={},p=!1,v=this._unwrappedTextLines[a].length,g=v===f;h||(h=1),this.shiftLineStyles(a,h),this.styles[a]&&(c=this.styles[a][f===0?f:f-1]);for(var m in this.styles[a]){var y=parseInt(m,10);y>=f&&(p=!0,u[y-f]=this.styles[a][m],g&&f===0||delete this.styles[a][m])}var x=!1;for(p&&!g&&(this.styles[a+h]=u,x=!0),(x||v>f)&&h--;h>0;)l&&l[h-1]?this.styles[a+h]={0:o(l[h-1])}:c?this.styles[a+h]={0:o(c)}:delete this.styles[a+h],h--;this._forceClearCache=!0},insertCharStyleObject:function(a,f,h,l){this.styles||(this.styles={});var c=this.styles[a],u=c?o(c):{};h||(h=1);for(var p in u){var v=parseInt(p,10);v>=f&&(c[v+h]=u[v],u[v-h]||delete c[v])}if(this._forceClearCache=!0,l){for(;h--;)Object.keys(l[h]).length&&(this.styles[a]||(this.styles[a]={}),this.styles[a][f+h]=o(l[h]));return}if(c)for(var g=c[f?f-1:1];g&&h--;)this.styles[a][f+h]=o(g)},insertNewStyleBlock:function(a,f,h){for(var l=this.get2DCursorLocation(f,!0),c=[0],u=0,p=0;p<a.length;p++)a[p]===`
`?(u++,c[u]=0):c[u]++;c[0]>0&&(this.insertCharStyleObject(l.lineIndex,l.charIndex,c[0],h),h=h&&h.slice(c[0]+1)),u&&this.insertNewlineStyleObject(l.lineIndex,l.charIndex+c[0],u);for(var p=1;p<u;p++)c[p]>0?this.insertCharStyleObject(l.lineIndex+p,0,c[p],h):h&&this.styles[l.lineIndex+p]&&h[0]&&(this.styles[l.lineIndex+p][0]=h[0]),h=h&&h.slice(c[p]+1);c[p]>0&&this.insertCharStyleObject(l.lineIndex+p,0,c[p],h)},setSelectionStartEndWithShift:function(a,f,h){h<=a?(f===a?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=a),this.selectionStart=h):h>a&&h<f?this._selectionDirection==="right"?this.selectionEnd=h:this.selectionStart=h:(f===a?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=f),this.selectionEnd=h)},setSelectionInBoundaries:function(){var a=this.text.length;this.selectionStart>a?this.selectionStart=a:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>a?this.selectionEnd=a:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),e.util.object.extend(e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(o){if(this.canvas){this.__newClickTime=+new Date;var a=o.pointer;this.isTripleClick(a)&&(this.fire("tripleclick",o),this._stopEvent(o.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=a,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(o){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===o.x&&this.__lastPointer.y===o.y},_stopEvent:function(o){o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(o){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(o.e))},tripleClickHandler:function(o){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(o.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(o){!this.canvas||!this.editable||o.e.button&&o.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(o.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(o){!this.canvas||!this.editable||o.e.button&&o.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(o){if(this.__isMousedown=!1,!(!this.editable||this.group||o.transform&&o.transform.actionPerformed||o.e.button&&o.e.button!==1)){if(this.canvas){var a=this.canvas._activeObject;if(a&&a!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(o.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(o){var a=this.getSelectionStartFromPointer(o),f=this.selectionStart,h=this.selectionEnd;o.shiftKey?this.setSelectionStartEndWithShift(f,h,a):(this.selectionStart=a,this.selectionEnd=a),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(o){for(var a=this.getLocalPointer(o),f=0,h=0,l=0,c=0,u=0,p,v,g=0,m=this._textLines.length;g<m&&l<=a.y;g++)l+=this.getHeightOfLine(g)*this.scaleY,u=g,g>0&&(c+=this._textLines[g-1].length+this.missingNewlineOffset(g-1));p=this._getLineLeftOffset(u),h=p*this.scaleX,v=this._textLines[u],this.direction==="rtl"&&(a.x=this.width*this.scaleX-a.x+h);for(var y=0,x=v.length;y<x&&(f=h,h+=this.__charBounds[u][y].kernedWidth*this.scaleX,h<=a.x);y++)c++;return this._getNewSelectionStartFromOffset(a,f,h,c,x)},_getNewSelectionStartFromOffset:function(o,a,f,h,l){var c=o.x-a,u=f-o.x,p=u>c||u<0?0:1,v=h+p;return this.flipX&&(v=l-v),v>this._text.length&&(v=this._text.length),v}}),e.util.object.extend(e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var o=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+o.top+"; left: "+o.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+o.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):e.document.body.appendChild(this.hiddenTextarea),e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(o){if(this.isEditing){var a=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(o.keyCode in a)this[a[o.keyCode]](o);else if(o.keyCode in this.ctrlKeysMapDown&&(o.ctrlKey||o.metaKey))this[this.ctrlKeysMapDown[o.keyCode]](o);else return;o.stopImmediatePropagation(),o.preventDefault(),o.keyCode>=33&&o.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(o){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(o.keyCode in this.ctrlKeysMapUp&&(o.ctrlKey||o.metaKey))this[this.ctrlKeysMapUp[o.keyCode]](o);else return;o.stopImmediatePropagation(),o.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(o){var a=this.fromPaste;if(this.fromPaste=!1,o&&o.stopPropagation(),!!this.isEditing){var f=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,h=this._text.length,l=f.length,c,u,p=l-h,v=this.selectionStart,g=this.selectionEnd,m=v!==g,y,x,b;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),S=v>w.selectionStart;m?(c=this._text.slice(v,g),p+=g-v):l<h&&(S?c=this._text.slice(g+p,g):c=this._text.slice(v,v-p)),u=f.slice(w.selectionEnd-p,w.selectionEnd),c&&c.length&&(u.length&&(y=this.getSelectionStyles(v,v+1,!1),y=u.map(function(){return y[0]})),m?(x=v,b=g):S?(x=g-c.length,b=g):(x=g,b=g+c.length),this.removeStyleFromTo(x,b)),u.length&&(a&&u.join("")===e.copiedText&&!e.disableStyleCopyPaste&&(y=e.copiedTextStyle),this.insertNewStyleBlock(u,v,y)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(o){this.compositionStart=o.target.selectionStart,this.compositionEnd=o.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(e.copiedText=this.getSelectedText(),e.disableStyleCopyPaste?e.copiedTextStyle=null:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(o){return o&&o.clipboardData||e.window.clipboardData},_getWidthBeforeCursor:function(o,a){var f=this._getLineLeftOffset(o),h;return a>0&&(h=this.__charBounds[o][a-1],f+=h.left+h.width),f},getDownCursorOffset:function(o,a){var f=this._getSelectionForOffset(o,a),h=this.get2DCursorLocation(f),l=h.lineIndex;if(l===this._textLines.length-1||o.metaKey||o.keyCode===34)return this._text.length-f;var c=h.charIndex,u=this._getWidthBeforeCursor(l,c),p=this._getIndexOnLine(l+1,u),v=this._textLines[l].slice(c);return v.length+p+1+this.missingNewlineOffset(l)},_getSelectionForOffset:function(o,a){return o.shiftKey&&this.selectionStart!==this.selectionEnd&&a?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(o,a){var f=this._getSelectionForOffset(o,a),h=this.get2DCursorLocation(f),l=h.lineIndex;if(l===0||o.metaKey||o.keyCode===33)return-f;var c=h.charIndex,u=this._getWidthBeforeCursor(l,c),p=this._getIndexOnLine(l-1,u),v=this._textLines[l].slice(0,c),g=this.missingNewlineOffset(l-1);return-this._textLines[l-1].length+p-v.length+(1-g)},_getIndexOnLine:function(o,a){for(var f=this._textLines[o],h=this._getLineLeftOffset(o),l=h,c=0,u,p,v=0,g=f.length;v<g;v++)if(u=this.__charBounds[o][v].width,l+=u,l>a){p=!0;var m=l-u,y=l,x=Math.abs(m-a),b=Math.abs(y-a);c=b<x?v:v-1;break}return p||(c=f.length-1),c},moveCursorDown:function(o){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",o)},moveCursorUp:function(o){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",o)},_moveCursorUpOrDown:function(o,a){var f="get"+o+"CursorOffset",h=this[f](a,this._selectionDirection==="right");a.shiftKey?this.moveCursorWithShift(h):this.moveCursorWithoutShift(h),h!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(o){var a=this._selectionDirection==="left"?this.selectionStart+o:this.selectionEnd+o;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,a),o!==0},moveCursorWithoutShift:function(o){return o<0?(this.selectionStart+=o,this.selectionEnd=this.selectionStart):(this.selectionEnd+=o,this.selectionStart=this.selectionEnd),o!==0},moveCursorLeft:function(o){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",o)},_move:function(o,a,f){var h;if(o.altKey)h=this["findWordBoundary"+f](this[a]);else if(o.metaKey||o.keyCode===35||o.keyCode===36)h=this["findLineBoundary"+f](this[a]);else return this[a]+=f==="Left"?-1:1,!0;if(typeof h<"u"&&this[a]!==h)return this[a]=h,!0},_moveLeft:function(o,a){return this._move(o,a,"Left")},_moveRight:function(o,a){return this._move(o,a,"Right")},moveCursorLeftWithoutShift:function(o){var a=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(a=this._moveLeft(o,"selectionStart")),this.selectionEnd=this.selectionStart,a},moveCursorLeftWithShift:function(o){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(o,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(o,"selectionStart")},moveCursorRight:function(o){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",o)},_moveCursorLeftOrRight:function(o,a){var f="moveCursor"+o+"With";this._currentCursorOpacity=1,a.shiftKey?f+="Shift":f+="outShift",this[f](a)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(o){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(o,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(o,"selectionEnd")},moveCursorRightWithoutShift:function(o){var a=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(a=this._moveRight(o,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,a},removeChars:function(o,a){typeof a>"u"&&(a=o+1),this.removeStyleFromTo(o,a),this._text.splice(o,a-o),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(o,a,f,h){typeof h>"u"&&(h=f),h>f&&this.removeStyleFromTo(f,h);var l=e.util.string.graphemeSplit(o);this.insertNewStyleBlock(l,f,a),this._text=[].concat(this._text.slice(0,f),l,this._text.slice(h)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var o=e.util.toFixed,a=e.util.radiansToDegrees,f=e.util.calcRotateMatrix,h=e.util.transformPoint,l=/  +/g;e.util.object.extend(e.Text.prototype,{_toSVG:function(){var c=this._getSVGLeftTopOffsets(),u=this._getSVGTextAndBg(c.textTop,c.textLeft);return this._wrapSVGTextAndBg(u)},toSVG:function(c){var u=this._createBaseSVGMarkup(this._toSVG(),{reviver:c,noStyle:!0,withShadow:!0}),p=this.path;return p?u+p._createBaseSVGMarkup(p._toSVG(),{reviver:c,withShadow:!0}):u},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(c){var u=!0,p=this.getSvgTextDecoration(this);return[c.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",p?'text-decoration="'+p+'" ':"",'style="',this.getSvgStyles(u),'"',this.addPaintOrder()," >",c.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(c,u){var p=[],v=[],g=c,m;this._setSVGBg(v);for(var y=0,x=this._textLines.length;y<x;y++)m=this._getLineLeftOffset(y),(this.textBackgroundColor||this.styleHas("textBackgroundColor",y))&&this._setSVGTextLineBg(v,y,u+m,g),this._setSVGTextLineText(p,y,u+m,g),g+=this.getHeightOfLine(y);return{textSpans:p,textBgRects:v}},_createTextCharSpan:function(c,u,p,v,g){var m=c!==c.trim()||c.match(l),y=this.getSvgSpanStyles(u,m),x=y?'style="'+y+'"':"",b=u.deltaY,w="",S=e.Object.NUM_FRACTION_DIGITS,_="";if(b&&(w=' dy="'+o(b,S)+'" '),g.renderLeft!==void 0){var C=g.angle;_=' rotate="'+o(a(C),e.Object.NUM_FRACTION_DIGITS)+'" ';var k=g.width/2,A=f({angle:a(C)});A[4]=g.renderLeft,A[5]=g.renderTop;var F=h({x:-k,y:0},A);p=F.x,v=F.y}return['<tspan x="',o(p,S),'" y="',o(v,S),'" ',w,x,_,">",e.util.string.escapeXml(c),"</tspan>"].join("")},_setSVGTextLineText:function(c,u,p,v){var g=this.getHeightOfLine(u),m=this.textAlign.indexOf("justify")!==-1,y,x,b="",w,S,_=0,C=this._textLines[u],k;v+=g*(1-this._fontSizeFraction)/this.lineHeight;for(var A=0,F=C.length-1;A<=F;A++)k=A===F||this.charSpacing||this.path,b+=C[A],w=this.__charBounds[u][A],_===0?(p+=w.kernedWidth-w.width,_+=w.width):_+=w.kernedWidth,m&&!k&&this._reSpaceAndTab.test(C[A])&&(k=!0),k||(y=y||this.getCompleteStyleDeclaration(u,A),x=this.getCompleteStyleDeclaration(u,A+1),k=e.util.hasStyleChanged(y,x,!0)),k&&(S=this._getStyleDeclaration(u,A)||{},c.push(this._createTextCharSpan(b,S,p,v,w)),b="",y=x,p+=_,_=0)},_pushTextBgRect:function(c,u,p,v,g,m){var y=e.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(u),' x="',o(p,y),'" y="',o(v,y),'" width="',o(g,y),'" height="',o(m,y),`"></rect>
`)},_setSVGTextLineBg:function(c,u,p,v){for(var g=this._textLines[u],m=this.getHeightOfLine(u)/this.lineHeight,y=0,x=0,b,w,S=this.getValueOfPropertyAt(u,0,"textBackgroundColor"),_=0,C=g.length;_<C;_++)b=this.__charBounds[u][_],w=this.getValueOfPropertyAt(u,_,"textBackgroundColor"),w!==S?(S&&this._pushTextBgRect(c,S,p+x,v,y,m),x=b.left,y=b.width,S=w):y+=b.kernedWidth;w&&this._pushTextBgRect(c,w,p+x,v,y,m)},_getFillAttributes:function(c){var u=c&&typeof c=="string"?new e.Color(c):"";return!u||!u.getSource()||u.getAlpha()===1?'fill="'+c+'"':'opacity="'+u.getAlpha()+'" fill="'+u.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(c){for(var u=0,p=0,v=0;v<c;v++)u+=this.getHeightOfLine(v);return p=this.getHeightOfLine(v),{lineTop:u,offset:(this._fontSizeMult-this._fontSizeFraction)*p/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(c){var u=e.Object.prototype.getSvgStyles.call(this,c);return u+" white-space: pre;"}})}(),function(o){var a=o.fabric||(o.fabric={});a.Textbox=a.util.createClass(a.IText,a.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:a.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(f){for(var h=0,l=0,c=0,u={},p=0;p<f.graphemeLines.length;p++)f.graphemeText[c]===`
`&&p>0?(l=0,c++,h++):!this.splitByGrapheme&&this._reSpaceAndTab.test(f.graphemeText[c])&&p>0&&(l++,c++),u[p]={line:h,offset:l},c+=f.graphemeLines[p].length,l+=f.graphemeLines[p].length;return u},styleHas:function(f,h){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[h];l&&(h=l.line)}return a.Text.prototype.styleHas.call(this,f,h)},isEmptyStyles:function(f){if(!this.styles)return!0;var h=0,l=f+1,c,u,p=!1,v=this._styleMap[f],g=this._styleMap[f+1];v&&(f=v.line,h=v.offset),g&&(l=g.line,p=l===f,c=g.offset),u=typeof f>"u"?this.styles:{line:this.styles[f]};for(var m in u)for(var y in u[m])if(y>=h&&(!p||y<c))for(var x in u[m][y])return!1;return!0},_getStyleDeclaration:function(f,h){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[f];if(!l)return null;f=l.line,h=l.offset+h}return this.callSuper("_getStyleDeclaration",f,h)},_setStyleDeclaration:function(f,h,l){var c=this._styleMap[f];f=c.line,h=c.offset+h,this.styles[f][h]=l},_deleteStyleDeclaration:function(f,h){var l=this._styleMap[f];f=l.line,h=l.offset+h,delete this.styles[f][h]},_getLineStyle:function(f){var h=this._styleMap[f];return!!this.styles[h.line]},_setLineStyle:function(f){var h=this._styleMap[f];this.styles[h.line]={}},_wrapText:function(f,h){var l=[],c;for(this.isWrapping=!0,c=0;c<f.length;c++)l=l.concat(this._wrapLine(f[c],c,h));return this.isWrapping=!1,l},_measureWord:function(f,h,l){var c=0,u,p=!0;l=l||0;for(var v=0,g=f.length;v<g;v++){var m=this._getGraphemeBox(f[v],h,v+l,u,p);c+=m.kernedWidth,u=f[v]}return c},_wrapLine:function(f,h,l,A){var u=0,p=this.splitByGrapheme,v=[],g=[],m=p?a.util.string.graphemeSplit(f):f.split(this._wordJoiners),y="",x=0,b=p?"":" ",w=0,S=0,_=0,C=!0,k=this._getWidthOfCharSpacing(),A=A||0;m.length===0&&m.push([]),l-=A;for(var F=0;F<m.length;F++)y=p?m[F]:a.util.string.graphemeSplit(m[F]),w=this._measureWord(y,h,x),x+=y.length,u+=S+w-k,u>l&&!C?(v.push(g),g=[],u=w,C=!0):u+=k,!C&&!p&&g.push(b),g=g.concat(y),S=p?0:this._measureWord([b],h,x),x++,C=!1,w>_&&(_=w);return F&&v.push(g),_+A>this.dynamicMinWidth&&(this.dynamicMinWidth=_-k+A),v},isEndOfWrapping:function(f){return!this._styleMap[f+1]||this._styleMap[f+1].line!==this._styleMap[f].line},missingNewlineOffset:function(f,h){return this.splitByGrapheme&&!h?this.isEndOfWrapping(f)?1:0:1},_splitTextIntoLines:function(f){for(var h=a.Text.prototype._splitTextIntoLines.call(this,f),l=this._wrapText(h.lines,this.width),c=new Array(l.length),u=0;u<l.length;u++)c[u]=l[u].join("");return h.lines=c,h.graphemeLines=l,h},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var f={};for(var h in this._styleMap)this._textLines[h]&&(f[this._styleMap[h].line]=1);for(var h in this.styles)f[h]||delete this.styles[h]},toObject:function(f){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(f))}}),a.Textbox.fromObject=function(f,h){var l=a.util.stylesFromArray(f.styles,f.text),c=Object.assign({},f,{styles:l});return delete c.path,a.Object._fromObject("Textbox",c,function(u){f.path?a.Object._fromObject("Path",f.path,function(p){u.set("path",p),h(u)},"path"):h(u)},"text")}}(t),function(){var o=e.controlsUtils,a=o.scaleSkewCursorStyleHandler,f=o.scaleCursorStyleHandler,h=o.scalingEqually,l=o.scalingYOrSkewingX,c=o.scalingXOrSkewingY,u=o.scaleOrSkewActionName,p=e.Object.prototype.controls;if(p.ml=new e.Control({x:-.5,y:0,cursorStyleHandler:a,actionHandler:c,getActionName:u}),p.mr=new e.Control({x:.5,y:0,cursorStyleHandler:a,actionHandler:c,getActionName:u}),p.mb=new e.Control({x:0,y:.5,cursorStyleHandler:a,actionHandler:l,getActionName:u}),p.mt=new e.Control({x:0,y:-.5,cursorStyleHandler:a,actionHandler:l,getActionName:u}),p.tl=new e.Control({x:-.5,y:-.5,cursorStyleHandler:f,actionHandler:h}),p.tr=new e.Control({x:.5,y:-.5,cursorStyleHandler:f,actionHandler:h}),p.bl=new e.Control({x:-.5,y:.5,cursorStyleHandler:f,actionHandler:h}),p.br=new e.Control({x:.5,y:.5,cursorStyleHandler:f,actionHandler:h}),p.mtr=new e.Control({x:0,y:-.5,actionHandler:o.rotationWithSnapping,cursorStyleHandler:o.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),e.Textbox){var v=e.Textbox.prototype.controls={};v.mtr=p.mtr,v.tr=p.tr,v.br=p.br,v.tl=p.tl,v.bl=p.bl,v.mt=p.mt,v.mb=p.mb,v.mr=new e.Control({x:.5,y:0,actionHandler:o.changeWidth,cursorStyleHandler:a,actionName:"resizing"}),v.ml=new e.Control({x:-.5,y:0,actionHandler:o.changeWidth,cursorStyleHandler:a,actionName:"resizing"})}}()})(it);var XC={exports:{}};(function(t,e){(function(n,r){r()})(or,function(){function n(f,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function r(f,h,l){var c=new XMLHttpRequest;c.open("GET",f),c.responseType="blob",c.onload=function(){a(c.response,h,l)},c.onerror=function(){console.error("could not download file")},c.send()}function i(f){var h=new XMLHttpRequest;h.open("HEAD",f,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(h)}}var d=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof or=="object"&&or.global===or?or:void 0,o=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=d.saveAs||(typeof window!="object"||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(f,h,l){var c=d.URL||d.webkitURL,u=document.createElement("a");h=h||f.name||"download",u.download=h,u.rel="noopener",typeof f=="string"?(u.href=f,u.origin===location.origin?s(u):i(u.href)?r(f,h,l):s(u,u.target="_blank")):(u.href=c.createObjectURL(f),setTimeout(function(){c.revokeObjectURL(u.href)},4e4),setTimeout(function(){s(u)},0))}:"msSaveOrOpenBlob"in navigator?function(f,h,l){if(h=h||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(n(f,l),h);else if(i(f))r(f,h,l);else{var c=document.createElement("a");c.href=f,c.target="_blank",setTimeout(function(){s(c)})}}:function(f,h,l,c){if(c=c||open("","_blank"),c&&(c.document.title=c.document.body.innerText="downloading..."),typeof f=="string")return r(f,h,l);var u=f.type==="application/octet-stream",p=/constructor/i.test(d.HTMLElement)||d.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||u&&p||o)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var x=g.result;x=v?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=x:location=x,c=null},g.readAsDataURL(f)}else{var m=d.URL||d.webkitURL,y=m.createObjectURL(f);c?c.location=y:location.href=y,c=null,setTimeout(function(){m.revokeObjectURL(y)},4e4)}});d.saveAs=a.saveAs=a,t.exports=a})})(XC);var YC=XC.exports;function lM(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function KC(t,e){return new Promise(function(n,r){let i;return cM(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(d){return r(d)}},r)})}const cM=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let d=0;if(s.getUint16(d)!==65496)return n("not a valid JPEG");for(d+=2;;){const o=s.getUint16(d);if(o===65498)break;const a=s.getUint16(d+2);if(o===65505&&s.getUint32(d+4)===1165519206){const f=d+10;let h;switch(s.getUint16(f)){case 18761:h=!0;break;case 19789:h=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(f+2,h)!==42)return n("TIFF header contains invalid version");const l=s.getUint32(f+4,h),c=f+l+2+12*s.getUint16(f+l,h);for(let u=f+l+2;u<c;u+=12)if(s.getUint16(u,h)==274){if(s.getUint16(u+2,h)!==3)return n("Orientation data type is invalid");if(s.getUint32(u+4,h)!==1)return n("Orientation data count is invalid");s.setUint16(u+8,1,h);break}return e(i.slice(d,d+2+a))}d+=2+a}return e(new Blob)}),r.readAsArrayBuffer(t)});var uu={},uM={get exports(){return uu},set exports(t){uu=t}};(function(t){var e,n,r={};uM.exports=r,r.parse=function(i,s){for(var d=r.bin.readUshort,o=r.bin.readUint,a=0,f={},h=new Uint8Array(i),l=h.length-4;o(h,l)!=101010256;)l--;a=l,a+=4;var c=d(h,a+=4);d(h,a+=2);var u=o(h,a+=2),p=o(h,a+=4);a+=4,a=p;for(var v=0;v<c;v++){o(h,a),a+=4,a+=4,a+=4,o(h,a+=4),u=o(h,a+=4);var g=o(h,a+=4),m=d(h,a+=4),y=d(h,a+2),x=d(h,a+4);a+=6;var b=o(h,a+=8);a+=4,a+=m+y+x,r._readLocal(h,b,f,u,g,s)}return f},r._readLocal=function(i,s,d,o,a,f){var h=r.bin.readUshort,l=r.bin.readUint;l(i,s),h(i,s+=4),h(i,s+=2);var c=h(i,s+=2);l(i,s+=2),l(i,s+=4),s+=4;var u=h(i,s+=8),p=h(i,s+=2);s+=2;var v=r.bin.readUTF8(i,s,u);if(s+=u,s+=p,f)d[v]={size:a,csize:o};else{var g=new Uint8Array(i.buffer,s);if(c==0)d[v]=new Uint8Array(g.buffer.slice(s,s+o));else{if(c!=8)throw"unknown compression method: "+c;var m=new Uint8Array(a);r.inflateRaw(g,m),d[v]=m}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var d=0,o=new Uint8Array(50+Math.floor(1.1*i.length));o[d]=120,o[d+1]=156,d+=2,d=r.F.deflateRaw(i,o,d,s.level);var a=r.adler(i,0,i.length);return o[d+0]=a>>>24&255,o[d+1]=a>>>16&255,o[d+2]=a>>>8&255,o[d+3]=a>>>0&255,new Uint8Array(o.buffer,0,d+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var d=new Uint8Array(50+Math.floor(1.1*i.length)),o=r.F.deflateRaw(i,d,o,s.level);return new Uint8Array(d.buffer,0,o)},r.encode=function(i,s){s==null&&(s=!1);var d=0,o=r.bin.writeUint,a=r.bin.writeUshort,f={};for(var h in i){var l=!r._noNeed(h)&&!s,c=i[h],u=r.crc.crc(c,0,c.length);f[h]={cpr:l,usize:c.length,crc:u,file:l?r.deflateRaw(c):c}}for(var h in f)d+=f[h].file.length+30+46+2*r.bin.sizeUTF8(h);d+=22;var p=new Uint8Array(d),v=0,g=[];for(var h in f){var m=f[h];g.push(v),v=r._writeHeader(p,v,h,m,0)}var y=0,x=v;for(var h in f)m=f[h],g.push(v),v=r._writeHeader(p,v,h,m,1,g[y++]);var b=v-x;return o(p,v,101010256),v+=4,a(p,v+=4,y),a(p,v+=2,y),o(p,v+=2,b),o(p,v+=4,x),v+=4,v+=2,p.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,d,o,a,f){var h=r.bin.writeUint,l=r.bin.writeUshort,c=o.file;return h(i,s,a==0?67324752:33639248),s+=4,a==1&&(s+=2),l(i,s,20),l(i,s+=2,0),l(i,s+=2,o.cpr?8:0),h(i,s+=2,0),h(i,s+=4,o.crc),h(i,s+=4,c.length),h(i,s+=4,o.usize),l(i,s+=4,r.bin.sizeUTF8(d)),l(i,s+=2,0),s+=2,a==1&&(s+=2,s+=2,h(i,s+=6,f),s+=4),s+=r.bin.writeUTF8(i,s,d),a==0&&(i.set(c,s),s+=c.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var d=s,o=0;o<8;o++)1&d?d=3988292384^d>>>1:d>>>=1;i[s]=d}return i}(),update:function(i,s,d,o){for(var a=0;a<o;a++)i=r.crc.table[255&(i^s[d+a])]^i>>>8;return i},crc:function(i,s,d){return 4294967295^r.crc.update(4294967295,i,s,d)}},r.adler=function(i,s,d){for(var o=1,a=0,f=s,h=s+d;f<h;){for(var l=Math.min(f+5552,h);f<l;)a+=o+=i[f++];o%=65521,a%=65521}return a<<16|o},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,d){i[s]=255&d,i[s+1]=d>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,d){i[s]=255&d,i[s+1]=d>>8&255,i[s+2]=d>>16&255,i[s+3]=d>>24&255},readASCII:function(i,s,d){for(var o="",a=0;a<d;a++)o+=String.fromCharCode(i[s+a]);return o},writeASCII:function(i,s,d){for(var o=0;o<d.length;o++)i[s+o]=d.charCodeAt(o)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,d){for(var o,a="",f=0;f<d;f++)a+="%"+r.bin.pad(i[s+f].toString(16));try{o=decodeURIComponent(a)}catch{return r.bin.readASCII(i,s,d)}return o},writeUTF8:function(i,s,d){for(var o=d.length,a=0,f=0;f<o;f++){var h=d.charCodeAt(f);if(!(4294967168&h))i[s+a]=h,a++;else if(!(4294965248&h))i[s+a]=192|h>>6,i[s+a+1]=128|h>>0&63,a+=2;else if(!(4294901760&h))i[s+a]=224|h>>12,i[s+a+1]=128|h>>6&63,i[s+a+2]=128|h>>0&63,a+=3;else{if(4292870144&h)throw"e";i[s+a]=240|h>>18,i[s+a+1]=128|h>>12&63,i[s+a+2]=128|h>>6&63,i[s+a+3]=128|h>>0&63,a+=4}}return a},sizeUTF8:function(i){for(var s=i.length,d=0,o=0;o<s;o++){var a=i.charCodeAt(o);if(!(4294967168&a))d++;else if(!(4294965248&a))d+=2;else if(!(4294901760&a))d+=3;else{if(4292870144&a)throw"e";d+=4}}return d}},r.F={},r.F.deflateRaw=function(i,s,d,o){var a=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][o],f=r.F.U,h=r.F._goodIndex;r.F._hash;var l=r.F._putsE,c=0,u=d<<3,p=0,v=i.length;if(o==0){for(;c<v;)l(s,u,c+(F=Math.min(65535,v-c))==v?1:0),u=r.F._copyExact(i,c,F,s,u+8),c+=F;return u>>>3}var g=f.lits,m=f.strt,y=f.prev,x=0,b=0,w=0,S=0,_=0,C=0;for(v>2&&(m[C=r.F._hash(i,0)]=0),c=0;c<v;c++){if(_=C,c+1<v-2){C=r.F._hash(i,c+1);var k=c+1&32767;y[k]=m[C],m[C]=k}if(p<=c){(x>14e3||b>26697)&&v-c>100&&(p<c&&(g[x]=c-p,x+=2,p=c),u=r.F._writeBlock(c==v-1||p==v?1:0,g,x,S,i,w,c-w,s,u),x=b=S=0,w=c);var A=0;c<v-2&&(A=r.F._bestMatch(i,c,y,_,Math.min(a[2],v-c),a[3]));var F=A>>>16,B=65535&A;if(A!=0){B=65535&A;var H=h(F=A>>>16,f.of0);f.lhst[257+H]++;var L=h(B,f.df0);f.dhst[L]++,S+=f.exb[H]+f.dxb[L],g[x]=F<<23|c-p,g[x+1]=B<<16|H<<8|L,x+=2,p=c+F}else f.lhst[i[c]]++;b++}}for(w==c&&i.length!=0||(p<c&&(g[x]=c-p,x+=2,p=c),u=r.F._writeBlock(1,g,x,S,i,w,c-w,s,u),x=0,b=0,x=b=S=0,w=c);7&u;)u++;return u>>>3},r.F._bestMatch=function(i,s,d,o,a,f){var h=32767&s,l=d[h],c=h-l+32768&32767;if(l==h||o!=r.F._hash(i,s-c))return 0;for(var u=0,p=0,v=Math.min(32767,s);c<=v&&--f!=0&&l!=h;){if(u==0||i[s+u]==i[s+u-c]){var g=r.F._howLong(i,s,c);if(g>u){if(p=c,(u=g)>=a)break;c+2<g&&(g=c+2);for(var m=0,y=0;y<g-2;y++){var x=s-c+y+32768&32767,b=x-d[x]+32768&32767;b>m&&(m=b,l=x)}}}c+=(h=l)-(l=d[h])+32768&32767}return u<<16|p},r.F._howLong=function(i,s,d){if(i[s]!=i[s-d]||i[s+1]!=i[s+1-d]||i[s+2]!=i[s+2-d])return 0;var o=s,a=Math.min(i.length,s+258);for(s+=3;s<a&&i[s]==i[s-d];)s++;return s-o},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,d,o,a,f,h,l,c){var u,p,v,g,m,y,x,b,w,S=r.F.U,_=r.F._putsF,C=r.F._putsE;S.lhst[256]++,p=(u=r.F.getTrees())[0],v=u[1],g=u[2],m=u[3],y=u[4],x=u[5],b=u[6],w=u[7];var k=32+(c+3&7?8-(c+3&7):0)+(h<<3),A=o+r.F.contSize(S.fltree,S.lhst)+r.F.contSize(S.fdtree,S.dhst),F=o+r.F.contSize(S.ltree,S.lhst)+r.F.contSize(S.dtree,S.dhst);F+=14+3*x+r.F.contSize(S.itree,S.ihst)+(2*S.ihst[16]+3*S.ihst[17]+7*S.ihst[18]);for(var B=0;B<286;B++)S.lhst[B]=0;for(B=0;B<30;B++)S.dhst[B]=0;for(B=0;B<19;B++)S.ihst[B]=0;var H=k<A&&k<F?0:A<F?1:2;if(_(l,c,i),_(l,c+1,H),c+=3,H==0){for(;7&c;)c++;c=r.F._copyExact(a,f,h,l,c)}else{var L,z;if(H==1&&(L=S.fltree,z=S.fdtree),H==2){r.F.makeCodes(S.ltree,p),r.F.revCodes(S.ltree,p),r.F.makeCodes(S.dtree,v),r.F.revCodes(S.dtree,v),r.F.makeCodes(S.itree,g),r.F.revCodes(S.itree,g),L=S.ltree,z=S.dtree,C(l,c,m-257),C(l,c+=5,y-1),C(l,c+=5,x-4),c+=4;for(var I=0;I<x;I++)C(l,c+3*I,S.itree[1+(S.ordr[I]<<1)]);c+=3*x,c=r.F._codeTiny(b,S.itree,l,c),c=r.F._codeTiny(w,S.itree,l,c)}for(var E=f,V=0;V<d;V+=2){for(var T=s[V],P=T>>>23,j=E+(8388607&T);E<j;)c=r.F._writeLit(a[E++],L,l,c);if(P!=0){var D=s[V+1],W=D>>16,M=D>>8&255,O=255&D;C(l,c=r.F._writeLit(257+M,L,l,c),P-S.of0[M]),c+=S.exb[M],_(l,c=r.F._writeLit(O,z,l,c),W-S.df0[O]),c+=S.dxb[O],E+=P}}c=r.F._writeLit(256,L,l,c)}return c},r.F._copyExact=function(i,s,d,o,a){var f=a>>>3;return o[f]=d,o[f+1]=d>>>8,o[f+2]=255-o[f],o[f+3]=255-o[f+1],f+=4,o.set(new Uint8Array(i.buffer,s,d),f),a+(d+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),d=r.F._hufTree(i.dhst,i.dtree,15),o=[],a=r.F._lenCodes(i.ltree,o),f=[],h=r.F._lenCodes(i.dtree,f),l=0;l<o.length;l+=2)i.ihst[o[l]]++;for(l=0;l<f.length;l+=2)i.ihst[f[l]]++;for(var c=r.F._hufTree(i.ihst,i.itree,7),u=19;u>4&&i.itree[1+(i.ordr[u-1]<<1)]==0;)u--;return[s,d,c,a,h,u,o,f]},r.F.getSecond=function(i){for(var s=[],d=0;d<i.length;d+=2)s.push(i[d+1]);return s},r.F.nonZero=function(i){for(var s="",d=0;d<i.length;d+=2)i[d+1]!=0&&(s+=(d>>1)+",");return s},r.F.contSize=function(i,s){for(var d=0,o=0;o<s.length;o++)d+=s[o]*i[1+(o<<1)];return d},r.F._codeTiny=function(i,s,d,o){for(var a=0;a<i.length;a+=2){var f=i[a],h=i[a+1];o=r.F._writeLit(f,s,d,o);var l=f==16?2:f==17?3:7;f>15&&(r.F._putsE(d,o,h,l),o+=l)}return o},r.F._lenCodes=function(i,s){for(var d=i.length;d!=2&&i[d-1]==0;)d-=2;for(var o=0;o<d;o+=2){var a=i[o+1],f=o+3<d?i[o+3]:-1,h=o+5<d?i[o+5]:-1,l=o==0?-1:i[o-1];if(a==0&&f==a&&h==a){for(var c=o+5;c+2<d&&i[c+2]==a;)c+=2;(u=Math.min(c+1-o>>>1,138))<11?s.push(17,u-3):s.push(18,u-11),o+=2*u-2}else if(a==l&&f==a&&h==a){for(c=o+5;c+2<d&&i[c+2]==a;)c+=2;var u=Math.min(c+1-o>>>1,6);s.push(16,u-3),o+=2*u-2}else s.push(a,0)}return d>>>1},r.F._hufTree=function(i,s,d){var o=[],a=i.length,f=s.length,h=0;for(h=0;h<f;h+=2)s[h]=0,s[h+1]=0;for(h=0;h<a;h++)i[h]!=0&&o.push({lit:h,f:i[h]});var l=o.length,c=o.slice(0);if(l==0)return 0;if(l==1){var u=o[0].lit;return c=u==0?1:0,s[1+(u<<1)]=1,s[1+(c<<1)]=1,1}o.sort(function(b,w){return b.f-w.f});var p=o[0],v=o[1],g=0,m=1,y=2;for(o[0]={lit:-1,f:p.f+v.f,l:p,r:v,d:0};m!=l-1;)p=g!=m&&(y==l||o[g].f<o[y].f)?o[g++]:o[y++],v=g!=m&&(y==l||o[g].f<o[y].f)?o[g++]:o[y++],o[m++]={lit:-1,f:p.f+v.f,l:p,r:v};var x=r.F.setDepth(o[m-1],0);for(x>d&&(r.F.restrictDepth(c,d,x),x=d),h=0;h<l;h++)s[1+(c[h].lit<<1)]=c[h].d;return x},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,d){var o=0,a=1<<d-s,f=0;for(i.sort(function(l,c){return c.d==l.d?l.f-c.f:c.d-l.d}),o=0;o<i.length&&i[o].d>s;o++){var h=i[o].d;i[o].d=s,f+=a-(1<<d-h)}for(f>>>=d-s;f>0;)(h=i[o].d)<s?(i[o].d++,f-=1<<s-h-1):o++;for(;o>=0;o--)i[o].d==s&&f<0&&(i[o].d--,f++);f!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var d=0;return s[16|d]<=i&&(d|=16),s[8|d]<=i&&(d|=8),s[4|d]<=i&&(d|=4),s[2|d]<=i&&(d|=2),s[1|d]<=i&&(d|=1),d},r.F._writeLit=function(i,s,d,o){return r.F._putsF(d,o,s[i<<1]),o+s[1+(i<<1)]},r.F.inflate=function(i,s){var d=Uint8Array;if(i[0]==3&&i[1]==0)return s||new d(0);var o=r.F,a=o._bitsF,f=o._bitsE,h=o._decodeTiny,l=o.makeCodes,c=o.codes2map,u=o._get17,p=o.U,v=s==null;v&&(s=new d(i.length>>>2<<3));for(var g,m,y=0,x=0,b=0,w=0,S=0,_=0,C=0,k=0,A=0;y==0;)if(y=a(i,A,1),x=a(i,A+1,2),A+=3,x!=0){if(v&&(s=r.F._check(s,k+(1<<17))),x==1&&(g=p.flmap,m=p.fdmap,_=511,C=31),x==2){b=f(i,A,5)+257,w=f(i,A+5,5)+1,S=f(i,A+10,4)+4,A+=14;for(var F=0;F<38;F+=2)p.itree[F]=0,p.itree[F+1]=0;var B=1;for(F=0;F<S;F++){var H=f(i,A+3*F,3);p.itree[1+(p.ordr[F]<<1)]=H,H>B&&(B=H)}A+=3*S,l(p.itree,B),c(p.itree,B,p.imap),g=p.lmap,m=p.dmap,A=h(p.imap,(1<<B)-1,b+w,i,A,p.ttree);var L=o._copyOut(p.ttree,0,b,p.ltree);_=(1<<L)-1;var z=o._copyOut(p.ttree,b,w,p.dtree);C=(1<<z)-1,l(p.ltree,L),c(p.ltree,L,g),l(p.dtree,z),c(p.dtree,z,m)}for(;;){var I=g[u(i,A)&_];A+=15&I;var E=I>>>4;if(!(E>>>8))s[k++]=E;else{if(E==256)break;var V=k+E-254;if(E>264){var T=p.ldef[E-257];V=k+(T>>>3)+f(i,A,7&T),A+=7&T}var P=m[u(i,A)&C];A+=15&P;var j=P>>>4,D=p.ddef[j],W=(D>>>4)+a(i,A,15&D);for(A+=15&D,v&&(s=r.F._check(s,k+(1<<17)));k<V;)s[k]=s[k++-W],s[k]=s[k++-W],s[k]=s[k++-W],s[k]=s[k++-W];k=V}}}else{7&A&&(A+=8-(7&A));var M=4+(A>>>3),O=i[M-4]|i[M-3]<<8;v&&(s=r.F._check(s,k+O)),s.set(new d(i.buffer,i.byteOffset+M,O),k),A=M+O<<3,k+=O}return s.length==k?s:s.slice(0,k)},r.F._check=function(i,s){var d=i.length;if(s<=d)return i;var o=new Uint8Array(Math.max(d<<1,s));return o.set(i,0),o},r.F._decodeTiny=function(i,s,d,o,a,f){for(var h=r.F._bitsE,l=r.F._get17,c=0;c<d;){var u=i[l(o,a)&s];a+=15&u;var p=u>>>4;if(p<=15)f[c]=p,c++;else{var v=0,g=0;p==16?(g=3+h(o,a,2),a+=2,v=f[c-1]):p==17?(g=3+h(o,a,3),a+=3):p==18&&(g=11+h(o,a,7),a+=7);for(var m=c+g;c<m;)f[c]=v,c++}}return a},r.F._copyOut=function(i,s,d,o){for(var a=0,f=0,h=o.length>>>1;f<d;){var l=i[f+s];o[f<<1]=0,o[1+(f<<1)]=l,l>a&&(a=l),f++}for(;f<h;)o[f<<1]=0,o[1+(f<<1)]=0,f++;return a},r.F.makeCodes=function(i,s){for(var d,o,a,f,h=r.F.U,l=i.length,c=h.bl_count,u=0;u<=s;u++)c[u]=0;for(u=1;u<l;u+=2)c[i[u]]++;var p=h.next_code;for(d=0,c[0]=0,o=1;o<=s;o++)d=d+c[o-1]<<1,p[o]=d;for(a=0;a<l;a+=2)(f=i[a+1])!=0&&(i[a]=p[f],p[f]++)},r.F.codes2map=function(i,s,d){for(var o=i.length,a=r.F.U.rev15,f=0;f<o;f+=2)if(i[f+1]!=0)for(var h=f>>1,l=i[f+1],c=h<<4|l,u=s-l,p=i[f]<<u,v=p+(1<<u);p!=v;)d[a[p]>>>15-s]=c,p++},r.F.revCodes=function(i,s){for(var d=r.F.U.rev15,o=15-s,a=0;a<i.length;a+=2){var f=i[a]<<s-i[a+1];i[a]=d[f]>>>o}},r.F._putsE=function(i,s,d){d<<=7&s;var o=s>>>3;i[o]|=d,i[o+1]|=d>>>8},r.F._putsF=function(i,s,d){d<<=7&s;var o=s>>>3;i[o]|=d,i[o+1]|=d>>>8,i[o+2]|=d>>>16},r.F._bitsE=function(i,s,d){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<d)-1},r.F._bitsF=function(i,s,d){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<d)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var d=s;d=(4278255360&(d=(4042322160&(d=(3435973836&(d=(2863311530&d)>>>1|(1431655765&d)<<1))>>>2|(858993459&d)<<2))>>>4|(252645135&d)<<4))>>>8|(16711935&d)<<8,i.rev15[s]=(d>>>16|d<<16)>>>17}function o(a,f,h){for(;f--!=0;)a.push(0,h)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];o(i.fltree,144,8),o(i.fltree,112,9),o(i.fltree,24,7),o(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),o(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),o(i.itree,19,0),o(i.ltree,286,0),o(i.dtree,30,0),o(i.ttree,320,0)}()})();var fM=lM({__proto__:null,default:uu},[uu]);const Cn=function(){var t={nextZero(h,l){for(;h[l]!=0;)l++;return l},readUshort:(h,l)=>h[l]<<8|h[l+1],writeUshort(h,l,c){h[l]=c>>8&255,h[l+1]=255&c},readUint:(h,l)=>16777216*h[l]+(h[l+1]<<16|h[l+2]<<8|h[l+3]),writeUint(h,l,c){h[l]=c>>24&255,h[l+1]=c>>16&255,h[l+2]=c>>8&255,h[l+3]=255&c},readASCII(h,l,c){let u="";for(let p=0;p<c;p++)u+=String.fromCharCode(h[l+p]);return u},writeASCII(h,l,c){for(let u=0;u<c.length;u++)h[l+u]=c.charCodeAt(u)},readBytes(h,l,c){const u=[];for(let p=0;p<c;p++)u.push(h[l+p]);return u},pad:h=>h.length<2?`0${h}`:h,readUTF8(h,l,c){let u,p="";for(let v=0;v<c;v++)p+=`%${t.pad(h[l+v].toString(16))}`;try{u=decodeURIComponent(p)}catch{return t.readASCII(h,l,c)}return u}};function e(h,l,c,u){const p=l*c,v=s(u),g=Math.ceil(l*v/8),m=new Uint8Array(4*p),y=new Uint32Array(m.buffer),{ctype:x}=u,{depth:b}=u,w=t.readUshort;if(x==6){const T=p<<2;if(b==8)for(var S=0;S<T;S+=4)m[S]=h[S],m[S+1]=h[S+1],m[S+2]=h[S+2],m[S+3]=h[S+3];if(b==16)for(S=0;S<T;S++)m[S]=h[S<<1]}else if(x==2){const T=u.tabs.tRNS;if(T==null){if(b==8)for(S=0;S<p;S++){var _=3*S;y[S]=255<<24|h[_+2]<<16|h[_+1]<<8|h[_]}if(b==16)for(S=0;S<p;S++)_=6*S,y[S]=255<<24|h[_+4]<<16|h[_+2]<<8|h[_]}else{var C=T[0];const P=T[1],j=T[2];if(b==8)for(S=0;S<p;S++){var k=S<<2;_=3*S,y[S]=255<<24|h[_+2]<<16|h[_+1]<<8|h[_],h[_]==C&&h[_+1]==P&&h[_+2]==j&&(m[k+3]=0)}if(b==16)for(S=0;S<p;S++)k=S<<2,_=6*S,y[S]=255<<24|h[_+4]<<16|h[_+2]<<8|h[_],w(h,_)==C&&w(h,_+2)==P&&w(h,_+4)==j&&(m[k+3]=0)}}else if(x==3){const T=u.tabs.PLTE,P=u.tabs.tRNS,j=P?P.length:0;if(b==1)for(var A=0;A<c;A++){var F=A*g,B=A*l;for(S=0;S<l;S++){k=B+S<<2;var H=3*(L=h[F+(S>>3)]>>7-((7&S)<<0)&1);m[k]=T[H],m[k+1]=T[H+1],m[k+2]=T[H+2],m[k+3]=L<j?P[L]:255}}if(b==2)for(A=0;A<c;A++)for(F=A*g,B=A*l,S=0;S<l;S++)k=B+S<<2,H=3*(L=h[F+(S>>2)]>>6-((3&S)<<1)&3),m[k]=T[H],m[k+1]=T[H+1],m[k+2]=T[H+2],m[k+3]=L<j?P[L]:255;if(b==4)for(A=0;A<c;A++)for(F=A*g,B=A*l,S=0;S<l;S++)k=B+S<<2,H=3*(L=h[F+(S>>1)]>>4-((1&S)<<2)&15),m[k]=T[H],m[k+1]=T[H+1],m[k+2]=T[H+2],m[k+3]=L<j?P[L]:255;if(b==8)for(S=0;S<p;S++){var L;k=S<<2,H=3*(L=h[S]),m[k]=T[H],m[k+1]=T[H+1],m[k+2]=T[H+2],m[k+3]=L<j?P[L]:255}}else if(x==4){if(b==8)for(S=0;S<p;S++){k=S<<2;var z=h[I=S<<1];m[k]=z,m[k+1]=z,m[k+2]=z,m[k+3]=h[I+1]}if(b==16)for(S=0;S<p;S++){var I;k=S<<2,z=h[I=S<<2],m[k]=z,m[k+1]=z,m[k+2]=z,m[k+3]=h[I+2]}}else if(x==0)for(C=u.tabs.tRNS?u.tabs.tRNS:-1,A=0;A<c;A++){const T=A*g,P=A*l;if(b==1)for(var E=0;E<l;E++){var V=(z=255*(h[T+(E>>>3)]>>>7-(7&E)&1))==255*C?0:255;y[P+E]=V<<24|z<<16|z<<8|z}else if(b==2)for(E=0;E<l;E++)V=(z=85*(h[T+(E>>>2)]>>>6-((3&E)<<1)&3))==85*C?0:255,y[P+E]=V<<24|z<<16|z<<8|z;else if(b==4)for(E=0;E<l;E++)V=(z=17*(h[T+(E>>>1)]>>>4-((1&E)<<2)&15))==17*C?0:255,y[P+E]=V<<24|z<<16|z<<8|z;else if(b==8)for(E=0;E<l;E++)V=(z=h[T+E])==C?0:255,y[P+E]=V<<24|z<<16|z<<8|z;else if(b==16)for(E=0;E<l;E++)z=h[T+(E<<1)],V=w(h,T+(E<<1))==C?0:255,y[P+E]=V<<24|z<<16|z<<8|z}return m}function n(h,l,c,u){const p=s(h),v=Math.ceil(c*p/8),g=new Uint8Array((v+1+h.interlace)*u);return l=h.tabs.CgBI?i(l,g):r(l,g),h.interlace==0?l=d(l,h,0,c,u):h.interlace==1&&(l=function(y,x){const b=x.width,w=x.height,S=s(x),_=S>>3,C=Math.ceil(b*S/8),k=new Uint8Array(w*C);let A=0;const F=[0,0,4,0,2,0,1],B=[0,4,0,2,0,1,0],H=[8,8,8,4,4,2,2],L=[8,8,4,4,2,2,1];let z=0;for(;z<7;){const E=H[z],V=L[z];let T=0,P=0,j=F[z];for(;j<w;)j+=E,P++;let D=B[z];for(;D<b;)D+=V,T++;const W=Math.ceil(T*S/8);d(y,x,A,T,P);let M=0,O=F[z];for(;O<w;){let U=B[z],G=A+M*W<<3;for(;U<b;){var I;if(S==1&&(I=(I=y[G>>3])>>7-(7&G)&1,k[O*C+(U>>3)]|=I<<7-((7&U)<<0)),S==2&&(I=(I=y[G>>3])>>6-(7&G)&3,k[O*C+(U>>2)]|=I<<6-((3&U)<<1)),S==4&&(I=(I=y[G>>3])>>4-(7&G)&15,k[O*C+(U>>1)]|=I<<4-((1&U)<<2)),S>=8){const K=O*C+U*_;for(let Y=0;Y<_;Y++)k[K+Y]=y[(G>>3)+Y]}G+=S,U+=V}M++,O+=E}T*P!=0&&(A+=P*(1+W)),z+=1}return k}(l,h)),l}function r(h,l){return i(new Uint8Array(h.buffer,2,h.length-6),l)}var i=function(){const h={H:{}};return h.H.N=function(l,c){const u=Uint8Array;let p,v,g=0,m=0,y=0,x=0,b=0,w=0,S=0,_=0,C=0;if(l[0]==3&&l[1]==0)return c||new u(0);const k=h.H,A=k.b,F=k.e,B=k.R,H=k.n,L=k.A,z=k.Z,I=k.m,E=c==null;for(E&&(c=new u(l.length>>>2<<5));g==0;)if(g=A(l,C,1),m=A(l,C+1,2),C+=3,m!=0){if(E&&(c=h.H.W(c,_+(1<<17))),m==1&&(p=I.J,v=I.h,w=511,S=31),m==2){y=F(l,C,5)+257,x=F(l,C+5,5)+1,b=F(l,C+10,4)+4,C+=14;let T=1;for(var V=0;V<38;V+=2)I.Q[V]=0,I.Q[V+1]=0;for(V=0;V<b;V++){const D=F(l,C+3*V,3);I.Q[1+(I.X[V]<<1)]=D,D>T&&(T=D)}C+=3*b,H(I.Q,T),L(I.Q,T,I.u),p=I.w,v=I.d,C=B(I.u,(1<<T)-1,y+x,l,C,I.v);const P=k.V(I.v,0,y,I.C);w=(1<<P)-1;const j=k.V(I.v,y,x,I.D);S=(1<<j)-1,H(I.C,P),L(I.C,P,p),H(I.D,j),L(I.D,j,v)}for(;;){const T=p[z(l,C)&w];C+=15&T;const P=T>>>4;if(!(P>>>8))c[_++]=P;else{if(P==256)break;{let j=_+P-254;if(P>264){const U=I.q[P-257];j=_+(U>>>3)+F(l,C,7&U),C+=7&U}const D=v[z(l,C)&S];C+=15&D;const W=D>>>4,M=I.c[W],O=(M>>>4)+A(l,C,15&M);for(C+=15&M;_<j;)c[_]=c[_++-O],c[_]=c[_++-O],c[_]=c[_++-O],c[_]=c[_++-O];_=j}}}}else{7&C&&(C+=8-(7&C));const T=4+(C>>>3),P=l[T-4]|l[T-3]<<8;E&&(c=h.H.W(c,_+P)),c.set(new u(l.buffer,l.byteOffset+T,P),_),C=T+P<<3,_+=P}return c.length==_?c:c.slice(0,_)},h.H.W=function(l,c){const u=l.length;if(c<=u)return l;const p=new Uint8Array(u<<1);return p.set(l,0),p},h.H.R=function(l,c,u,p,v,g){const m=h.H.e,y=h.H.Z;let x=0;for(;x<u;){const b=l[y(p,v)&c];v+=15&b;const w=b>>>4;if(w<=15)g[x]=w,x++;else{let S=0,_=0;w==16?(_=3+m(p,v,2),v+=2,S=g[x-1]):w==17?(_=3+m(p,v,3),v+=3):w==18&&(_=11+m(p,v,7),v+=7);const C=x+_;for(;x<C;)g[x]=S,x++}}return v},h.H.V=function(l,c,u,p){let v=0,g=0;const m=p.length>>>1;for(;g<u;){const y=l[g+c];p[g<<1]=0,p[1+(g<<1)]=y,y>v&&(v=y),g++}for(;g<m;)p[g<<1]=0,p[1+(g<<1)]=0,g++;return v},h.H.n=function(l,c){const u=h.H.m,p=l.length;let v,g,m,y;const x=u.j;for(var b=0;b<=c;b++)x[b]=0;for(b=1;b<p;b+=2)x[l[b]]++;const w=u.K;for(v=0,x[0]=0,g=1;g<=c;g++)v=v+x[g-1]<<1,w[g]=v;for(m=0;m<p;m+=2)y=l[m+1],y!=0&&(l[m]=w[y],w[y]++)},h.H.A=function(l,c,u){const p=l.length,v=h.H.m.r;for(let g=0;g<p;g+=2)if(l[g+1]!=0){const m=g>>1,y=l[g+1],x=m<<4|y,b=c-y;let w=l[g]<<b;const S=w+(1<<b);for(;w!=S;)u[v[w]>>>15-c]=x,w++}},h.H.l=function(l,c){const u=h.H.m.r,p=15-c;for(let v=0;v<l.length;v+=2){const g=l[v]<<c-l[v+1];l[v]=u[g]>>>p}},h.H.M=function(l,c,u){u<<=7&c;const p=c>>>3;l[p]|=u,l[p+1]|=u>>>8},h.H.I=function(l,c,u){u<<=7&c;const p=c>>>3;l[p]|=u,l[p+1]|=u>>>8,l[p+2]|=u>>>16},h.H.e=function(l,c,u){return(l[c>>>3]|l[1+(c>>>3)]<<8)>>>(7&c)&(1<<u)-1},h.H.b=function(l,c,u){return(l[c>>>3]|l[1+(c>>>3)]<<8|l[2+(c>>>3)]<<16)>>>(7&c)&(1<<u)-1},h.H.Z=function(l,c){return(l[c>>>3]|l[1+(c>>>3)]<<8|l[2+(c>>>3)]<<16)>>>(7&c)},h.H.i=function(l,c){return(l[c>>>3]|l[1+(c>>>3)]<<8|l[2+(c>>>3)]<<16|l[3+(c>>>3)]<<24)>>>(7&c)},h.H.m=function(){const l=Uint16Array,c=Uint32Array;return{K:new l(16),j:new l(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new l(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new l(512),_:[],h:new l(32),$:[],w:new l(32768),C:[],v:[],d:new l(32768),D:[],u:new l(512),Q:[],r:new l(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new l(65536),g:new l(32768)}}(),function(){const l=h.H.m;for(var c=0;c<32768;c++){let p=c;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,l.r[c]=(p>>>16|p<<16)>>>17}function u(p,v,g){for(;v--!=0;)p.push(0,g)}for(c=0;c<32;c++)l.q[c]=l.S[c]<<3|l.T[c],l.c[c]=l.p[c]<<4|l.z[c];u(l._,144,8),u(l._,112,9),u(l._,24,7),u(l._,8,8),h.H.n(l._,9),h.H.A(l._,9,l.J),h.H.l(l._,9),u(l.$,32,5),h.H.n(l.$,5),h.H.A(l.$,5,l.h),h.H.l(l.$,5),u(l.Q,19,0),u(l.C,286,0),u(l.D,30,0),u(l.v,320,0)}(),h.H.N}();function s(h){return[1,null,3,1,2,null,4][h.ctype]*h.depth}function d(h,l,c,u,p){let v=s(l);const g=Math.ceil(u*v/8);let m,y;v=Math.ceil(v/8);let x=h[c],b=0;if(x>1&&(h[c]=[0,0,1][x-2]),x==3)for(b=v;b<g;b++)h[b+1]=h[b+1]+(h[b+1-v]>>>1)&255;for(let w=0;w<p;w++)if(m=c+w*g,y=m+w+1,x=h[y-1],b=0,x==0)for(;b<g;b++)h[m+b]=h[y+b];else if(x==1){for(;b<v;b++)h[m+b]=h[y+b];for(;b<g;b++)h[m+b]=h[y+b]+h[m+b-v]}else if(x==2)for(;b<g;b++)h[m+b]=h[y+b]+h[m+b-g];else if(x==3){for(;b<v;b++)h[m+b]=h[y+b]+(h[m+b-g]>>>1);for(;b<g;b++)h[m+b]=h[y+b]+(h[m+b-g]+h[m+b-v]>>>1)}else{for(;b<v;b++)h[m+b]=h[y+b]+o(0,h[m+b-g],0);for(;b<g;b++)h[m+b]=h[y+b]+o(h[m+b-v],h[m+b-g],h[m+b-v-g])}return h}function o(h,l,c){const u=h+l-c,p=u-h,v=u-l,g=u-c;return p*p<=v*v&&p*p<=g*g?h:v*v<=g*g?l:c}function a(h,l,c){c.width=t.readUint(h,l),l+=4,c.height=t.readUint(h,l),l+=4,c.depth=h[l],l++,c.ctype=h[l],l++,c.compress=h[l],l++,c.filter=h[l],l++,c.interlace=h[l],l++}function f(h,l,c,u,p,v,g,m,y){const x=Math.min(l,p),b=Math.min(c,v);let w=0,S=0;for(let z=0;z<b;z++)for(let I=0;I<x;I++)if(g>=0&&m>=0?(w=z*l+I<<2,S=(m+z)*p+g+I<<2):(w=(-m+z)*l-g+I<<2,S=z*p+I<<2),y==0)u[S]=h[w],u[S+1]=h[w+1],u[S+2]=h[w+2],u[S+3]=h[w+3];else if(y==1){var _=h[w+3]*.00392156862745098,C=h[w]*_,k=h[w+1]*_,A=h[w+2]*_,F=u[S+3]*(1/255),B=u[S]*F,H=u[S+1]*F,L=u[S+2]*F;const E=1-_,V=_+F*E,T=V==0?0:1/V;u[S+3]=255*V,u[S+0]=(C+B*E)*T,u[S+1]=(k+H*E)*T,u[S+2]=(A+L*E)*T}else if(y==2)_=h[w+3],C=h[w],k=h[w+1],A=h[w+2],F=u[S+3],B=u[S],H=u[S+1],L=u[S+2],_==F&&C==B&&k==H&&A==L?(u[S]=0,u[S+1]=0,u[S+2]=0,u[S+3]=0):(u[S]=C,u[S+1]=k,u[S+2]=A,u[S+3]=_);else if(y==3){if(_=h[w+3],C=h[w],k=h[w+1],A=h[w+2],F=u[S+3],B=u[S],H=u[S+1],L=u[S+2],_==F&&C==B&&k==H&&A==L)continue;if(_<220&&F>20)return!1}return!0}return{decode:function(l){const c=new Uint8Array(l);let u=8;const p=t,v=p.readUshort,g=p.readUint,m={tabs:{},frames:[]},y=new Uint8Array(c.length);let x,b=0,w=0;const S=[137,80,78,71,13,10,26,10];for(var _=0;_<8;_++)if(c[_]!=S[_])throw"The input is not a PNG file!";for(;u<c.length;){const z=p.readUint(c,u);u+=4;const I=p.readASCII(c,u,4);if(u+=4,I=="IHDR")a(c,u,m);else if(I=="iCCP"){for(var C=u;c[C]!=0;)C++;p.readASCII(c,u,C-u),c[C+1];const E=c.slice(C+2,u+z);let V=null;try{V=r(E)}catch{V=i(E)}m.tabs[I]=V}else if(I=="CgBI")m.tabs[I]=c.slice(u,u+4);else if(I=="IDAT"){for(_=0;_<z;_++)y[b+_]=c[u+_];b+=z}else if(I=="acTL")m.tabs[I]={num_frames:g(c,u),num_plays:g(c,u+4)},x=new Uint8Array(c.length);else if(I=="fcTL"){w!=0&&((L=m.frames[m.frames.length-1]).data=n(m,x.slice(0,w),L.rect.width,L.rect.height),w=0);const E={x:g(c,u+12),y:g(c,u+16),width:g(c,u+4),height:g(c,u+8)};let V=v(c,u+22);V=v(c,u+20)/(V==0?100:V);const T={rect:E,delay:Math.round(1e3*V),dispose:c[u+24],blend:c[u+25]};m.frames.push(T)}else if(I=="fdAT"){for(_=0;_<z-4;_++)x[w+_]=c[u+_+4];w+=z-4}else if(I=="pHYs")m.tabs[I]=[p.readUint(c,u),p.readUint(c,u+4),c[u+8]];else if(I=="cHRM")for(m.tabs[I]=[],_=0;_<8;_++)m.tabs[I].push(p.readUint(c,u+4*_));else if(I=="tEXt"||I=="zTXt"){m.tabs[I]==null&&(m.tabs[I]={});var k=p.nextZero(c,u),A=p.readASCII(c,u,k-u),F=u+z-k-1;if(I=="tEXt")H=p.readASCII(c,k+1,F);else{var B=r(c.slice(k+2,k+2+F));H=p.readUTF8(B,0,B.length)}m.tabs[I][A]=H}else if(I=="iTXt"){m.tabs[I]==null&&(m.tabs[I]={}),k=0,C=u,k=p.nextZero(c,C),A=p.readASCII(c,C,k-C);const E=c[C=k+1];var H;c[C+1],C+=2,k=p.nextZero(c,C),p.readASCII(c,C,k-C),C=k+1,k=p.nextZero(c,C),p.readUTF8(c,C,k-C),F=z-((C=k+1)-u),E==0?H=p.readUTF8(c,C,F):(B=r(c.slice(C,C+F)),H=p.readUTF8(B,0,B.length)),m.tabs[I][A]=H}else if(I=="PLTE")m.tabs[I]=p.readBytes(c,u,z);else if(I=="hIST"){const E=m.tabs.PLTE.length/3;for(m.tabs[I]=[],_=0;_<E;_++)m.tabs[I].push(v(c,u+2*_))}else if(I=="tRNS")m.ctype==3?m.tabs[I]=p.readBytes(c,u,z):m.ctype==0?m.tabs[I]=v(c,u):m.ctype==2&&(m.tabs[I]=[v(c,u),v(c,u+2),v(c,u+4)]);else if(I=="gAMA")m.tabs[I]=p.readUint(c,u)/1e5;else if(I=="sRGB")m.tabs[I]=c[u];else if(I=="bKGD")m.ctype==0||m.ctype==4?m.tabs[I]=[v(c,u)]:m.ctype==2||m.ctype==6?m.tabs[I]=[v(c,u),v(c,u+2),v(c,u+4)]:m.ctype==3&&(m.tabs[I]=c[u]);else if(I=="IEND")break;u+=z,p.readUint(c,u),u+=4}var L;return w!=0&&((L=m.frames[m.frames.length-1]).data=n(m,x.slice(0,w),L.rect.width,L.rect.height)),m.data=n(m,y,m.width,m.height),delete m.compress,delete m.interlace,delete m.filter,m},toRGBA8:function(l){const c=l.width,u=l.height;if(l.tabs.acTL==null)return[e(l.data,c,u,l).buffer];const p=[];l.frames[0].data==null&&(l.frames[0].data=l.data);const v=c*u*4,g=new Uint8Array(v),m=new Uint8Array(v),y=new Uint8Array(v);for(let b=0;b<l.frames.length;b++){const w=l.frames[b],S=w.rect.x,_=w.rect.y,C=w.rect.width,k=w.rect.height,A=e(w.data,C,k,l);if(b!=0)for(var x=0;x<v;x++)y[x]=g[x];if(w.blend==0?f(A,C,k,g,c,u,S,_,0):w.blend==1&&f(A,C,k,g,c,u,S,_,1),p.push(g.buffer.slice(0)),w.dispose!=0){if(w.dispose==1)f(m,C,k,g,c,u,S,_,0);else if(w.dispose==2)for(x=0;x<v;x++)g[x]=y[x]}}return p},_paeth:o,_copyTile:f,_bin:t}}();(function(){const{_copyTile:t}=Cn,{_bin:e}=Cn,n=Cn._paeth;var r={table:function(){const C=new Uint32Array(256);for(let k=0;k<256;k++){let A=k;for(let F=0;F<8;F++)1&A?A=3988292384^A>>>1:A>>>=1;C[k]=A}return C}(),update(C,k,A,F){for(let B=0;B<F;B++)C=r.table[255&(C^k[A+B])]^C>>>8;return C},crc:(C,k,A)=>4294967295^r.update(4294967295,C,k,A)};function i(C,k,A,F){k[A]+=C[0]*F>>4,k[A+1]+=C[1]*F>>4,k[A+2]+=C[2]*F>>4,k[A+3]+=C[3]*F>>4}function s(C){return Math.max(0,Math.min(255,C))}function d(C,k){const A=C[0]-k[0],F=C[1]-k[1],B=C[2]-k[2],H=C[3]-k[3];return A*A+F*F+B*B+H*H}function o(C,k,A,F,B,H,L){L==null&&(L=1);const z=F.length,I=[];for(var E=0;E<z;E++){const O=F[E];I.push([O>>>0&255,O>>>8&255,O>>>16&255,O>>>24&255])}for(E=0;E<z;E++){let O=4294967295;for(var V=0,T=0;T<z;T++){var P=d(I[E],I[T]);T!=E&&P<O&&(O=P,V=T)}}const j=new Uint32Array(B.buffer),D=new Int16Array(k*A*4),W=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(E=0;E<W.length;E++)W[E]=255*((W[E]+.5)/16-.5);for(let O=0;O<A;O++)for(let U=0;U<k;U++){var M;E=4*(O*k+U),L!=2?M=[s(C[E]+D[E]),s(C[E+1]+D[E+1]),s(C[E+2]+D[E+2]),s(C[E+3]+D[E+3])]:(P=W[4*(3&O)+(3&U)],M=[s(C[E]+P),s(C[E+1]+P),s(C[E+2]+P),s(C[E+3]+P)]),V=0;let G=16777215;for(T=0;T<z;T++){const Z=d(M,I[T]);Z<G&&(G=Z,V=T)}const K=I[V],Y=[M[0]-K[0],M[1]-K[1],M[2]-K[2],M[3]-K[3]];L==1&&(U!=k-1&&i(Y,D,E+4,7),O!=A-1&&(U!=0&&i(Y,D,E+4*k-4,3),i(Y,D,E+4*k,5),U!=k-1&&i(Y,D,E+4*k+4,1))),H[E>>2]=V,j[E>>2]=F[V]}}function a(C,k,A,F,B){B==null&&(B={});const{crc:H}=r,L=e.writeUint,z=e.writeUshort,I=e.writeASCII;let E=8;const V=C.frames.length>1;let T,P=!1,j=33+(V?20:0);if(B.sRGB!=null&&(j+=13),B.pHYs!=null&&(j+=21),B.iCCP!=null&&(T=pako.deflate(B.iCCP),j+=21+T.length+4),C.ctype==3){for(var D=C.plte.length,W=0;W<D;W++)C.plte[W]>>>24!=255&&(P=!0);j+=8+3*D+4+(P?8+1*D+4:0)}for(var M=0;M<C.frames.length;M++)V&&(j+=38),j+=(K=C.frames[M]).cimg.length+12,M!=0&&(j+=4);j+=12;const O=new Uint8Array(j),U=[137,80,78,71,13,10,26,10];for(W=0;W<8;W++)O[W]=U[W];if(L(O,E,13),E+=4,I(O,E,"IHDR"),E+=4,L(O,E,k),E+=4,L(O,E,A),E+=4,O[E]=C.depth,E++,O[E]=C.ctype,E++,O[E]=0,E++,O[E]=0,E++,O[E]=0,E++,L(O,E,H(O,E-17,17)),E+=4,B.sRGB!=null&&(L(O,E,1),E+=4,I(O,E,"sRGB"),E+=4,O[E]=B.sRGB,E++,L(O,E,H(O,E-5,5)),E+=4),B.iCCP!=null){const Y=13+T.length;L(O,E,Y),E+=4,I(O,E,"iCCP"),E+=4,I(O,E,"ICC profile"),E+=11,E+=2,O.set(T,E),E+=T.length,L(O,E,H(O,E-(Y+4),Y+4)),E+=4}if(B.pHYs!=null&&(L(O,E,9),E+=4,I(O,E,"pHYs"),E+=4,L(O,E,B.pHYs[0]),E+=4,L(O,E,B.pHYs[1]),E+=4,O[E]=B.pHYs[2],E++,L(O,E,H(O,E-13,13)),E+=4),V&&(L(O,E,8),E+=4,I(O,E,"acTL"),E+=4,L(O,E,C.frames.length),E+=4,L(O,E,B.loop!=null?B.loop:0),E+=4,L(O,E,H(O,E-12,12)),E+=4),C.ctype==3){for(L(O,E,3*(D=C.plte.length)),E+=4,I(O,E,"PLTE"),E+=4,W=0;W<D;W++){const Y=3*W,Z=C.plte[W],ie=255&Z,ae=Z>>>8&255,Q=Z>>>16&255;O[E+Y+0]=ie,O[E+Y+1]=ae,O[E+Y+2]=Q}if(E+=3*D,L(O,E,H(O,E-3*D-4,3*D+4)),E+=4,P){for(L(O,E,D),E+=4,I(O,E,"tRNS"),E+=4,W=0;W<D;W++)O[E+W]=C.plte[W]>>>24&255;E+=D,L(O,E,H(O,E-D-4,D+4)),E+=4}}let G=0;for(M=0;M<C.frames.length;M++){var K=C.frames[M];V&&(L(O,E,26),E+=4,I(O,E,"fcTL"),E+=4,L(O,E,G++),E+=4,L(O,E,K.rect.width),E+=4,L(O,E,K.rect.height),E+=4,L(O,E,K.rect.x),E+=4,L(O,E,K.rect.y),E+=4,z(O,E,F[M]),E+=2,z(O,E,1e3),E+=2,O[E]=K.dispose,E++,O[E]=K.blend,E++,L(O,E,H(O,E-30,30)),E+=4);const Y=K.cimg;L(O,E,(D=Y.length)+(M==0?0:4)),E+=4;const Z=E;I(O,E,M==0?"IDAT":"fdAT"),E+=4,M!=0&&(L(O,E,G++),E+=4),O.set(Y,E),E+=D,L(O,E,H(O,Z,E-Z)),E+=4}return L(O,E,0),E+=4,I(O,E,"IEND"),E+=4,L(O,E,H(O,E-4,4)),E+=4,O.buffer}function f(C,k,A){for(let F=0;F<C.frames.length;F++){const B=C.frames[F];B.rect.width;const H=B.rect.height,L=new Uint8Array(H*B.bpl+H);B.cimg=u(B.img,H,B.bpp,B.bpl,L,k,A)}}function h(C,k,A,F,B){const H=B[0],L=B[1],z=B[2],I=B[3],E=B[4],V=B[5];let T=6,P=8,j=255;for(var D=0;D<C.length;D++){const ne=new Uint8Array(C[D]);for(var W=ne.length,M=0;M<W;M+=4)j&=ne[M+3]}const O=j!=255,U=function(q,ee,oe,de,ue,re){const fe=[];for(var te=0;te<q.length;te++){const De=new Uint8Array(q[te]),nt=new Uint32Array(De.buffer);var le;let $e=0,It=0,dt=ee,Kt=oe,nr=de?1:0;if(te!=0){const Ls=re||de||te==1||fe[te-2].dispose!=0?1:2;let vi=0,El=1e9;for(let js=0;js<Ls;js++){var ge=new Uint8Array(q[te-1-js]);const wE=new Uint32Array(q[te-1-js]);let Pr=ee,Ar=oe,fa=-1,$s=-1;for(let yi=0;yi<oe;yi++)for(let xi=0;xi<ee;xi++)nt[Se=yi*ee+xi]!=wE[Se]&&(xi<Pr&&(Pr=xi),xi>fa&&(fa=xi),yi<Ar&&(Ar=yi),yi>$s&&($s=yi));fa==-1&&(Pr=Ar=fa=$s=0),ue&&((1&Pr)==1&&Pr--,(1&Ar)==1&&Ar--);const k0=(fa-Pr+1)*($s-Ar+1);k0<El&&(El=k0,vi=js,$e=Pr,It=Ar,dt=fa-Pr+1,Kt=$s-Ar+1)}ge=new Uint8Array(q[te-1-vi]),vi==1&&(fe[te-1].dispose=2),le=new Uint8Array(dt*Kt*4),t(ge,ee,oe,le,dt,Kt,-$e,-It,0),nr=t(De,ee,oe,le,dt,Kt,-$e,-It,3)?1:0,nr==1?c(De,ee,oe,le,{x:$e,y:It,width:dt,height:Kt}):t(De,ee,oe,le,dt,Kt,-$e,-It,0)}else le=De.slice(0);fe.push({rect:{x:$e,y:It,width:dt,height:Kt},img:le,blend:nr,dispose:0})}if(de)for(te=0;te<fe.length;te++){if((Ee=fe[te]).blend==1)continue;const De=Ee.rect,nt=fe[te-1].rect,$e=Math.min(De.x,nt.x),It=Math.min(De.y,nt.y),dt={x:$e,y:It,width:Math.max(De.x+De.width,nt.x+nt.width)-$e,height:Math.max(De.y+De.height,nt.y+nt.height)-It};fe[te-1].dispose=1,te-1!=0&&l(q,ee,oe,fe,te-1,dt,ue),l(q,ee,oe,fe,te,dt,ue)}let me=0;if(q.length!=1)for(var Se=0;Se<fe.length;Se++){var Ee;me+=(Ee=fe[Se]).rect.width*Ee.rect.height}return fe}(C,k,A,H,L,z),G={},K=[],Y=[];if(F!=0){const ne=[];for(M=0;M<U.length;M++)ne.push(U[M].img.buffer);const q=function(ue){let re=0;for(var fe=0;fe<ue.length;fe++)re+=ue[fe].byteLength;const te=new Uint8Array(re);let le=0;for(fe=0;fe<ue.length;fe++){const ge=new Uint8Array(ue[fe]),me=ge.length;for(let Se=0;Se<me;Se+=4){let Ee=ge[Se],De=ge[Se+1],nt=ge[Se+2];const $e=ge[Se+3];$e==0&&(Ee=De=nt=0),te[le+Se]=Ee,te[le+Se+1]=De,te[le+Se+2]=nt,te[le+Se+3]=$e}le+=me}return te.buffer}(ne),ee=v(q,F);for(M=0;M<ee.plte.length;M++)K.push(ee.plte[M].est.rgba);let oe=0;for(M=0;M<U.length;M++){const de=(ie=U[M]).img.length;var Z=new Uint8Array(ee.inds.buffer,oe>>2,de>>2);Y.push(Z);const ue=new Uint8Array(ee.abuf,oe,de);V&&o(ie.img,ie.rect.width,ie.rect.height,K,ue,Z),ie.img.set(ue),oe+=de}}else for(D=0;D<U.length;D++){var ie=U[D];const ne=new Uint32Array(ie.img.buffer);var ae=ie.rect.width;for(W=ne.length,Z=new Uint8Array(W),Y.push(Z),M=0;M<W;M++){const q=ne[M];if(M!=0&&q==ne[M-1])Z[M]=Z[M-1];else if(M>ae&&q==ne[M-ae])Z[M]=Z[M-ae];else{let ee=G[q];if(ee==null&&(G[q]=ee=K.length,K.push(q),K.length>=300))break;Z[M]=ee}}}const Q=K.length;for(Q<=256&&E==0&&(P=Q<=2?1:Q<=4?2:Q<=16?4:8,P=Math.max(P,I)),D=0;D<U.length;D++){(ie=U[D]).rect.x,ie.rect.y,ae=ie.rect.width;const ne=ie.rect.height;let q=ie.img;new Uint32Array(q.buffer);let ee=4*ae,oe=4;if(Q<=256&&E==0){ee=Math.ceil(P*ae/8);var X=new Uint8Array(ee*ne);const de=Y[D];for(let ue=0;ue<ne;ue++){M=ue*ee;const re=ue*ae;if(P==8)for(var J=0;J<ae;J++)X[M+J]=de[re+J];else if(P==4)for(J=0;J<ae;J++)X[M+(J>>1)]|=de[re+J]<<4-4*(1&J);else if(P==2)for(J=0;J<ae;J++)X[M+(J>>2)]|=de[re+J]<<6-2*(3&J);else if(P==1)for(J=0;J<ae;J++)X[M+(J>>3)]|=de[re+J]<<7-1*(7&J)}q=X,T=3,oe=1}else if(O==0&&U.length==1){X=new Uint8Array(ae*ne*3);const de=ae*ne;for(M=0;M<de;M++){const ue=3*M,re=4*M;X[ue]=q[re],X[ue+1]=q[re+1],X[ue+2]=q[re+2]}q=X,T=2,oe=3,ee=3*ae}ie.img=q,ie.bpl=ee,ie.bpp=oe}return{ctype:T,depth:P,plte:K,frames:U}}function l(C,k,A,F,B,H,L){const z=Uint8Array,I=Uint32Array,E=new z(C[B-1]),V=new I(C[B-1]),T=B+1<C.length?new z(C[B+1]):null,P=new z(C[B]),j=new I(P.buffer);let D=k,W=A,M=-1,O=-1;for(let G=0;G<H.height;G++)for(let K=0;K<H.width;K++){const Y=H.x+K,Z=H.y+G,ie=Z*k+Y,ae=j[ie];ae==0||F[B-1].dispose==0&&V[ie]==ae&&(T==null||T[4*ie+3]!=0)||(Y<D&&(D=Y),Y>M&&(M=Y),Z<W&&(W=Z),Z>O&&(O=Z))}M==-1&&(D=W=M=O=0),L&&((1&D)==1&&D--,(1&W)==1&&W--),H={x:D,y:W,width:M-D+1,height:O-W+1};const U=F[B];U.rect=H,U.blend=1,U.img=new Uint8Array(H.width*H.height*4),F[B-1].dispose==0?(t(E,k,A,U.img,H.width,H.height,-H.x,-H.y,0),c(P,k,A,U.img,H)):t(P,k,A,U.img,H.width,H.height,-H.x,-H.y,0)}function c(C,k,A,F,B){t(C,k,A,F,B.width,B.height,-B.x,-B.y,2)}function u(C,k,A,F,B,H,L){const z=[];let I,E=[0,1,2,3,4];H!=-1?E=[H]:(k*F>5e5||A==1)&&(E=[0]),L&&(I={level:0});const V=fM;for(var T=0;T<E.length;T++){for(let D=0;D<k;D++)p(B,C,D,F,A,E[T]);z.push(V.deflate(B,I))}let P,j=1e9;for(T=0;T<z.length;T++)z[T].length<j&&(P=T,j=z[T].length);return z[P]}function p(C,k,A,F,B,H){const L=A*F;let z=L+A;if(C[z]=H,z++,H==0)if(F<500)for(var I=0;I<F;I++)C[z+I]=k[L+I];else C.set(new Uint8Array(k.buffer,L,F),z);else if(H==1){for(I=0;I<B;I++)C[z+I]=k[L+I];for(I=B;I<F;I++)C[z+I]=k[L+I]-k[L+I-B]+256&255}else if(A==0){for(I=0;I<B;I++)C[z+I]=k[L+I];if(H==2)for(I=B;I<F;I++)C[z+I]=k[L+I];if(H==3)for(I=B;I<F;I++)C[z+I]=k[L+I]-(k[L+I-B]>>1)+256&255;if(H==4)for(I=B;I<F;I++)C[z+I]=k[L+I]-n(k[L+I-B],0,0)+256&255}else{if(H==2)for(I=0;I<F;I++)C[z+I]=k[L+I]+256-k[L+I-F]&255;if(H==3){for(I=0;I<B;I++)C[z+I]=k[L+I]+256-(k[L+I-F]>>1)&255;for(I=B;I<F;I++)C[z+I]=k[L+I]+256-(k[L+I-F]+k[L+I-B]>>1)&255}if(H==4){for(I=0;I<B;I++)C[z+I]=k[L+I]+256-n(0,k[L+I-F],0)&255;for(I=B;I<F;I++)C[z+I]=k[L+I]+256-n(k[L+I-B],k[L+I-F],k[L+I-B-F])&255}}}function v(C,k){const A=new Uint8Array(C),F=A.slice(0),B=new Uint32Array(F.buffer),H=g(F,k),L=H[0],z=H[1],I=A.length,E=new Uint8Array(I>>2);let V;if(A.length<2e7)for(var T=0;T<I;T+=4)V=m(L,P=A[T]*(1/255),j=A[T+1]*(1/255),D=A[T+2]*(1/255),W=A[T+3]*(1/255)),E[T>>2]=V.ind,B[T>>2]=V.est.rgba;else for(T=0;T<I;T+=4){var P=A[T]*.00392156862745098,j=A[T+1]*(1/255),D=A[T+2]*(1/255),W=A[T+3]*(1/255);for(V=L;V.left;)V=y(V.est,P,j,D,W)<=0?V.left:V.right;E[T>>2]=V.ind,B[T>>2]=V.est.rgba}return{abuf:F.buffer,inds:E,plte:z}}function g(C,k,A){A==null&&(A=1e-4);const F=new Uint32Array(C.buffer),B={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};B.bst=w(C,B.i0,B.i1),B.est=S(B.bst);const H=[B];for(;H.length<k;){let z=0,I=0;for(var L=0;L<H.length;L++)H[L].est.L>z&&(z=H[L].est.L,I=L);if(z<A)break;const E=H[I],V=x(C,F,E.i0,E.i1,E.est.e,E.est.eMq255);if(E.i0>=V||E.i1<=V){E.est.L=0;continue}const T={i0:E.i0,i1:V,bst:null,est:null,tdst:0,left:null,right:null};T.bst=w(C,T.i0,T.i1),T.est=S(T.bst);const P={i0:V,i1:E.i1,bst:null,est:null,tdst:0,left:null,right:null};for(P.bst={R:[],m:[],N:E.bst.N-T.bst.N},L=0;L<16;L++)P.bst.R[L]=E.bst.R[L]-T.bst.R[L];for(L=0;L<4;L++)P.bst.m[L]=E.bst.m[L]-T.bst.m[L];P.est=S(P.bst),E.left=T,E.right=P,H[I]=T,H.push(P)}for(H.sort((z,I)=>I.bst.N-z.bst.N),L=0;L<H.length;L++)H[L].ind=L;return[B,H]}function m(C,k,A,F,B){if(C.left==null)return C.tdst=function(T,P,j,D,W){const M=P-T[0],O=j-T[1],U=D-T[2],G=W-T[3];return M*M+O*O+U*U+G*G}(C.est.q,k,A,F,B),C;const H=y(C.est,k,A,F,B);let L=C.left,z=C.right;H>0&&(L=C.right,z=C.left);const I=m(L,k,A,F,B);if(I.tdst<=H*H)return I;const E=m(z,k,A,F,B);return E.tdst<I.tdst?E:I}function y(C,k,A,F,B){const{e:H}=C;return H[0]*k+H[1]*A+H[2]*F+H[3]*B-C.eMq}function x(C,k,A,F,B,H){for(F-=4;A<F;){for(;b(C,A,B)<=H;)A+=4;for(;b(C,F,B)>H;)F-=4;if(A>=F)break;const L=k[A>>2];k[A>>2]=k[F>>2],k[F>>2]=L,A+=4,F-=4}for(;b(C,A,B)>H;)A-=4;return A+4}function b(C,k,A){return C[k]*A[0]+C[k+1]*A[1]+C[k+2]*A[2]+C[k+3]*A[3]}function w(C,k,A){const F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B=[0,0,0,0],H=A-k>>2;for(let L=k;L<A;L+=4){const z=C[L]*.00392156862745098,I=C[L+1]*(1/255),E=C[L+2]*(1/255),V=C[L+3]*(1/255);B[0]+=z,B[1]+=I,B[2]+=E,B[3]+=V,F[0]+=z*z,F[1]+=z*I,F[2]+=z*E,F[3]+=z*V,F[5]+=I*I,F[6]+=I*E,F[7]+=I*V,F[10]+=E*E,F[11]+=E*V,F[15]+=V*V}return F[4]=F[1],F[8]=F[2],F[9]=F[6],F[12]=F[3],F[13]=F[7],F[14]=F[11],{R:F,m:B,N:H}}function S(C){const{R:k}=C,{m:A}=C,{N:F}=C,B=A[0],H=A[1],L=A[2],z=A[3],I=F==0?0:1/F,E=[k[0]-B*B*I,k[1]-B*H*I,k[2]-B*L*I,k[3]-B*z*I,k[4]-H*B*I,k[5]-H*H*I,k[6]-H*L*I,k[7]-H*z*I,k[8]-L*B*I,k[9]-L*H*I,k[10]-L*L*I,k[11]-L*z*I,k[12]-z*B*I,k[13]-z*H*I,k[14]-z*L*I,k[15]-z*z*I],V=E,T=_;let P=[Math.random(),Math.random(),Math.random(),Math.random()],j=0,D=0;if(F!=0)for(let M=0;M<16&&(P=T.multVec(V,P),D=Math.sqrt(T.dot(P,P)),P=T.sml(1/D,P),!(M!=0&&Math.abs(D-j)<1e-9));M++)j=D;const W=[B*I,H*I,L*I,z*I];return{Cov:E,q:W,e:P,L:j,eMq255:T.dot(T.sml(255,W),P),eMq:T.dot(P,W),rgba:(Math.round(255*W[3])<<24|Math.round(255*W[2])<<16|Math.round(255*W[1])<<8|Math.round(255*W[0])<<0)>>>0}}var _={multVec:(C,k)=>[C[0]*k[0]+C[1]*k[1]+C[2]*k[2]+C[3]*k[3],C[4]*k[0]+C[5]*k[1]+C[6]*k[2]+C[7]*k[3],C[8]*k[0]+C[9]*k[1]+C[10]*k[2]+C[11]*k[3],C[12]*k[0]+C[13]*k[1]+C[14]*k[2]+C[15]*k[3]],dot:(C,k)=>C[0]*k[0]+C[1]*k[1]+C[2]*k[2]+C[3]*k[3],sml:(C,k)=>[C*k[0],C*k[1],C*k[2],C*k[3]]};Cn.encode=function(k,A,F,B,H,L,z){B==null&&(B=0),z==null&&(z=!1);const I=h(k,A,F,B,[!1,!1,!1,0,z,!1]);return f(I,-1),a(I,A,F,H,L)},Cn.encodeLL=function(k,A,F,B,H,L,z,I){const E={ctype:0+(B==1?0:2)+(H==0?0:4),depth:L,frames:[]},V=(B+H)*L,T=V*A;for(let P=0;P<k.length;P++)E.frames.push({rect:{x:0,y:0,width:A,height:F},img:new Uint8Array(k[P]),blend:0,dispose:1,bpp:Math.ceil(V/8),bpl:Math.ceil(T/8)});return f(E,0,!0),a(E,A,F,z,I)},Cn.encode.compress=h,Cn.encode.dither=o,Cn.quantize=v,Cn.quantize.getKDtree=g,Cn.quantize.getNearest=m})();const qC={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),d=new Uint32Array(s.data.buffer),o=(32*n+31)/32<<2,a=o*r,f=122+a,h=new ArrayBuffer(f),l=new DataView(h),c=1<<20;let u,p,v,g,m=c,y=0,x=0,b=0;function w(C){l.setUint16(x,C,!0),x+=2}function S(C){l.setUint32(x,C,!0),x+=4}function _(C){x+=C}w(19778),S(f),_(4),S(122),S(108),S(n),S(-r>>>0),w(1),w(32),S(3),S(a),S(2835),S(2835),_(8),S(16711680),S(65280),S(255),S(4278190080),S(1466527264),function C(){for(;y<r&&m>0;){for(g=122+y*o,u=0;u<i;)m--,p=d[b++],v=p>>>24,l.setUint32(g+u,p<<8|v),u+=4;y++}b<d.length?(m=c,setTimeout(C,qC._dly)):e(h)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var Vt={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},hM={[Vt.CHROME]:16384,[Vt.FIREFOX]:11180,[Vt.DESKTOP_SAFARI]:16384,[Vt.IE]:8192,[Vt.IOS]:4096,[Vt.ETC]:8192};const Em=typeof window<"u",QC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,fu=Em&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),dM=(Em||QC)&&(fu&&fu.getOriginalSymbol(window,"File")||typeof File<"u"&&File),JC=(Em||QC)&&(fu&&fu.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Pm(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],d=globalThis.atob(i[1]);let o=d.length;const a=new Uint8Array(o);for(;o--;)a[o]=d.charCodeAt(o);const f=new Blob([a],{type:s});f.name=e,f.lastModified=n,r(f)})}function ZC(t){return new Promise((e,n)=>{const r=new JC;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function e_(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Di(){if(Di.cachedResult!==void 0)return Di.cachedResult;let t=Vt.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Vt.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Vt.IOS:/Safari/i.test(e)?t=Vt.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Vt.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Vt.IE),Di.cachedResult=t,Di.cachedResult}function t_(t,e){const n=Di(),r=hM[n];let i=t,s=e,d=i*s;const o=i>s?s/i:i/s;for(;d>r*r;){const a=(r+i)/2,f=(r+s)/2;a<f?(s=f,i=f*o):(s=a*o,i=a),d=i*s}return{width:i,height:s}}function hf(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function n_(t,e){const{width:n,height:r}=t_(t.width,t.height),[i,s]=hf(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function kc(){return kc.cachedResult!==void 0||(kc.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),kc.cachedResult}function hu(t,e={}){return new Promise(function(n,r){let i,s;var d=function(){try{return s=n_(i,e.fileType||t.type),n([i,s])}catch(a){return r(a)}},o=function(a){try{var f=function(h){try{throw h}catch(l){return r(l)}};try{let h;return ZC(t).then(function(l){try{return h=l,e_(h).then(function(c){try{return i=c,function(){try{return d()}catch(u){return r(u)}}()}catch(u){return f(u)}},f)}catch(c){return f(c)}},f)}catch(h){f(h)}}catch(h){return r(h)}};try{if(kc()||[Vt.DESKTOP_SAFARI,Vt.MOBILE_SAFARI].includes(Di()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(a){try{return i=a,d()}catch{return o()}},o)}catch{o()}})}function du(t,e,n,r,i=1){return new Promise(function(s,d){let o;if(e==="image/png"){let l,c,u;return l=t.getContext("2d"),{data:c}=l.getImageData(0,0,t.width,t.height),u=Cn.encode([c.buffer],t.width,t.height,4096*i),o=new Blob([u],{type:e}),o.name=n,o.lastModified=r,a.call(this)}{let l=function(){return a.call(this)};var f=l;if(e==="image/bmp")return new Promise(c=>qC.toBlob(t,c)).then((function(c){try{return o=c,o.name=n,o.lastModified=r,l.call(this)}catch(u){return d(u)}}).bind(this),d);{let c=function(){return l.call(this)};var h=c;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(u){try{return o=u,o.name=n,o.lastModified=r,c.call(this)}catch(p){return d(p)}}).bind(this),d);{let u;return u=t.toDataURL(e,i),Pm(u,n,r).then((function(p){try{return o=p,c.call(this)}catch(v){return d(v)}}).bind(this),d)}}}function a(){return s(o)}})}function Bn(t){t.width=0,t.height=0}function Wa(){return new Promise(function(t,e){let n,r,i,s;return Wa.cachedResult!==void 0?t(Wa.cachedResult):Pm("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(d){try{return n=d,hu(n).then(function(o){try{return r=o[1],du(r,n.type,n.name,n.lastModified).then(function(a){try{return i=a,Bn(r),hu(i).then(function(f){try{return s=f[0],Wa.cachedResult=s.width===1&&s.height===2,t(Wa.cachedResult)}catch(h){return e(h)}},e)}catch(f){return e(f)}},e)}catch(a){return e(a)}},e)}catch(o){return e(o)}},e)})}function r_(t){return new Promise((e,n)=>{const r=new JC;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const d=s.byteLength;let o=2;for(;o<d;){if(s.getUint16(o+2,!1)<=8)return e(-1);const a=s.getUint16(o,!1);if(o+=2,a==65505){if(s.getUint32(o+=2,!1)!=1165519206)return e(-1);const f=s.getUint16(o+=6,!1)==18761;o+=s.getUint32(o+4,f);const h=s.getUint16(o,f);o+=2;for(let l=0;l<h;l++)if(s.getUint16(o+12*l,f)==274)return e(s.getUint16(o+12*l+8,f))}else{if((65280&a)!=65280)break;o+=s.getUint16(o,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function i_(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,d=t;return isFinite(i)&&(n>i||r>i)&&([d,s]=hf(n,r),n>r?(d.width=i,d.height=r/n*i):(d.width=n/r*i,d.height=i),s.drawImage(t,0,0,d.width,d.height),Bn(t)),d}function a_(t,e){const{width:n}=t,{height:r}=t,[i,s]=hf(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),Bn(t),i}function Zy(t,e,n=0){return new Promise(function(r,i){let s,d,o,a,f,h,l,c,u,p,v,g,m,y,x,b,w,S,_,C;function k(F=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=F,e.onProgress(Math.min(s,100))}function A(F){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(F,s),100),e.onProgress(s)}return s=n,d=e.maxIteration||10,o=1024*e.maxSizeMB*1024,k(),hu(t,e).then((function(F){try{return[,a]=F,k(),f=i_(a,e),k(),new Promise(function(B,H){var L;if(!(L=e.exifOrientation))return r_(t).then((function(I){try{return L=I,z.call(this)}catch(E){return H(E)}}).bind(this),H);function z(){return B(L)}return z.call(this)}).then((function(B){try{return h=B,k(),Wa().then((function(H){try{return l=H?f:a_(f,h),k(),c=e.initialQuality||1,u=e.fileType||t.type,du(l,u,t.name,t.lastModified,c).then((function(L){try{{let V=function(){if(d--&&(x>o||x>m)){let P,j;return P=C?.95*_.width:_.width,j=C?.95*_.height:_.height,[w,S]=hf(P,j),S.drawImage(_,0,0,P,j),c*=u==="image/png"?.85:.95,du(w,u,t.name,t.lastModified,c).then(function(D){try{return b=D,Bn(_),_=w,x=b.size,A(Math.min(99,Math.floor((y-x)/(y-o)*100))),V}catch(W){return i(W)}},i)}return[1]},T=function(){return Bn(_),Bn(w),Bn(f),Bn(l),Bn(a),A(100),r(b)};var I=V,E=T;if(p=L,k(),v=p.size>o,g=p.size>t.size,!v&&!g)return A(100),r(p);var z;return m=t.size,y=p.size,x=y,_=l,C=!e.alwaysKeepResolution&&v,(z=(function(P){for(;P;){if(P.then)return void P.then(z,i);try{if(P.pop){if(P.length)return P.pop()?T.call(this):P;P=V}else P=P.call(this)}catch(j){return i(j)}}}).bind(this))(V)}}catch(V){return i(V)}}).bind(this),i)}catch(L){return i(L)}}).bind(this),i)}catch(H){return i(H)}}).bind(this),i)}catch(B){return i(B)}}).bind(this),i)})}const pM=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let jh;function gM(t,e){return new Promise((n,r)=>{jh||(jh=function(d){const o=[];return o.push(d),URL.createObjectURL(new Blob(o))}(pM));const i=new Worker(jh);i.addEventListener("message",function(d){if(e.signal&&e.signal.aborted)i.terminate();else if(d.data.progress===void 0){if(d.data.error)return r(new Error(d.data.error)),void i.terminate();n(d.data.file),i.terminate()}else e.onProgress(d.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function kt(t,e){return new Promise(function(n,r){let i,s,d,o,a,f;if(i={...e},d=0,{onProgress:o}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,a=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=u=>{d=u,typeof o=="function"&&o(d)},!(t instanceof Blob||t instanceof dM))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!a||typeof Worker!="function"||f)return Zy(t,i).then((function(u){try{return s=u,c.call(this)}catch(p){return r(p)}}).bind(this),r);var h=(function(){try{return c.call(this)}catch(u){return r(u)}}).bind(this),l=function(u){try{return Zy(t,i).then(function(p){try{return s=p,h()}catch(v){return r(v)}},r)}catch(p){return r(p)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",gM(t,i).then(function(u){try{return s=u,h()}catch{return l()}},l)}catch{l()}function c(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=KC(t,s))}catch{}return n(s)}})}kt.getDataUrlFromFile=ZC,kt.getFilefromDataUrl=Pm,kt.loadImage=e_,kt.drawImageInCanvas=n_,kt.drawFileInCanvas=hu,kt.canvasToFile=du,kt.getExifOrientation=r_,kt.handleMaxWidthOrHeight=i_,kt.followExifOrientation=a_,kt.cleanupCanvasMemory=Bn,kt.isAutoOrientationInBrowser=Wa,kt.approximateBelowMaximumCanvasSizeOfBrowser=t_,kt.copyExifWithoutOrientation=KC,kt.getBrowserName=Di,kt.version="2.0.2";async function $h(t,e){const n=new it.fabric.Canvas(null),r=await new Promise(i=>{it.fabric.Image.fromURL(t.preview,s=>i(s))});if(n.setDimensions({width:r.width,height:r.height}),e.filters){const i=[];e.filters.brightness!==void 0&&i.push(new it.fabric.Image.filters.Brightness({brightness:(e.filters.brightness-100)/100})),e.filters.contrast!==void 0&&i.push(new it.fabric.Image.filters.Contrast({contrast:e.filters.contrast/100})),e.filters.saturation!==void 0&&i.push(new it.fabric.Image.filters.Saturation({saturation:e.filters.saturation/100})),e.filters.sepia&&i.push(new it.fabric.Image.filters.Sepia),e.filters.blur&&i.push(new it.fabric.Image.filters.Blur({blur:e.filters.blur/10})),e.filters.noise&&i.push(new it.fabric.Image.filters.Noise({noise:e.filters.noise})),e.filters.vignette&&i.push(new it.fabric.Image.filters.Vignette({radius:e.filters.vignette/100})),r.filters=i,r.applyFilters()}if(e.resize&&(r.scaleToWidth(e.resize.width),r.scaleToHeight(e.resize.height)),n.add(r),n.centerObject(r),n.renderAll(),e.export){const{format:i,quality:s,maxWidth:d,maxHeight:o,preserveAspectRatio:a}=e.export;let f=n;if(d||o){const c=a?Math.min(d?d/n.width:1,o?o/n.height:1):1;f=new it.fabric.Canvas(null),f.setDimensions({width:n.width*c,height:n.height*c});const u=new it.fabric.Image(n.toDataURL());u.scale(c),f.add(u),f.renderAll()}const h=f.toDataURL({format:i,quality:s}),l=await(await fetch(h)).blob();YC.saveAs(l,`${t.file.name.split(".")[0]}_edited.${i}`)}return{...t,preview:n.toDataURL(),filters:{...t.filters,...e.filters}}}var df=typeof self<"u"?self:global;const Qo=typeof navigator<"u",mM=Qo&&typeof HTMLImageElement>"u",pu=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),pf=df.Buffer,Kl=df.BigInt,gf=!!pf,vM=t=>t;function gu(t,e=vM){if(pu)try{return typeof require=="function"?Promise.resolve(e(require(t))):import(t).then(e)}catch{console.warn(`Couldn't load ${t}`)}}let Am=df.fetch;const yM=t=>Am=t;if(!df.fetch){const t=gu("http",r=>r),e=gu("https",r=>r),n=(r,{headers:i}={})=>new Promise(async(s,d)=>{let{port:o,hostname:a,pathname:f,protocol:h,search:l}=new URL(r);const c={method:"GET",hostname:a,path:encodeURI(f)+l,headers:i};o!==""&&(c.port=Number(o));const u=(h==="https:"?await e:await t).request(c,p=>{if(p.statusCode===301||p.statusCode===302){let v=new URL(p.headers.location,r).toString();return n(v,{headers:i}).then(s).catch(d)}s({status:p.statusCode,arrayBuffer:()=>new Promise(v=>{let g=[];p.on("data",m=>g.push(m)),p.on("end",()=>v(Buffer.concat(g)))})})});u.on("error",d),u.end()});yM(n)}function we(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const mu=t=>s_(t)?void 0:t,xM=t=>t!==void 0;function s_(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(xM).length===0)}function ut(t){let e=new Error(t);throw delete e.stack,e}function Ii(t){return(t=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(t).trim())===""?void 0:t}function Ep(t){let e=function(n){let r=0;return n.ifd0.enabled&&(r+=1024),n.exif.enabled&&(r+=2048),n.makerNote&&(r+=2048),n.userComment&&(r+=1024),n.gps.enabled&&(r+=512),n.interop.enabled&&(r+=100),n.ifd1.enabled&&(r+=1024),r+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const Pp=t=>String.fromCharCode.apply(null,t),e1=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function o_(t){return e1?e1.decode(t):gf?Buffer.from(t).toString("utf8"):decodeURIComponent(escape(Pp(t)))}let ai=class ga{static from(e,n){return e instanceof this&&e.le===n?e:new ga(e,void 0,void 0,n)}constructor(e,n=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){r===void 0&&(r=e.byteLength-n);let s=new DataView(e,n,r);this._swapDataView(s)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof ga){r===void 0&&(r=e.byteLength-n),(n+=e.byteOffset)+r>e.byteOffset+e.byteLength&&ut("Creating view outside of available memory in ArrayBuffer");let s=new DataView(e.buffer,n,r);this._swapDataView(s)}else if(typeof e=="number"){let s=new DataView(new ArrayBuffer(e));this._swapDataView(s)}else ut("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,n,r=ga){return e instanceof DataView||e instanceof ga?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||ut("BufferView.set(): Invalid data argument."),this.toUint8().set(e,n),new r(this,n,e.byteLength)}subarray(e,n){return n=n||this._lengthToEnd(e),new ga(this,e,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,n){return new Uint8Array(this.buffer,this.byteOffset+e,n)}getString(e=0,n=this.byteLength){return o_(this.getUint8Array(e,n))}getLatin1String(e=0,n=this.byteLength){let r=this.getUint8Array(e,n);return Pp(r)}getUnicodeString(e=0,n=this.byteLength){const r=[];for(let i=0;i<n&&e+i<this.byteLength;i+=2)r.push(this.getUint16(e+i));return Pp(r)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,n=this.le){return this.dataView.getInt16(e,n)}getInt32(e,n=this.le){return this.dataView.getInt32(e,n)}getUint16(e,n=this.le){return this.dataView.getUint16(e,n)}getUint32(e,n=this.le){return this.dataView.getUint32(e,n)}getFloat32(e,n=this.le){return this.dataView.getFloat32(e,n)}getFloat64(e,n=this.le){return this.dataView.getFloat64(e,n)}getFloat(e,n=this.le){return this.dataView.getFloat32(e,n)}getDouble(e,n=this.le){return this.dataView.getFloat64(e,n)}getUintBytes(e,n,r){switch(n){case 1:return this.getUint8(e,r);case 2:return this.getUint16(e,r);case 4:return this.getUint32(e,r);case 8:return this.getUint64&&this.getUint64(e,r)}}getUint(e,n,r){switch(n){case 8:return this.getUint8(e,r);case 16:return this.getUint16(e,r);case 32:return this.getUint32(e,r);case 64:return this.getUint64&&this.getUint64(e,r)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}};function Ap(t,e){ut(`${t} '${e}' was not loaded, try using full build of exifr.`)}let Mm=class extends Map{constructor(e){super(),this.kind=e}get(e,n){return this.has(e)||Ap(this.kind,e),n&&(e in n||function(r,i){ut(`Unknown ${r} '${i}'.`)}(this.kind,e),n[e].enabled||Ap(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}};var Qn=new Mm("file parser"),ot=new Mm("segment parser"),Zn=new Mm("file reader");function bM(t,e){return typeof t=="string"?t1(t,e):Qo&&!mM&&t instanceof HTMLImageElement?t1(t.src,e):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new ai(t):Qo&&t instanceof Blob?Mp(t,e,"blob",Xi):void ut("Invalid input argument")}function t1(t,e){return(n=t).startsWith("data:")||n.length>1e4?Dp(t,e,"base64"):pu&&t.includes("://")?Mp(t,e,"url",Gi):pu?Dp(t,e,"fs"):Qo?Mp(t,e,"url",Gi):void ut("Invalid input argument");var n}async function Mp(t,e,n,r){return Zn.has(n)?Dp(t,e,n):r?async function(i,s){let d=await s(i);return new ai(d)}(t,r):void ut(`Parser ${n} is not loaded`)}async function Dp(t,e,n){let r=new(Zn.get(n))(t,e);return await r.read(),r}const Gi=t=>Am(t).then(e=>e.arrayBuffer()),Xi=t=>new Promise((e,n)=>{let r=new FileReader;r.onloadend=()=>e(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(t)});let wM=class extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}};function st(t,e,n){let r=new wM;for(let[i,s]of n)r.set(i,s);if(Array.isArray(e))for(let i of e)t.set(i,r);else t.set(e,r);return r}function Yi(t,e,n){let r,i=t.get(e);for(r of n)i.set(r[0],r[1])}const mt=new Map,In=new Map,ni=new Map,zr=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],ws=["jfif","xmp","icc","iptc","ihdr"],Ki=["tiff",...ws],Je=["ifd0","ifd1","exif","gps","interop"],Ur=[...Ki,...Je],Hr=["makerNote","userComment"],Ss=["translateKeys","translateValues","reviveValues","multiSegment"],Wr=[...Ss,"sanitize","mergeOutput","silentErrors"];class l_{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}let Xs=class extends l_{get needed(){return this.enabled||this.deps.size>0}constructor(e,n,r,i){if(super(),we(this,"enabled",!1),we(this,"skip",new Set),we(this,"pick",new Set),we(this,"deps",new Set),we(this,"translateKeys",!1),we(this,"translateValues",!1),we(this,"reviveValues",!1),this.key=e,this.enabled=n,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=Je.includes(e),this.canBeFiltered&&(this.dict=mt.get(e)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:s,skip:d}=r;s&&s.length>0&&this.translateTagSet(s,this.pick),d&&d.length>0&&this.translateTagSet(d,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:ut(`Invalid options argument: ${r}`)}applyInheritables(e){let n,r;for(n of Ss)r=e[n],r!==void 0&&(this[n]=r)}translateTagSet(e,n){if(this.dict){let r,i,{tagKeys:s,tagValues:d}=this.dict;for(r of e)typeof r=="string"?(i=d.indexOf(r),i===-1&&(i=s.indexOf(Number(r))),i!==-1&&n.add(Number(s[i]))):n.add(r)}else for(let r of e)n.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,vu(this.pick,this.deps)):this.enabled&&this.pick.size>0&&vu(this.pick,this.deps)}};var Rt={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},n1=new Map;let na=class extends l_{static useCached(e){let n=n1.get(e);return n!==void 0||(n=new this(e),n1.set(e,n)),n}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):ut(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Qo?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of zr)this[e]=Rt[e];for(e of Wr)this[e]=Rt[e];for(e of Hr)this[e]=Rt[e];for(e of Ur)this[e]=new Xs(e,Rt[e],void 0,this)}setupFromTrue(){let e;for(e of zr)this[e]=Rt[e];for(e of Wr)this[e]=Rt[e];for(e of Hr)this[e]=!0;for(e of Ur)this[e]=new Xs(e,!0,void 0,this)}setupFromArray(e){let n;for(n of zr)this[n]=Rt[n];for(n of Wr)this[n]=Rt[n];for(n of Hr)this[n]=Rt[n];for(n of Ur)this[n]=new Xs(n,!1,void 0,this);this.setupGlobalFilters(e,void 0,Je)}setupFromObject(e){let n;for(n of(Je.ifd0=Je.ifd0||Je.image,Je.ifd1=Je.ifd1||Je.thumbnail,Object.assign(this,e),zr))this[n]=Nh(e[n],Rt[n]);for(n of Wr)this[n]=Nh(e[n],Rt[n]);for(n of Hr)this[n]=Nh(e[n],Rt[n]);for(n of Ki)this[n]=new Xs(n,Rt[n],e[n],this);for(n of Je)this[n]=new Xs(n,Rt[n],e[n],this.tiff);this.setupGlobalFilters(e.pick,e.skip,Je,Ur),e.tiff===!0?this.batchEnableWithBool(Je,!0):e.tiff===!1?this.batchEnableWithUserValue(Je,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,Je):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,Je)}batchEnableWithBool(e,n){for(let r of e)this[r].enabled=n}batchEnableWithUserValue(e,n){for(let r of e){let i=n[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,n,r,i=r){if(e&&e.length){for(let d of i)this[d].enabled=!1;let s=r1(e,r);for(let[d,o]of s)vu(this[d].pick,o),this[d].enabled=!0}else if(n&&n.length){let s=r1(n,r);for(let[d,o]of s)vu(this[d].skip,o)}}filterNestedSegmentTags(){let{ifd0:e,exif:n,xmp:r,iptc:i,icc:s}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),r.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),s.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:n,gps:r,interop:i}=this;i.needed&&(n.deps.add(40965),e.deps.add(40965)),n.needed&&e.deps.add(34665),r.needed&&e.deps.add(34853),this.tiff.enabled=Je.some(s=>this[s].enabled===!0)||this.makerNote||this.userComment;for(let s of Je)this[s].finalizeFilters()}get onlyTiff(){return!ws.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of Ki)this[e].enabled&&!ot.has(e)&&Ap("segment parser",e)}};function r1(t,e){let n,r,i,s,d=[];for(i of e){for(s of(n=mt.get(i),r=[],n))(t.includes(s[0])||t.includes(s[1]))&&r.push(s[0]);r.length&&d.push([i,r])}return d}function Nh(t,e){return t!==void 0?t:e!==void 0?e:void 0}function vu(t,e){for(let n of e)t.add(n)}we(na,"default",Rt);class di{constructor(e){we(this,"parsers",{}),we(this,"output",{}),we(this,"errors",[]),we(this,"pushToErrors",n=>this.errors.push(n)),this.options=na.useCached(e)}async read(e){this.file=await bM(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,n=e.getUint16(0);for(let[r,i]of Qn)if(i.canHandle(e,n))return this.fileParser=new i(this.options,this.file,this.parsers),e[r]=!0;this.file.close&&this.file.close(),ut("Unknown file format")}async parse(){let{output:e,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(e.errors=n),mu(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map(async r=>{let i=await r.parse();r.assignToOutput(e,i)});this.options.silentErrors&&(n=n.map(r=>r.catch(this.pushToErrors))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:e,file:n}=this,r=ot.get("tiff",e);var i;if(n.tiff?i={start:0,type:"tiff"}:n.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let s=await this.fileParser.ensureSegmentChunk(i),d=this.parsers.tiff=new r(s,e,n),o=await d.extractThumbnail();return n.close&&n.close(),o}}async function mf(t,e){let n=new di(e);return await n.read(t),n.parse()}var SM=Object.freeze({__proto__:null,parse:mf,Exifr:di,fileParsers:Qn,segmentParsers:ot,fileReaders:Zn,tagKeys:mt,tagValues:In,tagRevivers:ni,createDictionary:st,extendDictionary:Yi,fetchUrlAsArrayBuffer:Gi,readBlobAsArrayBuffer:Xi,chunkedProps:zr,otherSegments:ws,segments:Ki,tiffBlocks:Je,segmentsAndBlocks:Ur,tiffExtractables:Hr,inheritables:Ss,allFormatters:Wr,Options:na});class vf{constructor(e,n,r){we(this,"errors",[]),we(this,"ensureSegmentChunk",async i=>{let s=i.start,d=i.size||65536;if(this.file.chunked)if(this.file.available(s,d))i.chunk=this.file.subarray(s,d);else try{i.chunk=await this.file.readChunk(s,d)}catch(o){ut(`Couldn't read segment: ${JSON.stringify(i)}. ${o.message}`)}else this.file.byteLength>s+d?i.chunk=this.file.subarray(s,d):i.size===void 0?i.chunk=this.file.subarray(s):ut("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=n,this.parsers=r}injectSegment(e,n){this.options[e].enabled&&this.createParser(e,n)}createParser(e,n){let r=new(ot.get(e))(n,this.options,this.file);return this.parsers[e]=r}createParsers(e){for(let n of e){let{type:r,chunk:i}=n,s=this.options[r];if(s&&s.enabled){let d=this.parsers[r];d&&d.append||d||this.createParser(r,i)}}}async readSegments(e){let n=e.map(this.ensureSegmentChunk);await Promise.all(n)}}class En{static findPosition(e,n){let r=e.getUint16(n+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,n,r):this.headerLength,s=n+i,d=r-i;return{offset:n,length:r,headerLength:i,start:s,size:d,end:s+d}}static parse(e,n={}){return new this(e,new na({[this.type]:n}),e).parse()}normalizeInput(e){return e instanceof ai?e:new ai(e)}constructor(e,n={},r){we(this,"errors",[]),we(this,"raw",new Map),we(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(e),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,n){let r=ni.get(n),i=In.get(n),s=mt.get(n),d=this.options[n],o=d.reviveValues&&!!r,a=d.translateValues&&!!i,f=d.translateKeys&&!!s,h={};for(let[l,c]of e)o&&r.has(l)?c=r.get(l)(c):a&&i.has(l)&&(c=this.translateValue(c,i.get(l))),f&&s.has(l)&&(l=s.get(l)||l),h[l]=c;return h}translateValue(e,n){return n[e]||n.DEFAULT||e}assignToOutput(e,n){this.assignObjectToOutput(e,this.constructor.type,n)}assignObjectToOutput(e,n,r){if(this.globalOptions.mergeOutput)return Object.assign(e,r);e[n]?Object.assign(e[n],r):e[n]=r}}we(En,"headerLength",4),we(En,"type",void 0),we(En,"multiSegment",!1),we(En,"canHandle",()=>!1);function CM(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function _M(t){return t>=224&&t<=239}function TM(t,e,n){for(let[r,i]of ot)if(i.canHandle(t,e,n))return r}class i1 extends vf{constructor(...e){super(...e),we(this,"appSegments",[]),we(this,"jpegSegments",[]),we(this,"unknownSegments",[])}static canHandle(e,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(ot.keyList())):(e=e===void 0?ot.keyList().filter(n=>this.options[n].enabled):e.filter(n=>this.options[n].enabled&&ot.has(n)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,n){this.setupSegmentFinderArgs(n);let{file:r,findAll:i,wanted:s,remaining:d}=this;if(!i&&this.file.chunked&&(i=Array.from(s).some(o=>{let a=ot.get(o),f=this.options[o];return a.multiSegment&&f.multiSegment}),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,r.byteLength),!this.options.onlyTiff&&r.chunked){let o=!1;for(;d.size>0&&!o&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:a}=r,f=this.appSegments.some(h=>!this.file.available(h.offset||h.start,h.length||h.size));if(o=e>a&&!f?!await r.readNextChunk(e):!await r.readNextChunk(a),(e=this.findAppSegmentsInRange(e,r.byteLength))===void 0)return}}}findAppSegmentsInRange(e,n){n-=2;let r,i,s,d,o,a,{file:f,findAll:h,wanted:l,remaining:c,options:u}=this;for(;e<n;e++)if(f.getUint8(e)===255){if(r=f.getUint8(e+1),_M(r)){if(i=f.getUint16(e+2),s=TM(f,e,i),s&&l.has(s)&&(d=ot.get(s),o=d.findPosition(f,e),a=u[s],o.type=s,this.appSegments.push(o),!h&&(d.multiSegment&&a.multiSegment?(this.unfinishedMultiSegment=o.chunkNumber<o.chunkCount,this.unfinishedMultiSegment||c.delete(s)):c.delete(s),c.size===0)))break;u.recordUnknownSegments&&(o=En.findPosition(f,e),o.marker=r,this.unknownSegments.push(o)),e+=i+1}else if(CM(r)){if(i=f.getUint16(e+2),r===218&&u.stopAfterSos!==!1)return;u.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:r}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let e=function(n,r){let i,s,d,o=new Map;for(let a=0;a<n.length;a++)i=n[a],s=i[r],o.has(s)?d=o.get(s):o.set(s,d=[]),d.push(i);return Array.from(o)}(this.appSegments,"type");this.mergedAppSegments=e.map(([n,r])=>{let i=ot.get(n,this.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(e){return this.appSegments.find(n=>n.type===e)}async getOrFindSegment(e){let n=this.getSegment(e);return n===void 0&&(await this.findAppSegments(0,[e]),n=this.getSegment(e)),n}}we(i1,"type","jpeg"),Qn.set("jpeg",i1);const kM=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class OM extends En{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,n,r=new Map){let{pick:i,skip:s}=this.options[n];i=new Set(i);let d=i.size>0,o=s.size===0,a=this.chunk.getUint16(e);e+=2;for(let f=0;f<a;f++){let h=this.chunk.getUint16(e);if(d){if(i.has(h)&&(r.set(h,this.parseTag(e,h,n)),i.delete(h),i.size===0))break}else!o&&s.has(h)||r.set(h,this.parseTag(e,h,n));e+=12}return r}parseTag(e,n,r){let{chunk:i}=this,s=i.getUint16(e+2),d=i.getUint32(e+4),o=kM[s];if(o*d<=4?e+=8:e=i.getUint32(e+8),(s<1||s>13)&&ut(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${s}, offset ${e}`),e>i.byteLength&&ut(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${s}, offset ${e} is outside of chunk size ${i.byteLength}`),s===1)return i.getUint8Array(e,d);if(s===2)return Ii(i.getString(e,d));if(s===7)return i.getUint8Array(e,d);if(d===1)return this.parseTagValue(s,e);{let a=new(function(h){switch(h){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(s))(d),f=o;for(let h=0;h<d;h++)a[h]=this.parseTagValue(s,e),e+=f;return a}}parseTagValue(e,n){let{chunk:r}=this;switch(e){case 1:return r.getUint8(n);case 3:return r.getUint16(n);case 4:return r.getUint32(n);case 5:return r.getUint32(n)/r.getUint32(n+4);case 6:return r.getInt8(n);case 8:return r.getInt16(n);case 9:return r.getInt32(n);case 10:return r.getInt32(n)/r.getInt32(n+4);case 11:return r.getFloat(n);case 12:return r.getDouble(n);case 13:return r.getUint32(n);default:ut(`Invalid tiff type ${e}`)}}}class Bh extends OM{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1165519206&&e.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let n=this[e]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(e,n){let r=new Map;return this[n]=r,this.parseTags(e,n,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&ut("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&ut(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Ep(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Ep(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,n){let r=e.get(n);r&&r.length===1&&e.set(n,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",a1(...e.get(2),e.get(1))),e.set("longitude",a1(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(e,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,n,r,i={};for(n of Je)if(e=this[n],!s_(e))if(r=this.canTranslate?this.translateBlock(e,n):Object.fromEntries(e),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(i,r)}else i[n]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,n){if(this.globalOptions.mergeOutput)Object.assign(e,n);else for(let[r,i]of Object.entries(n))this.assignObjectToOutput(e,r,i)}}function a1(t,e,n,r){var i=t+e/60+n/3600;return r!=="S"&&r!=="W"||(i*=-1),i}we(Bh,"type","tiff"),we(Bh,"headerLength",10),ot.set("tiff",Bh);var EM=Object.freeze({__proto__:null,default:SM,Exifr:di,fileParsers:Qn,segmentParsers:ot,fileReaders:Zn,tagKeys:mt,tagValues:In,tagRevivers:ni,createDictionary:st,extendDictionary:Yi,fetchUrlAsArrayBuffer:Gi,readBlobAsArrayBuffer:Xi,chunkedProps:zr,otherSegments:ws,segments:Ki,tiffBlocks:Je,segmentsAndBlocks:Ur,tiffExtractables:Hr,inheritables:Ss,allFormatters:Wr,Options:na,parse:mf});const Dm={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},Im=Object.assign({},Dm,{firstChunkSize:4e4,gps:[1,2,3,4]});async function c_(t){let e=new di(Im);await e.read(t);let n=await e.parse();if(n&&n.gps){let{latitude:r,longitude:i}=n.gps;return{latitude:r,longitude:i}}}const Rm=Object.assign({},Dm,{tiff:!1,ifd1:!0,mergeOutput:!1});async function u_(t){let e=new di(Rm);await e.read(t);let n=await e.extractThumbnail();return n&&gf?pf.from(n):n}async function f_(t){let e=await this.thumbnail(t);if(e!==void 0){let n=new Blob([e]);return URL.createObjectURL(n)}}const Fm=Object.assign({},Dm,{firstChunkSize:4e4,ifd0:[274]});async function Lm(t){let e=new di(Fm);await e.read(t);let n=await e.parse();if(n&&n.ifd0)return n.ifd0[274]}const jm=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Ri=!0,Fi=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,n,r]=e;Ri=Number(n)+.1*Number(r)<13.4,Fi=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);Ri=Fi=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);Ri=Fi=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);Ri=Fi=Number(e)<77}}async function h_(t){let e=await Lm(t);return Object.assign({canvas:Ri,css:Fi},jm[e])}class PM extends ai{constructor(...e){super(...e),we(this,"ranges",new AM),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,n,r){if(e===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=e+n;if(i>this.byteLength){let{dataView:s}=this._extend(i);this._swapDataView(s)}}}_extend(e){let n;n=gf?pf.allocUnsafe(e):new Uint8Array(e);let r=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:r}}subarray(e,n,r=!1){return n=n||this._lengthToEnd(e),r&&this._tryExtend(e,n),this.ranges.add(e,n),super.subarray(e,n)}set(e,n,r=!1){r&&this._tryExtend(n,e.byteLength,e);let i=super.set(e,n);return this.ranges.add(n,i.byteLength),i}async ensureChunk(e,n){this.chunked&&(this.ranges.available(e,n)||await this.readChunk(e,n))}available(e,n){return this.ranges.available(e,n)}}class AM{constructor(){we(this,"list",[])}get length(){return this.list.length}add(e,n,r=0){let i=e+n,s=this.list.filter(d=>s1(e,d.offset,i)||s1(e,d.end,i));if(s.length>0){e=Math.min(e,...s.map(o=>o.offset)),i=Math.max(i,...s.map(o=>o.end)),n=i-e;let d=s.shift();d.offset=e,d.length=n,d.end=i,this.list=this.list.filter(o=>!s.includes(o))}else this.list.push({offset:e,length:n,end:i})}available(e,n){let r=e+n;return this.list.some(i=>i.offset<=e&&r<=i.end)}}function s1(t,e,n){return t<=e&&e<=n}class yf extends PM{constructor(e,n){super(0),we(this,"chunksRead",0),this.input=e,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,r=await this.readChunk(e,n);return!!r&&r.byteLength===n}async readChunk(e,n){if(this.chunksRead++,(n=this.safeWrapAddress(e,n))!==0)return this._readChunk(e,n)}safeWrapAddress(e,n){return this.size!==void 0&&e+n>this.size?Math.max(0,this.size-e):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Zn.set("blob",class extends yf{async readWhole(){this.chunked=!1;let t=await Xi(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let n=e?t+e:void 0,r=this.input.slice(t,n),i=await Xi(r);return this.set(i,t,!0)}});var MM=Object.freeze({__proto__:null,default:EM,Exifr:di,fileParsers:Qn,segmentParsers:ot,fileReaders:Zn,tagKeys:mt,tagValues:In,tagRevivers:ni,createDictionary:st,extendDictionary:Yi,fetchUrlAsArrayBuffer:Gi,readBlobAsArrayBuffer:Xi,chunkedProps:zr,otherSegments:ws,segments:Ki,tiffBlocks:Je,segmentsAndBlocks:Ur,tiffExtractables:Hr,inheritables:Ss,allFormatters:Wr,Options:na,parse:mf,gpsOnlyOptions:Im,gps:c_,thumbnailOnlyOptions:Rm,thumbnail:u_,thumbnailUrl:f_,orientationOnlyOptions:Fm,orientation:Lm,rotations:jm,get rotateCanvas(){return Ri},get rotateCss(){return Fi},rotation:h_});Zn.set("url",class extends yf{async readWhole(){this.chunked=!1;let t=await Gi(this.input);t instanceof ArrayBuffer?this._swapArrayBuffer(t):t instanceof Uint8Array&&this._swapBuffer(t)}async _readChunk(t,e){let n=e?t+e-1:void 0,r=this.options.httpHeaders||{};(t||n)&&(r.range=`bytes=${[t,n].join("-")}`);let i=await Am(this.input,{headers:r}),s=await i.arrayBuffer(),d=s.byteLength;if(i.status!==416)return d!==e&&(this.size=t+d),this.set(s,t,!0)}});ai.prototype.getUint64=function(t){let e=this.getUint32(t),n=this.getUint32(t+4);return e<1048575?e<<32|n:typeof Kl!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),Kl(e)<<Kl(32)|Kl(n)):void ut("Trying to read 64b value but JS can only handle 53b numbers.")};class DM extends vf{parseBoxes(e=0){let n=[];for(;e<this.file.byteLength-4;){let r=this.parseBoxHead(e);if(n.push(r),r.length===0)break;e+=r.length}return n}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,n){return e.boxes===void 0&&this.parseSubBoxes(e),e.boxes.find(r=>r.kind===n)}parseBoxHead(e){let n=this.file.getUint32(e),r=this.file.getString(e+4,4),i=e+8;return n===1&&(n=this.file.getUint64(e+8),i+=8),{offset:e,length:n,kind:r,start:i}}parseBoxFullHead(e){if(e.version!==void 0)return;let n=this.file.getUint32(e.start);e.version=n>>24,e.start+=4}}class d_ extends DM{static canHandle(e,n){if(n!==0)return!1;let r=e.getUint16(2);if(r>50)return!1;let i=16,s=[];for(;i<r;)s.push(e.getString(i,4)),i+=4;return s.includes(this.type)}async parse(){let e=this.file.getUint32(0),n=this.parseBoxHead(e);for(;n.kind!=="meta";)e+=n.length,await this.file.ensureChunk(e,16),n=this.parseBoxHead(e);await this.file.ensureChunk(n.offset,n.length),this.parseBoxFullHead(n),this.parseSubBoxes(n),this.options.icc.enabled&&await this.findIcc(n),this.options.tiff.enabled&&await this.findExif(n)}async registerSegment(e,n,r){await this.file.ensureChunk(n,r);let i=this.file.subarray(n,r);this.createParser(e,i)}async findIcc(e){let n=this.findBox(e,"iprp");if(n===void 0)return;let r=this.findBox(n,"ipco");if(r===void 0)return;let i=this.findBox(r,"colr");i!==void 0&&await this.registerSegment("icc",i.offset+12,i.length)}async findExif(e){let n=this.findBox(e,"iinf");if(n===void 0)return;let r=this.findBox(e,"iloc");if(r===void 0)return;let i=this.findExifLocIdInIinf(n),s=this.findExtentInIloc(r,i);if(s===void 0)return;let[d,o]=s;await this.file.ensureChunk(d,o);let a=4+this.file.getUint32(d);d+=a,o-=a,await this.registerSegment("tiff",d,o)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let n,r,i,s,d=e.start,o=this.file.getUint16(d);for(d+=2;o--;){if(n=this.parseBoxHead(d),this.parseBoxFullHead(n),r=n.start,n.version>=2&&(i=n.version===3?4:2,s=this.file.getString(r+i+2,4),s==="Exif"))return this.file.getUintBytes(r,i);d+=n.length}}get8bits(e){let n=this.file.getUint8(e);return[n>>4,15&n]}findExtentInIloc(e,n){this.parseBoxFullHead(e);let r=e.start,[i,s]=this.get8bits(r++),[d,o]=this.get8bits(r++),a=e.version===2?4:2,f=e.version===1||e.version===2?2:0,h=o+i+s,l=e.version===2?4:2,c=this.file.getUintBytes(r,l);for(r+=l;c--;){let u=this.file.getUintBytes(r,a);r+=a+f+2+d;let p=this.file.getUint16(r);if(r+=2,u===n)return p>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(r+o,i),this.file.getUintBytes(r+o+i,s)];r+=p*h}}}class p_ extends d_{}we(p_,"type","heic");class o1 extends d_{}we(o1,"type","avif"),Qn.set("heic",p_),Qn.set("avif",o1),st(mt,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),st(mt,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),st(mt,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),st(In,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let To=st(In,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const l1={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};To.set(37392,l1),To.set(41488,l1);const Vh={0:"Normal",1:"Low",2:"High"};function c1(t){return typeof t=="object"&&t.length!==void 0?t[0]:t}function u1(t){let e=Array.from(t).slice(1);return e[1]>15&&(e=e.map(n=>String.fromCharCode(n))),e[2]!=="0"&&e[2]!==0||e.pop(),e.join(".")}function zh(t){if(typeof t=="string"){var[e,n,r,i,s,d]=t.trim().split(/[-: ]/g).map(Number),o=new Date(e,n-1,r);return Number.isNaN(i)||Number.isNaN(s)||Number.isNaN(d)||(o.setHours(i),o.setMinutes(s),o.setSeconds(d)),Number.isNaN(+o)?t:o}}function Ys(t){if(typeof t=="string")return t;let e=[];if(t[1]===0&&t[t.length-1]===0)for(let n=0;n<t.length;n+=2)e.push(f1(t[n+1],t[n]));else for(let n=0;n<t.length;n+=2)e.push(f1(t[n],t[n+1]));return Ii(String.fromCodePoint(...e))}function f1(t,e){return t<<8|e}To.set(41992,Vh),To.set(41993,Vh),To.set(41994,Vh),st(ni,["ifd0","ifd1"],[[50827,function(t){return typeof t!="string"?o_(t):t}],[306,zh],[40091,Ys],[40092,Ys],[40093,Ys],[40094,Ys],[40095,Ys]]),st(ni,"exif",[[40960,u1],[36864,u1],[36867,zh],[36868,zh],[40962,c1],[40963,c1]]),st(ni,"gps",[[0,t=>Array.from(t).join(".")],[7,t=>Array.from(t).join(":")]]);class Uh extends En{static canHandle(e,n){return e.getUint8(n+1)===225&&e.getUint32(n+4)===1752462448&&e.getString(n+4,20)==="http://ns.adobe.com/"}static headerLength(e,n){return e.getString(n+4,34)==="http://ns.adobe.com/xmp/extension/"?79:33}static findPosition(e,n){let r=super.findPosition(e,n);return r.multiSegment=r.extended=r.headerLength===79,r.multiSegment?(r.chunkCount=e.getUint8(n+72),r.chunkNumber=e.getUint8(n+76),e.getUint8(n+77)!==0&&r.chunkNumber++):(r.chunkCount=1/0,r.chunkNumber=-1),r}static handleMultiSegments(e){return e.map(n=>n.chunk.getString()).join("")}normalizeInput(e){return typeof e=="string"?e:ai.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=function(s){let d={},o={};for(let a of y_)d[a]=[],o[a]=0;return s.replace(LM,(a,f,h)=>{if(f==="<"){let l=++o[h];return d[h].push(l),`${a}#${l}`}return`${a}#${d[h].pop()}`})}(e);let n=rs.findAll(e,"rdf","Description");n.length===0&&n.push(new rs("rdf","Description",void 0,e));let r,i={};for(let s of n)for(let d of s.properties)r=FM(d.ns,i),g_(d,r);return function(s){let d;for(let o in s)d=s[o]=mu(s[o]),d===void 0&&delete s[o];return mu(s)}(i)}assignToOutput(e,n){if(this.localOptions.parse)for(let[r,i]of Object.entries(n))switch(r){case"tiff":this.assignObjectToOutput(e,"ifd0",i);break;case"exif":this.assignObjectToOutput(e,"exif",i);break;case"xmlns":break;default:this.assignObjectToOutput(e,r,i)}else e.xmp=n}}we(Uh,"type","xmp"),we(Uh,"multiSegment",!0),ot.set("xmp",Uh);class yu{static findAll(e){return m_(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(yu.unpackMatch)}static unpackMatch(e){let n=e[1],r=e[2],i=e[3].slice(1,-1);return i=v_(i),new yu(n,r,i)}constructor(e,n,r){this.ns=e,this.name=n,this.value=r}serialize(){return this.value}}class rs{static findAll(e,n,r){if(n!==void 0||r!==void 0){n=n||"[\\w\\d-]+",r=r||"[\\w\\d-]+";var i=new RegExp(`<(${n}):(${r})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else i=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return m_(e,i).map(rs.unpackMatch)}static unpackMatch(e){let n=e[1],r=e[2],i=e[4],s=e[8];return new rs(n,r,i,s)}constructor(e,n,r,i){this.ns=e,this.name=n,this.attrString=r,this.innerXml=i,this.attrs=yu.findAll(r),this.children=rs.findAll(i),this.value=this.children.length===0?v_(i):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:e,name:n}=this;return e==="rdf"&&(n==="Seq"||n==="Bag"||n==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return RM(this.children.map(IM));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let e={};for(let n of this.properties)g_(n,e);return this.value!==void 0&&(e.value=this.value),mu(e)}}function g_(t,e){let n=t.serialize();n!==void 0&&(e[t.name]=n)}var IM=t=>t.serialize(),RM=t=>t.length===1?t[0]:t,FM=(t,e)=>e[t]?e[t]:e[t]={};function m_(t,e){let n,r=[];if(!t)return r;for(;(n=e.exec(t))!==null;)r.push(n);return r}function v_(t){if(function(r){return r==null||r==="null"||r==="undefined"||r===""||r.trim()===""}(t))return;let e=Number(t);if(!Number.isNaN(e))return e;let n=t.toLowerCase();return n==="true"||n!=="false"&&t.trim()}const y_=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],LM=new RegExp(`(<|\\/)(${y_.join("|")})`,"g");var jM=Object.freeze({__proto__:null,default:MM,Exifr:di,fileParsers:Qn,segmentParsers:ot,fileReaders:Zn,tagKeys:mt,tagValues:In,tagRevivers:ni,createDictionary:st,extendDictionary:Yi,fetchUrlAsArrayBuffer:Gi,readBlobAsArrayBuffer:Xi,chunkedProps:zr,otherSegments:ws,segments:Ki,tiffBlocks:Je,segmentsAndBlocks:Ur,tiffExtractables:Hr,inheritables:Ss,allFormatters:Wr,Options:na,parse:mf,gpsOnlyOptions:Im,gps:c_,thumbnailOnlyOptions:Rm,thumbnail:u_,thumbnailUrl:f_,orientationOnlyOptions:Fm,orientation:Lm,rotations:jm,get rotateCanvas(){return Ri},get rotateCss(){return Fi},rotation:h_});let h1=gu("fs",t=>t.promises);Zn.set("fs",class extends yf{async readWhole(){this.chunked=!1,this.fs=await h1;let t=await this.fs.readFile(this.input);this._swapBuffer(t)}async readChunked(){this.chunked=!0,this.fs=await h1,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(t,e){this.fh===void 0&&await this.open(),t+e>this.size&&(e=this.size-t);var n=this.subarray(t,e,!0);return await this.fh.read(n.dataView,0,e,t),n}async close(){if(this.fh){let t=this.fh;this.fh=void 0,await t.close()}}});Zn.set("base64",class extends yf{constructor(...t){super(...t),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(t,e){let n,r,i=this.input;t===void 0?(t=0,n=0,r=0):(n=4*Math.floor(t/3),r=t-n/4*3),e===void 0&&(e=this.size);let s=t+e,d=n+4*Math.ceil(s/3);i=i.slice(n,d);let o=Math.min(e,this.size-t);if(gf){let a=pf.from(i,"base64").slice(r,r+o);return this.set(a,t,!0)}{let a=this.subarray(t,o,!0),f=atob(i),h=a.toUint8();for(let l=0;l<o;l++)h[l]=f.charCodeAt(r+l);return a}}});class d1 extends vf{static canHandle(e,n){return n===18761||n===19789}extendOptions(e){let{ifd0:n,xmp:r,iptc:i,icc:s}=e;r.enabled&&n.deps.add(700),i.enabled&&n.deps.add(33723),s.enabled&&n.deps.add(34675),n.finalizeFilters()}async parse(){let{tiff:e,xmp:n,iptc:r,icc:i}=this.options;if(e.enabled||n.enabled||r.enabled||i.enabled){let s=Math.max(Ep(this.options),this.options.chunkSize);await this.file.ensureChunk(0,s),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let n=this.parsers.tiff[e];this.injectSegment(e,n)}}}we(d1,"type","tiff"),Qn.set("tiff",d1);let $M=gu("zlib");const NM=["ihdr","iccp","text","itxt","exif"];class p1 extends vf{constructor(...e){super(...e),we(this,"catchError",n=>this.errors.push(n)),we(this,"metaChunks",[]),we(this,"unknownChunks",[])}static canHandle(e,n){return n===35152&&e.getUint32(0)===2303741511&&e.getUint32(4)===218765834}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,n){let{file:r}=this;for(;e<n;){let i=r.getUint32(e),s=r.getUint32(e+4),d=r.getString(e+4,4).toLowerCase(),o=i+4+4+4,a={type:d,offset:e,length:o,start:e+4+4,size:i,marker:s};NM.includes(d)?this.metaChunks.push(a):this.unknownChunks.push(a),e+=o}}parseTextChunks(){let e=this.metaChunks.filter(n=>n.type==="text");for(let n of e){let[r,i]=this.file.getString(n.start,n.size).split("\0");this.injectKeyValToIhdr(r,i)}}injectKeyValToIhdr(e,n){let r=this.parsers.ihdr;r&&r.raw.set(e,n)}findIhdr(){let e=this.metaChunks.find(n=>n.type==="ihdr");e&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find(n=>n.type==="exif");e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter(n=>n.type==="itxt");for(let n of e)n.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",n.chunk)}async findIcc(){let e=this.metaChunks.find(o=>o.type==="iccp");if(!e)return;let{chunk:n}=e,r=n.getUint8Array(0,81),i=0;for(;i<80&&r[i]!==0;)i++;let s=i+2,d=n.getString(0,i);if(this.injectKeyValToIhdr("ProfileName",d),pu){let o=await $M,a=n.getUint8Array(s);a=o.inflateSync(a),this.injectSegment("icc",a)}}}we(p1,"type","png"),Qn.set("png",p1),st(mt,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),Yi(mt,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let g1=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];Yi(mt,"ifd0",g1),Yi(mt,"exif",g1),st(In,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class Hh extends En{static canHandle(e,n){return e.getUint8(n+1)===224&&e.getUint32(n+4)===1246120262&&e.getUint8(n+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}we(Hh,"type","jfif"),we(Hh,"headerLength",9),ot.set("jfif",Hh),st(mt,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class m1 extends En{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}we(m1,"type","ihdr"),ot.set("ihdr",m1),st(mt,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),st(In,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class Oc extends En{static canHandle(e,n){return e.getUint8(n+1)===226&&e.getUint32(n+4)===1229144927}static findPosition(e,n){let r=super.findPosition(e,n);return r.chunkNumber=e.getUint8(n+16),r.chunkCount=e.getUint8(n+17),r.multiSegment=r.chunkCount>1,r}static handleMultiSegments(e){return function(n){let r=function(i){let s=i[0].constructor,d=0;for(let f of i)d+=f.length;let o=new s(d),a=0;for(let f of i)o.set(f,a),a+=f.length;return o}(n.map(i=>i.chunk.toUint8()));return new ai(r)}(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&ut("ICC header is too short");for(let[n,r]of Object.entries(BM)){n=parseInt(n,10);let i=r(this.chunk,n);i!=="\0\0\0\0"&&e.set(n,i)}}parseTags(){let e,n,r,i,s,{raw:d}=this,o=this.chunk.getUint32(128),a=132,f=this.chunk.byteLength;for(;o--;){if(e=this.chunk.getString(a,4),n=this.chunk.getUint32(a+4),r=this.chunk.getUint32(a+8),i=this.chunk.getString(n,4),n+r>f)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");s=this.parseTag(i,n,r),s!==void 0&&s!=="\0\0\0\0"&&d.set(e,s),a+=12}}parseTag(e,n,r){switch(e){case"desc":return this.parseDesc(n);case"mluc":return this.parseMluc(n);case"text":return this.parseText(n,r);case"sig ":return this.parseSig(n)}if(!(n+r>this.chunk.byteLength))return this.chunk.getUint8Array(n,r)}parseDesc(e){let n=this.chunk.getUint32(e+8)-1;return Ii(this.chunk.getString(e+12,n))}parseText(e,n){return Ii(this.chunk.getString(e+8,n-8))}parseSig(e){return Ii(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:n}=this,r=n.getUint32(e+8),i=n.getUint32(e+12),s=e+16,d=[];for(let o=0;o<r;o++){let a=n.getString(s+0,2),f=n.getString(s+2,2),h=n.getUint32(s+4),l=n.getUint32(s+8)+e,c=Ii(n.getUnicodeString(l,h));d.push({lang:a,country:f,text:c}),s+=i}return r===1?d[0].text:d}translateValue(e,n){return typeof e=="string"?n[e]||n[e.toLowerCase()]||e:n[e]||e}}we(Oc,"type","icc"),we(Oc,"multiSegment",!0),we(Oc,"headerLength",18);const BM={4:rr,8:function(t,e){return[t.getUint8(e),t.getUint8(e+1)>>4,t.getUint8(e+1)%16].map(n=>n.toString(10)).join(".")},12:rr,16:rr,20:rr,24:function(t,e){const n=t.getUint16(e),r=t.getUint16(e+2)-1,i=t.getUint16(e+4),s=t.getUint16(e+6),d=t.getUint16(e+8),o=t.getUint16(e+10);return new Date(Date.UTC(n,r,i,s,d,o))},36:rr,40:rr,48:rr,52:rr,64:(t,e)=>t.getUint32(e),80:rr};function rr(t,e){return Ii(t.getString(e,4))}ot.set("icc",Oc),st(mt,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const ql={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},v1={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};st(In,"icc",[[4,ql],[12,v1],[40,Object.assign({},ql,v1)],[48,ql],[80,ql],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class Ql extends En{static canHandle(e,n,r){return e.getUint8(n+1)===237&&e.getString(n+4,9)==="Photoshop"&&this.containsIptc8bim(e,n,r)!==void 0}static headerLength(e,n,r){let i,s=this.containsIptc8bim(e,n,r);if(s!==void 0)return i=e.getUint8(n+s+7),i%2!=0&&(i+=1),i===0&&(i=4),s+8+i}static containsIptc8bim(e,n,r){for(let i=0;i<r;i++)if(this.isIptcSegmentHead(e,n+i))return i}static isIptcSegmentHead(e,n){return e.getUint8(n)===56&&e.getUint32(n)===943868237&&e.getUint16(n+4)===1028}parse(){let{raw:e}=this,n=this.chunk.byteLength-1,r=!1;for(let i=0;i<n;i++)if(this.chunk.getUint8(i)===28&&this.chunk.getUint8(i+1)===2){r=!0;let s=this.chunk.getUint16(i+3),d=this.chunk.getUint8(i+2),o=this.chunk.getLatin1String(i+5,s);e.set(d,this.pluralizeValue(e.get(d),o)),i+=4+s}else if(r)break;return this.translate(),this.output}pluralizeValue(e,n){return e!==void 0?e instanceof Array?(e.push(n),e):[e,n]:n}}we(Ql,"type","iptc"),we(Ql,"translateValues",!1),we(Ql,"reviveValues",!1),ot.set("iptc",Ql),st(mt,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),st(In,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);async function Ip(t){try{const e=await jM.parse(t),n={width:0,height:0,format:t.type.split("/")[1],size:t.size,created:t.lastModified?new Date(t.lastModified).toISOString():void 0},r=new Image,i=new Promise(d=>{r.onload=()=>{d({width:r.width,height:r.height})}});r.src=URL.createObjectURL(t);const s=await i;return{...n,...s,camera:e?{make:e.Make,model:e.Model,focalLength:e.FocalLength,aperture:e.FNumber,iso:e.ISO,exposureTime:e.ExposureTime}:void 0,location:e!=null&&e.latitude&&(e!=null&&e.longitude)?{latitude:e.latitude,longitude:e.longitude}:void 0}}catch(e){return console.error("Error extracting metadata:",e),{width:0,height:0,format:t.type.split("/")[1],size:t.size}}}function VM(t){const e=[`${t.width}${t.height}px`,`${(t.size/1024/1024).toFixed(2)}MB`,t.format.toUpperCase()];if(t.camera){const{make:n,model:r,focalLength:i,aperture:s,iso:d}=t.camera;n&&r&&e.push(`${n} ${r}`),i&&e.push(`${i}mm`),s&&e.push(`f/${s}`),d&&e.push(`ISO ${d}`)}return e.join("  ")}function wr(t){return Array.isArray?Array.isArray(t):w_(t)==="[object Array]"}const zM=1/0;function UM(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-zM?"-0":e}function HM(t){return t==null?"":UM(t)}function Hn(t){return typeof t=="string"}function x_(t){return typeof t=="number"}function WM(t){return t===!0||t===!1||GM(t)&&w_(t)=="[object Boolean]"}function b_(t){return typeof t=="object"}function GM(t){return b_(t)&&t!==null}function Jt(t){return t!=null}function Wh(t){return!t.trim().length}function w_(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const XM="Incorrect 'index' type",YM=t=>`Invalid value for key ${t}`,KM=t=>`Pattern length exceeds max of ${t}.`,qM=t=>`Missing ${t} property in key`,QM=t=>`Property 'weight' in key '${t}' must be a positive integer`,y1=Object.prototype.hasOwnProperty;class JM{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let i=S_(r);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function S_(t){let e=null,n=null,r=null,i=1,s=null;if(Hn(t)||wr(t))r=t,e=x1(t),n=Rp(t);else{if(!y1.call(t,"name"))throw new Error(qM("name"));const d=t.name;if(r=d,y1.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(QM(d));e=x1(d),n=Rp(d),s=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:s}}function x1(t){return wr(t)?t:t.split(".")}function Rp(t){return wr(t)?t.join("."):t}function ZM(t,e){let n=[],r=!1;const i=(s,d,o)=>{if(Jt(s))if(!d[o])n.push(s);else{let a=d[o];const f=s[a];if(!Jt(f))return;if(o===d.length-1&&(Hn(f)||x_(f)||WM(f)))n.push(HM(f));else if(wr(f)){r=!0;for(let h=0,l=f.length;h<l;h+=1)i(f[h],d,o+1)}else d.length&&i(f,d,o+1)}};return i(t,Hn(e)?e.split("."):e,0),r?n:n[0]}const e4={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},t4={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},n4={location:0,threshold:.6,distance:100},r4={useExtendedSearch:!1,getFn:ZM,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var _e={...t4,...e4,...n4,...r4};const i4=/[^ ]+/g;function a4(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(i){const s=i.match(i4).length;if(n.has(s))return n.get(s);const d=1/Math.pow(s,.5*t),o=parseFloat(Math.round(d*r)/r);return n.set(s,o),o},clear(){n.clear()}}}class $m{constructor({getFn:e=_e.getFn,fieldNormWeight:n=_e.fieldNormWeight}={}){this.norm=a4(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Hn(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();Hn(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Jt(e)||Wh(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((i,s)=>{let d=i.getFn?i.getFn(e):this.getFn(e,i.path);if(Jt(d)){if(wr(d)){let o=[];const a=[{nestedArrIndex:-1,value:d}];for(;a.length;){const{nestedArrIndex:f,value:h}=a.pop();if(Jt(h))if(Hn(h)&&!Wh(h)){let l={v:h,i:f,n:this.norm.get(h)};o.push(l)}else wr(h)&&h.forEach((l,c)=>{a.push({nestedArrIndex:c,value:l})})}r.$[s]=o}else if(Hn(d)&&!Wh(d)){let o={v:d,n:this.norm.get(d)};r.$[s]=o}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function C_(t,e,{getFn:n=_e.getFn,fieldNormWeight:r=_e.fieldNormWeight}={}){const i=new $m({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(S_)),i.setSources(e),i.create(),i}function s4(t,{getFn:e=_e.getFn,fieldNormWeight:n=_e.fieldNormWeight}={}){const{keys:r,records:i}=t,s=new $m({getFn:e,fieldNormWeight:n});return s.setKeys(r),s.setIndexRecords(i),s}function Jl(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=_e.distance,ignoreLocation:s=_e.ignoreLocation}={}){const d=e/t.length;if(s)return d;const o=Math.abs(r-n);return i?d+o/i:o?1:d}function o4(t=[],e=_e.minMatchCharLength){let n=[],r=-1,i=-1,s=0;for(let d=t.length;s<d;s+=1){let o=t[s];o&&r===-1?r=s:!o&&r!==-1&&(i=s-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[s-1]&&s-r>=e&&n.push([r,s-1]),n}const Ei=32;function l4(t,e,n,{location:r=_e.location,distance:i=_e.distance,threshold:s=_e.threshold,findAllMatches:d=_e.findAllMatches,minMatchCharLength:o=_e.minMatchCharLength,includeMatches:a=_e.includeMatches,ignoreLocation:f=_e.ignoreLocation}={}){if(e.length>Ei)throw new Error(KM(Ei));const h=e.length,l=t.length,c=Math.max(0,Math.min(r,l));let u=s,p=c;const v=o>1||a,g=v?Array(l):[];let m;for(;(m=t.indexOf(e,p))>-1;){let _=Jl(e,{currentLocation:m,expectedLocation:c,distance:i,ignoreLocation:f});if(u=Math.min(_,u),p=m+h,v){let C=0;for(;C<h;)g[m+C]=1,C+=1}}p=-1;let y=[],x=1,b=h+l;const w=1<<h-1;for(let _=0;_<h;_+=1){let C=0,k=b;for(;C<k;)Jl(e,{errors:_,currentLocation:c+k,expectedLocation:c,distance:i,ignoreLocation:f})<=u?C=k:b=k,k=Math.floor((b-C)/2+C);b=k;let A=Math.max(1,c-k+1),F=d?l:Math.min(c+k,l)+h,B=Array(F+2);B[F+1]=(1<<_)-1;for(let L=F;L>=A;L-=1){let z=L-1,I=n[t.charAt(z)];if(v&&(g[z]=+!!I),B[L]=(B[L+1]<<1|1)&I,_&&(B[L]|=(y[L+1]|y[L])<<1|1|y[L+1]),B[L]&w&&(x=Jl(e,{errors:_,currentLocation:z,expectedLocation:c,distance:i,ignoreLocation:f}),x<=u)){if(u=x,p=z,p<=c)break;A=Math.max(1,2*c-p)}}if(Jl(e,{errors:_+1,currentLocation:c,expectedLocation:c,distance:i,ignoreLocation:f})>u)break;y=B}const S={isMatch:p>=0,score:Math.max(.001,x)};if(v){const _=o4(g,o);_.length?a&&(S.indices=_):S.isMatch=!1}return S}function c4(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}class __{constructor(e,{location:n=_e.location,threshold:r=_e.threshold,distance:i=_e.distance,includeMatches:s=_e.includeMatches,findAllMatches:d=_e.findAllMatches,minMatchCharLength:o=_e.minMatchCharLength,isCaseSensitive:a=_e.isCaseSensitive,ignoreLocation:f=_e.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:d,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:f},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(c,u)=>{this.chunks.push({pattern:c,alphabet:c4(c),startIndex:u})},l=this.pattern.length;if(l>Ei){let c=0;const u=l%Ei,p=l-u;for(;c<p;)h(this.pattern.substr(c,Ei),c),c+=Ei;if(u){const v=l-Ei;h(this.pattern.substr(v),v)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let p={isMatch:!0,score:0};return r&&(p.indices=[[0,e.length-1]]),p}const{location:i,distance:s,threshold:d,findAllMatches:o,minMatchCharLength:a,ignoreLocation:f}=this.options;let h=[],l=0,c=!1;this.chunks.forEach(({pattern:p,alphabet:v,startIndex:g})=>{const{isMatch:m,score:y,indices:x}=l4(e,p,v,{location:i+g,distance:s,threshold:d,findAllMatches:o,minMatchCharLength:a,includeMatches:r,ignoreLocation:f});m&&(c=!0),l+=y,m&&x&&(h=[...h,...x])});let u={isMatch:c,score:c?l/this.chunks.length:1};return c&&r&&(u.indices=h),u}}class pi{constructor(e){this.pattern=e}static isMultiMatch(e){return b1(e,this.multiRegex)}static isSingleMatch(e){return b1(e,this.singleRegex)}search(){}}function b1(t,e){const n=t.match(e);return n?n[1]:null}class u4 extends pi{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class f4 extends pi{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class h4 extends pi{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class d4 extends pi{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class p4 extends pi{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class g4 extends pi{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class T_ extends pi{constructor(e,{location:n=_e.location,threshold:r=_e.threshold,distance:i=_e.distance,includeMatches:s=_e.includeMatches,findAllMatches:d=_e.findAllMatches,minMatchCharLength:o=_e.minMatchCharLength,isCaseSensitive:a=_e.isCaseSensitive,ignoreLocation:f=_e.ignoreLocation}={}){super(e),this._bitapSearch=new __(e,{location:n,threshold:r,distance:i,includeMatches:s,findAllMatches:d,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class k_ extends pi{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const i=[],s=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+s,i.push([r,n-1]);const d=!!i.length;return{isMatch:d,score:d?0:1,indices:i}}}const Fp=[u4,k_,h4,d4,g4,p4,f4,T_],w1=Fp.length,m4=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,v4="|";function y4(t,e={}){return t.split(v4).map(n=>{let r=n.trim().split(m4).filter(s=>s&&!!s.trim()),i=[];for(let s=0,d=r.length;s<d;s+=1){const o=r[s];let a=!1,f=-1;for(;!a&&++f<w1;){const h=Fp[f];let l=h.isMultiMatch(o);l&&(i.push(new h(l,e)),a=!0)}if(!a)for(f=-1;++f<w1;){const h=Fp[f];let l=h.isSingleMatch(o);if(l){i.push(new h(l,e));break}}}return i})}const x4=new Set([T_.type,k_.type]);class b4{constructor(e,{isCaseSensitive:n=_e.isCaseSensitive,includeMatches:r=_e.includeMatches,minMatchCharLength:i=_e.minMatchCharLength,ignoreLocation:s=_e.ignoreLocation,findAllMatches:d=_e.findAllMatches,location:o=_e.location,threshold:a=_e.threshold,distance:f=_e.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:i,findAllMatches:d,ignoreLocation:s,location:o,threshold:a,distance:f},this.pattern=n?e:e.toLowerCase(),this.query=y4(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let s=0,d=[],o=0;for(let a=0,f=n.length;a<f;a+=1){const h=n[a];d.length=0,s=0;for(let l=0,c=h.length;l<c;l+=1){const u=h[l],{isMatch:p,indices:v,score:g}=u.search(e);if(p){if(s+=1,o+=g,r){const m=u.constructor.type;x4.has(m)?d=[...d,...v]:d.push(v)}}else{o=0,s=0,d.length=0;break}}if(s){let l={isMatch:!0,score:o/s};return r&&(l.indices=d),l}}return{isMatch:!1,score:1}}}const Lp=[];function w4(...t){Lp.push(...t)}function jp(t,e){for(let n=0,r=Lp.length;n<r;n+=1){let i=Lp[n];if(i.condition(t,e))return new i(t,e)}return new __(t,e)}const xu={AND:"$and",OR:"$or"},$p={PATH:"$path",PATTERN:"$val"},Np=t=>!!(t[xu.AND]||t[xu.OR]),S4=t=>!!t[$p.PATH],C4=t=>!wr(t)&&b_(t)&&!Np(t),S1=t=>({[xu.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function O_(t,e,{auto:n=!0}={}){const r=i=>{let s=Object.keys(i);const d=S4(i);if(!d&&s.length>1&&!Np(i))return r(S1(i));if(C4(i)){const a=d?i[$p.PATH]:s[0],f=d?i[$p.PATTERN]:i[a];if(!Hn(f))throw new Error(YM(a));const h={keyId:Rp(a),pattern:f};return n&&(h.searcher=jp(f,e)),h}let o={children:[],operator:s[0]};return s.forEach(a=>{const f=i[a];wr(f)&&f.forEach(h=>{o.children.push(r(h))})}),o};return Np(t)||(t=S1(t)),r(t)}function _4(t,{ignoreFieldNorm:e=_e.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:s,score:d})=>{const o=i?i.weight:null;r*=Math.pow(d===0&&o?Number.EPSILON:d,(o||1)*(e?1:s))}),n.score=r})}function T4(t,e){const n=t.matches;e.matches=[],Jt(n)&&n.forEach(r=>{if(!Jt(r.indices)||!r.indices.length)return;const{indices:i,value:s}=r;let d={indices:i,value:s};r.key&&(d.key=r.key.src),r.idx>-1&&(d.refIndex=r.idx),e.matches.push(d)})}function k4(t,e){e.score=t.score}function O4(t,e,{includeMatches:n=_e.includeMatches,includeScore:r=_e.includeScore}={}){const i=[];return n&&i.push(T4),r&&i.push(k4),t.map(s=>{const{idx:d}=s,o={item:e[d],refIndex:d};return i.length&&i.forEach(a=>{a(s,o)}),o})}class Cs{constructor(e,n={},r){this.options={..._e,...n},this.options.useExtendedSearch,this._keyStore=new JM(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof $m))throw new Error(XM);this._myIndex=n||C_(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Jt(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const s=this._docs[r];e(s,r)&&(this.removeAt(r),r-=1,i-=1,n.push(s))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:s,sortFn:d,ignoreFieldNorm:o}=this.options;let a=Hn(e)?Hn(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return _4(a,{ignoreFieldNorm:o}),s&&a.sort(d),x_(n)&&n>-1&&(a=a.slice(0,n)),O4(a,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const n=jp(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:s,i:d,n:o})=>{if(!Jt(s))return;const{isMatch:a,score:f,indices:h}=n.searchIn(s);a&&i.push({item:s,idx:d,matches:[{score:f,value:s,norm:o,indices:h}]})}),i}_searchLogical(e){const n=O_(e,this.options),r=(o,a,f)=>{if(!o.children){const{keyId:l,searcher:c}=o,u=this._findMatches({key:this._keyStore.get(l),value:this._myIndex.getValueForItemAtKeyId(a,l),searcher:c});return u&&u.length?[{idx:f,item:a,matches:u}]:[]}const h=[];for(let l=0,c=o.children.length;l<c;l+=1){const u=o.children[l],p=r(u,a,f);if(p.length)h.push(...p);else if(o.operator===xu.AND)return[]}return h},i=this._myIndex.records,s={},d=[];return i.forEach(({$:o,i:a})=>{if(Jt(o)){let f=r(n,o,a);f.length&&(s[a]||(s[a]={idx:a,item:o,matches:[]},d.push(s[a])),f.forEach(({matches:h})=>{s[a].matches.push(...h)}))}}),d}_searchObjectList(e){const n=jp(e,this.options),{keys:r,records:i}=this._myIndex,s=[];return i.forEach(({$:d,i:o})=>{if(!Jt(d))return;let a=[];r.forEach((f,h)=>{a.push(...this._findMatches({key:f,value:d[h],searcher:n}))}),a.length&&s.push({idx:o,item:d,matches:a})}),s}_findMatches({key:e,value:n,searcher:r}){if(!Jt(n))return[];let i=[];if(wr(n))n.forEach(({v:s,i:d,n:o})=>{if(!Jt(s))return;const{isMatch:a,score:f,indices:h}=r.searchIn(s);a&&i.push({score:f,key:e,value:s,idx:d,norm:o,indices:h})});else{const{v:s,n:d}=n,{isMatch:o,score:a,indices:f}=r.searchIn(s);o&&i.push({score:a,key:e,value:s,norm:d,indices:f})}return i}}Cs.version="7.0.0";Cs.createIndex=C_;Cs.parseIndex=s4;Cs.config=_e;Cs.parseQuery=O_;w4(b4);const er=aM((t,e)=>({images:[],selectedImage:null,tags:[{value:"nature",label:"Nature",category:"Nature"},{value:"people",label:"People",category:"People"},{value:"objects",label:"Objects",category:"Objects"}],filterPresets:[{id:"vintage",name:"Vintage",filters:{brightness:90,contrast:110,saturation:80,sepia:50,vignette:30,vintage:100,dramatic:0,vibrant:0,blur:0,sharpen:0,noise:20,preset:"vintage"}},{id:"dramatic",name:"Dramatic",filters:{brightness:90,contrast:150,saturation:120,sepia:0,vignette:50,vintage:0,dramatic:100,vibrant:0,blur:0,sharpen:30,noise:10,preset:"dramatic"}}],batchOperations:[],searchQuery:"",sortBy:"name",sortDirection:"asc",addImage:async n=>{const r=await Ip(n.file);t(i=>({images:[...i.images,{...n,metadata:r,editHistory:[],filters:{brightness:100,contrast:100,saturation:100,sepia:0,blur:0,sharpen:0,noise:0,vignette:0,vintage:0,dramatic:0,vibrant:0,preset:""}}]}))},removeImage:n=>t(r=>({images:r.images.filter(i=>i.id!==n),selectedImage:r.selectedImage===n?null:r.selectedImage})),updateImage:(n,r)=>t(i=>({images:i.images.map(s=>s.id===n?{...s,...r}:s)})),setSelectedImage:n=>t({selectedImage:n}),addTag:n=>t(r=>({tags:[...r.tags,n]})),updateTag:(n,r)=>t(i=>({tags:i.tags.map(s=>s.value===n?{...s,...r}:s)})),removeTag:n=>t(r=>({tags:r.tags.filter(i=>i.value!==n)})),addEditAction:(n,r)=>t(i=>({images:i.images.map(s=>s.id===n?{...s,editHistory:[...s.editHistory||[],r]}:s)})),addBatchOperation:async n=>{const{images:r,updateImage:i,addEditAction:s}=e(),d=r.filter(o=>n.imageIds.includes(o.id));for(const o of d){const a=await $h(o,n.settings),f={id:Date.now().toString(),type:n.type,timestamp:Date.now(),description:`Batch ${n.type} operation`,params:n.settings};i(o.id,a),s(o.id,f)}t(o=>({batchOperations:[...o.batchOperations,n]}))},addFilterPreset:n=>t(r=>({filterPresets:[...r.filterPresets,n]})),applyFilterPreset:async(n,r)=>{const{images:i,filterPresets:s,updateImage:d,addEditAction:o}=e(),a=i.find(h=>h.id===n),f=s.find(h=>h.id===r);if(a&&f){const h=await $h(a,{filters:f.filters}),l={id:Date.now().toString(),type:"preset",timestamp:Date.now(),description:`Applied ${f.name} preset`,params:f.filters};d(n,h),o(n,l)}},exportImage:async(n,r)=>{const{images:i}=e(),s=i.find(d=>d.id===n);s&&await $h(s,{export:r})},setSearchQuery:n=>t({searchQuery:n}),setSortBy:n=>t({sortBy:n}),setSortDirection:n=>t({sortDirection}),getFilteredAndSortedImages:()=>{const{images:n,searchQuery:r,sortBy:i,sortDirection:s,tags:d}=e();let o=n;return r&&(o=new Cs(n,{keys:["file.name","tags"],threshold:.3}).search(r).map(f=>f.item)),[...o].sort((a,f)=>{let h=0;switch(i){case"name":h=a.file.name.localeCompare(f.file.name);break;case"date":h=a.file.lastModified-f.file.lastModified;break;case"size":h=a.file.size-f.file.size;break}return s==="asc"?h:-h})}})),E4=()=>Math.random().toString(36).substring(2)+Date.now().toString(36);function P4(){const t=er(s=>s.addImage),e=$.useCallback(async s=>{const d=async o=>{try{const a=URL.createObjectURL(o),f={id:E4(),file:o,preview:a,tags:[],editHistory:[],filters:{brightness:100,contrast:100,saturation:100,vintage:0,dramatic:0,vibrant:0}};t(f),Ie.success(`Successfully uploaded ${o.name}`)}catch{Ie.error(`Failed to upload ${o.name}`)}};for(const o of s)await d(o)},[t]),{getRootProps:n,getInputProps:r,isDragActive:i}=MC({onDrop:e,accept:{"image/*":[".png",".jpg",".jpeg",".gif",".webp"]}});return R.jsxs("div",{...n(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors
        ${i?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-purple-400"}`,children:[R.jsx("input",{...r()}),R.jsx(D5,{className:"mx-auto h-12 w-12 text-gray-400"}),R.jsx("p",{className:"mt-2 text-sm text-gray-600",children:i?"Drop the images here...":"Drag & drop images here, or click to select files"}),R.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supports PNG, JPG, JPEG, GIF, and WebP"})]})}function A4(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function xf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Bp=t=>Array.isArray(t);function E_(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Jo(t){return typeof t=="string"||Array.isArray(t)}function C1(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Nm(t,e,n,r){if(typeof e=="function"){const[i,s]=C1(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=C1(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function bf(t,e,n){const r=t.getProps();return Nm(r,e,n!==void 0?n:r.custom,t)}const Bm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vm=["initial",...Bm],pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ra=new Set(pl),hr=t=>t*1e3,dr=t=>t/1e3,M4={type:"spring",stiffness:500,damping:25,restSpeed:10},D4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),I4={type:"keyframes",duration:.8},R4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},F4=(t,{keyframes:e})=>e.length>2?I4:ra.has(t)?t.startsWith("scale")?D4(e[1]):M4:R4;function zm(t,e){return t?t[e]||t.default||t:void 0}const L4={skipAnimations:!1,useManualTiming:!1},j4=t=>t!==null;function wf(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(j4),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Mt=t=>t;function $4(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function o(f){s.has(f)&&(a.schedule(f),t()),f(d)}const a={schedule:(f,h=!1,l=!1)=>{const u=l&&r?e:n;return h&&s.add(f),u.has(f)||u.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(d=f,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(o),r=!1,i&&(i=!1,a.process(f))}};return a}const Zl=["read","resolveKeyframes","update","preRender","render","postRender"],N4=40;function P_(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,d=Zl.reduce((m,y)=>(m[y]=$4(s),m),{}),{read:o,resolveKeyframes:a,update:f,preRender:h,render:l,postRender:c}=d,u=()=>{const m=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(m-i.timestamp,N4),1),i.timestamp=m,i.isProcessing=!0,o.process(i),a.process(i),f.process(i),h.process(i),l.process(i),c.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(u))},p=()=>{n=!0,r=!0,i.isProcessing||t(u)};return{schedule:Zl.reduce((m,y)=>{const x=d[y];return m[y]=(b,w=!1,S=!1)=>(n||p(),x.schedule(b,w,S)),m},{}),cancel:m=>{for(let y=0;y<Zl.length;y++)d[Zl[y]].cancel(m)},state:i,steps:d}}const{schedule:je,cancel:si,state:xt,steps:Gh}=P_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mt,!0),A_=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,B4=1e-7,V4=12;function z4(t,e,n,r,i){let s,d,o=0;do d=e+(n-e)/2,s=A_(d,r,i)-t,s>0?n=d:e=d;while(Math.abs(s)>B4&&++o<V4);return d}function gl(t,e,n,r){if(t===e&&n===r)return Mt;const i=s=>z4(s,0,1,t,n);return s=>s===0||s===1?s:A_(i(s),e,r)}const M_=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,D_=t=>e=>1-t(1-e),I_=gl(.33,1.53,.69,.99),Um=D_(I_),R_=M_(Um),F_=t=>(t*=2)<1?.5*Um(t):.5*(2-Math.pow(2,-10*(t-1))),Hm=t=>1-Math.sin(Math.acos(t)),L_=D_(Hm),j_=M_(Hm),$_=t=>/^0[^.\s]+$/u.test(t);function U4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||$_(t):!0}let Vp=Mt;const N_=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),B_=t=>e=>typeof e=="string"&&e.startsWith(t),V_=B_("--"),H4=B_("var(--"),Wm=t=>H4(t)?W4.test(t.split("/*")[0].trim()):!1,W4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,G4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function X4(t){const e=G4.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function z_(t,e,n=1){const[r,i]=X4(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const d=s.trim();return N_(d)?parseFloat(d):d}return Wm(i)?z_(i,e,n+1):i}const Sr=(t,e,n)=>n>e?e:n<t?t:n,_s={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zo={..._s,transform:t=>Sr(0,1,t)},ec={..._s,default:1},ml=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ir=ml("deg"),Xn=ml("%"),xe=ml("px"),Y4=ml("vh"),K4=ml("vw"),_1={...Xn,parse:t=>Xn.parse(t)/100,transform:t=>Xn.transform(t*100)},q4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),T1=t=>t===_s||t===xe,k1=(t,e)=>parseFloat(t.split(", ")[e]),O1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return k1(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?k1(s[1],t):0}},Q4=new Set(["x","y","z"]),J4=pl.filter(t=>!Q4.has(t));function Z4(t){const e=[];return J4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ps={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:O1(4,13),y:O1(5,14)};ps.translateX=ps.x;ps.translateY=ps.y;const U_=t=>e=>e.test(t),eD={test:t=>t==="auto",parse:t=>t},H_=[_s,xe,Xn,Ir,K4,Y4,eD],E1=t=>H_.find(U_(t)),Bi=new Set;let zp=!1,Up=!1;function W_(){if(Up){const t=Array.from(Bi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Z4(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,d])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(d)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Up=!1,zp=!1,Bi.forEach(t=>t.complete()),Bi.clear()}function G_(){Bi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Up=!0)})}function tD(){G_(),W_()}class Gm{constructor(e,n,r,i,s,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bi.add(this),zp||(zp=!0,je.read(G_),je.resolveKeyframes(W_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const d=i==null?void 0:i.get(),o=e[e.length-1];if(d!==void 0)e[0]=d;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&d===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ko=t=>Math.round(t*1e5)/1e5,Xm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nD(t){return t==null}const rD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ym=(t,e)=>n=>!!(typeof n=="string"&&rD.test(n)&&n.startsWith(t)||e&&!nD(n)&&Object.prototype.hasOwnProperty.call(n,e)),X_=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,d,o]=r.match(Xm);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(d),alpha:o!==void 0?parseFloat(o):1}},iD=t=>Sr(0,255,t),Xh={..._s,transform:t=>Math.round(iD(t))},Li={test:Ym("rgb","red"),parse:X_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Xh.transform(t)+", "+Xh.transform(e)+", "+Xh.transform(n)+", "+ko(Zo.transform(r))+")"};function aD(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Hp={test:Ym("#"),parse:aD,transform:Li.transform},Ga={test:Ym("hsl","hue"),parse:X_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Xn.transform(ko(e))+", "+Xn.transform(ko(n))+", "+ko(Zo.transform(r))+")"},Et={test:t=>Li.test(t)||Hp.test(t)||Ga.test(t),parse:t=>Li.test(t)?Li.parse(t):Ga.test(t)?Ga.parse(t):Hp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Li.transform(t):Ga.transform(t)},sD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oD(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Xm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(sD))===null||n===void 0?void 0:n.length)||0)>0}const Y_="number",K_="color",lD="var",cD="var(",P1="${}",uD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function el(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(uD,a=>(Et.test(a)?(r.color.push(s),i.push(K_),n.push(Et.parse(a))):a.startsWith(cD)?(r.var.push(s),i.push(lD),n.push(a)):(r.number.push(s),i.push(Y_),n.push(parseFloat(a))),++s,P1)).split(P1);return{values:n,split:o,indexes:r,types:i}}function q_(t){return el(t).values}function Q_(t){const{split:e,types:n}=el(t),r=e.length;return i=>{let s="";for(let d=0;d<r;d++)if(s+=e[d],i[d]!==void 0){const o=n[d];o===Y_?s+=ko(i[d]):o===K_?s+=Et.transform(i[d]):s+=i[d]}return s}}const fD=t=>typeof t=="number"?0:t;function hD(t){const e=q_(t);return Q_(t)(e.map(fD))}const oi={test:oD,parse:q_,createTransformer:Q_,getAnimatableNone:hD},dD=new Set(["brightness","contrast","saturate","opacity"]);function pD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Xm)||[];if(!r)return t;const i=n.replace(r,"");let s=dD.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const gD=/\b([a-z-]*)\(.*?\)/gu,Wp={...oi,getAnimatableNone:t=>{const e=t.match(gD);return e?e.map(pD).join(" "):t}},mD={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe},vD={rotate:Ir,rotateX:Ir,rotateY:Ir,rotateZ:Ir,scale:ec,scaleX:ec,scaleY:ec,scaleZ:ec,skew:Ir,skewX:Ir,skewY:Ir,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Zo,originX:_1,originY:_1,originZ:xe},A1={..._s,transform:Math.round},Km={...mD,...vD,zIndex:A1,size:xe,fillOpacity:Zo,strokeOpacity:Zo,numOctaves:A1},yD={...Km,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:Wp,WebkitFilter:Wp},qm=t=>yD[t];function J_(t,e){let n=qm(t);return n!==Wp&&(n=oi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const xD=new Set(["auto","none","0"]);function bD(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!xD.has(s)&&el(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=J_(n,i)}class Z_ extends Gm{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let f=e[a];if(typeof f=="string"&&(f=f.trim(),Wm(f))){const h=z_(f,n.current);h!==void 0&&(e[a]=h),a===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!q4.has(r)||e.length!==2)return;const[i,s]=e,d=E1(i),o=E1(s);if(d!==o)if(T1(d)&&T1(o))for(let a=0;a<e.length;a++){const f=e[a];typeof f=="string"&&(e[a]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)U4(e[i])&&r.push(i);r.length&&bD(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ps[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const d=i.length-1,o=i[d];i[d]=ps[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([a,f])=>{n.getValue(a).set(f)}),this.resolveNoneKeyframes()}}function Qm(t){return typeof t=="function"}let Ec;function wD(){Ec=void 0}const Yn={now:()=>(Ec===void 0&&Yn.set(xt.isProcessing||L4.useManualTiming?xt.timestamp:performance.now()),Ec),set:t=>{Ec=t,queueMicrotask(wD)}},M1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(oi.test(t)||t==="0")&&!t.startsWith("url("));function SD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function CD(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],d=M1(i,e),o=M1(s,e);return!d||!o?!1:SD(t)||(n==="spring"||Qm(n))&&r}const _D=40;class eT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:d="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Yn.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:d,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>_D?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&tD(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Yn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:d,onComplete:o,onUpdate:a,isGenerator:f}=this.options;if(!f&&!CD(e,r,i,s))if(d)this.options.duration=0;else{a==null||a(wf(e,this.options,n)),o==null||o(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const gs=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},tT=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(gs(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function nT(t,e){return e?t*(1e3/e):0}const TD=5;function rT(t,e,n){const r=Math.max(e-TD,0);return nT(n-t(r),e-r)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yh=.001;function kD({duration:t=Ze.duration,bounce:e=Ze.bounce,velocity:n=Ze.velocity,mass:r=Ze.mass}){let i,s,d=1-e;d=Sr(Ze.minDamping,Ze.maxDamping,d),t=Sr(Ze.minDuration,Ze.maxDuration,dr(t)),d<1?(i=f=>{const h=f*d,l=h*t,c=h-n,u=Gp(f,d),p=Math.exp(-l);return Yh-c/u*p},s=f=>{const l=f*d*t,c=l*n+n,u=Math.pow(d,2)*Math.pow(f,2)*t,p=Math.exp(-l),v=Gp(Math.pow(f,2),d);return(-i(f)+Yh>0?-1:1)*((c-u)*p)/v}):(i=f=>{const h=Math.exp(-f*t),l=(f-n)*t+1;return-Yh+h*l},s=f=>{const h=Math.exp(-f*t),l=(n-f)*(t*t);return h*l});const o=5/t,a=ED(i,s,o);if(t=hr(t),isNaN(a))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:t};{const f=Math.pow(a,2)*r;return{stiffness:f,damping:d*2*Math.sqrt(r*f),duration:t}}}const OD=12;function ED(t,e,n){let r=n;for(let i=1;i<OD;i++)r=r-t(r)/e(r);return r}function Gp(t,e){return t*Math.sqrt(1-e*e)}const Xp=2e4;function iT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Xp;)e+=n,r=t.next(e);return e>=Xp?1/0:e}const PD=["duration","bounce"],AD=["stiffness","damping","mass"];function D1(t,e){return e.some(n=>t[n]!==void 0)}function MD(t){let e={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...t};if(!D1(t,AD)&&D1(t,PD))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Sr(.05,1,1-t.bounce)*Math.sqrt(i);e={...e,mass:Ze.mass,stiffness:i,damping:s}}else{const n=kD(t);e={...e,...n,mass:Ze.mass},e.isResolvedFromDuration=!0}return e}function aT(t=Ze.visualDuration,e=Ze.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],d=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:a,damping:f,mass:h,duration:l,velocity:c,isResolvedFromDuration:u}=MD({...n,velocity:-dr(n.velocity||0)}),p=c||0,v=f/(2*Math.sqrt(a*h)),g=d-s,m=dr(Math.sqrt(a/h)),y=Math.abs(g)<5;r||(r=y?Ze.restSpeed.granular:Ze.restSpeed.default),i||(i=y?Ze.restDelta.granular:Ze.restDelta.default);let x;if(v<1){const w=Gp(m,v);x=S=>{const _=Math.exp(-v*m*S);return d-_*((p+v*m*g)/w*Math.sin(w*S)+g*Math.cos(w*S))}}else if(v===1)x=w=>d-Math.exp(-m*w)*(g+(p+m*g)*w);else{const w=m*Math.sqrt(v*v-1);x=S=>{const _=Math.exp(-v*m*S),C=Math.min(w*S,300);return d-_*((p+v*m*g)*Math.sinh(C)+w*g*Math.cosh(C))/w}}const b={calculatedDuration:u&&l||null,next:w=>{const S=x(w);if(u)o.done=w>=l;else{let _=0;v<1&&(_=w===0?hr(p):rT(x,w,S));const C=Math.abs(_)<=r,k=Math.abs(d-S)<=i;o.done=C&&k}return o.value=o.done?d:S,o},toString:()=>{const w=Math.min(iT(b),Xp),S=tT(_=>b.next(w*_).value,w,30);return w+"ms "+S}};return b}function I1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:d,min:o,max:a,restDelta:f=.5,restSpeed:h}){const l=t[0],c={done:!1,value:l},u=C=>o!==void 0&&C<o||a!==void 0&&C>a,p=C=>o===void 0?a:a===void 0||Math.abs(o-C)<Math.abs(a-C)?o:a;let v=n*e;const g=l+v,m=d===void 0?g:d(g);m!==g&&(v=m-l);const y=C=>-v*Math.exp(-C/r),x=C=>m+y(C),b=C=>{const k=y(C),A=x(C);c.done=Math.abs(k)<=f,c.value=c.done?m:A};let w,S;const _=C=>{u(c.value)&&(w=C,S=aT({keyframes:[c.value,p(c.value)],velocity:rT(x,C,c.value),damping:i,stiffness:s,restDelta:f,restSpeed:h}))};return _(0),{calculatedDuration:null,next:C=>{let k=!1;return!S&&w===void 0&&(k=!0,b(C),_(C)),w!==void 0&&C>=w?S.next(C-w):(!k&&b(C),c)}}}const DD=gl(.42,0,1,1),ID=gl(0,0,.58,1),sT=gl(.42,0,.58,1),RD=t=>Array.isArray(t)&&typeof t[0]!="number",Jm=t=>Array.isArray(t)&&typeof t[0]=="number",R1={linear:Mt,easeIn:DD,easeInOut:sT,easeOut:ID,circIn:Hm,circInOut:j_,circOut:L_,backIn:Um,backInOut:R_,backOut:I_,anticipate:F_},F1=t=>{if(Jm(t)){Vp(t.length===4);const[e,n,r,i]=t;return gl(e,n,r,i)}else if(typeof t=="string")return Vp(R1[t]!==void 0),R1[t];return t},FD=(t,e)=>n=>e(t(n)),pr=(...t)=>t.reduce(FD),Ke=(t,e,n)=>t+(e-t)*n;function Kh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function LD({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,d=0;if(!e)i=s=d=n;else{const o=n<.5?n*(1+e):n+e-n*e,a=2*n-o;i=Kh(a,o,t+1/3),s=Kh(a,o,t),d=Kh(a,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(d*255),alpha:r}}function bu(t,e){return n=>n>0?e:t}const qh=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},jD=[Hp,Li,Ga],$D=t=>jD.find(e=>e.test(t));function L1(t){const e=$D(t);if(!e)return!1;let n=e.parse(t);return e===Ga&&(n=LD(n)),n}const j1=(t,e)=>{const n=L1(t),r=L1(e);if(!n||!r)return bu(t,e);const i={...n};return s=>(i.red=qh(n.red,r.red,s),i.green=qh(n.green,r.green,s),i.blue=qh(n.blue,r.blue,s),i.alpha=Ke(n.alpha,r.alpha,s),Li.transform(i))},Yp=new Set(["none","hidden"]);function ND(t,e){return Yp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function BD(t,e){return n=>Ke(t,e,n)}function Zm(t){return typeof t=="number"?BD:typeof t=="string"?Wm(t)?bu:Et.test(t)?j1:UD:Array.isArray(t)?oT:typeof t=="object"?Et.test(t)?j1:VD:bu}function oT(t,e){const n=[...t],r=n.length,i=t.map((s,d)=>Zm(s)(s,e[d]));return s=>{for(let d=0;d<r;d++)n[d]=i[d](s);return n}}function VD(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Zm(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function zD(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const d=e.types[s],o=t.indexes[d][i[d]],a=(n=t.values[o])!==null&&n!==void 0?n:0;r[s]=a,i[d]++}return r}const UD=(t,e)=>{const n=oi.createTransformer(e),r=el(t),i=el(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Yp.has(t)&&!i.values.length||Yp.has(e)&&!r.values.length?ND(t,e):pr(oT(zD(r,i),i.values),n):bu(t,e)};function lT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ke(t,e,n):Zm(t)(t,e)}function HD(t,e,n){const r=[],i=n||lT,s=t.length-1;for(let d=0;d<s;d++){let o=i(t[d],t[d+1]);if(e){const a=Array.isArray(e)?e[d]||Mt:e;o=pr(a,o)}r.push(o)}return r}function WD(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Vp(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=HD(e,r,i),o=d.length,a=f=>{let h=0;if(o>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const l=gs(t[h],t[h+1],f);return d[h](l)};return n?f=>a(Sr(t[0],t[s-1],f)):a}function GD(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=gs(0,e,r);t.push(Ke(n,1,i))}}function XD(t){const e=[0];return GD(e,t.length-1),e}function YD(t,e){return t.map(n=>n*e)}function KD(t,e){return t.map(()=>e||sT).splice(0,t.length-1)}function wu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=RD(r)?r.map(F1):F1(r),s={done:!1,value:e[0]},d=YD(n&&n.length===e.length?n:XD(e),t),o=WD(d,e,{ease:Array.isArray(i)?i:KD(e,i)});return{calculatedDuration:t,next:a=>(s.value=o(a),s.done=a>=t,s)}}const qD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>je.update(e,!0),stop:()=>si(e),now:()=>xt.isProcessing?xt.timestamp:Yn.now()}},QD={decay:I1,inertia:I1,tween:wu,keyframes:wu,spring:aT},JD=t=>t/100;class ev extends eT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,d=(i==null?void 0:i.KeyframeResolver)||Gm,o=(a,f)=>this.onKeyframesResolved(a,f);this.resolver=new d(s,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:d=0}=this.options,o=Qm(n)?n:QD[n]||wu;let a,f;o!==wu&&typeof e[0]!="number"&&(a=pr(JD,lT(e[0],e[1])),e=[0,100]);const h=o({...this.options,keyframes:e});s==="mirror"&&(f=o({...this.options,keyframes:[...e].reverse(),velocity:-d})),h.calculatedDuration===null&&(h.calculatedDuration=iT(h));const{calculatedDuration:l}=h,c=l+i,u=c*(r+1)-i;return{generator:h,mirroredGenerator:f,mapPercentToKeyframes:a,calculatedDuration:l,resolvedDuration:c,totalDuration:u}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:d,mapPercentToKeyframes:o,keyframes:a,calculatedDuration:f,totalDuration:h,resolvedDuration:l}=r;if(this.startTime===null)return s.next(0);const{delay:c,repeat:u,repeatType:p,repeatDelay:v,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const m=this.currentTime-c*(this.speed>=0?1:-1),y=this.speed>=0?m<0:m>h;this.currentTime=Math.max(m,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let x=this.currentTime,b=s;if(u){const C=Math.min(this.currentTime,h)/l;let k=Math.floor(C),A=C%1;!A&&C>=1&&(A=1),A===1&&k--,k=Math.min(k,u+1),!!(k%2)&&(p==="reverse"?(A=1-A,v&&(A-=v/l)):p==="mirror"&&(b=d)),x=Sr(0,1,A)*l}const w=y?{done:!1,value:a[0]}:b.next(x);o&&(w.value=o(w.value));let{done:S}=w;!y&&f!==null&&(S=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return _&&i!==void 0&&(w.value=wf(a,this.options,i)),g&&g(w.value),_&&this.finish(),w}get duration(){const{resolved:e}=this;return e?dr(e.calculatedDuration):0}get time(){return dr(this.currentTime)}set time(e){e=hr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=dr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=qD,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const ZD=new Set(["opacity","clipPath","filter","transform"]);function tv(t){let e;return()=>(e===void 0&&(e=t()),e)}const eI={linearEasing:void 0};function tI(t,e){const n=tv(t);return()=>{var r;return(r=eI[e])!==null&&r!==void 0?r:n()}}const Su=tI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function cT(t){return!!(typeof t=="function"&&Su()||!t||typeof t=="string"&&(t in Kp||Su())||Jm(t)||Array.isArray(t)&&t.every(cT))}const lo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Kp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lo([0,.65,.55,1]),circOut:lo([.55,0,1,.45]),backIn:lo([.31,.01,.66,-.59]),backOut:lo([.33,1.53,.69,.99])};function uT(t,e){if(t)return typeof t=="function"&&Su()?tT(t,e):Jm(t)?lo(t):Array.isArray(t)?t.map(n=>uT(n,e)||Kp.easeOut):Kp[t]}function nI(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:d="loop",ease:o="easeInOut",times:a}={}){const f={[e]:n};a&&(f.offset=a);const h=uT(o,i);return Array.isArray(h)&&(f.easing=h),t.animate(f,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:d==="reverse"?"alternate":"normal"})}function $1(t,e){t.timeline=e,t.onfinish=null}const rI=tv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Cu=10,iI=2e4;function aI(t){return Qm(t.type)||t.type==="spring"||!cT(t.ease)}function sI(t,e){const n=new ev({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<iI;)r=n.sample(s),i.push(r.value),s+=Cu;return{times:void 0,keyframes:i,duration:s-Cu,ease:"linear"}}const fT={anticipate:F_,backInOut:R_,circInOut:j_};function oI(t){return t in fT}class N1 extends eT{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Z_(s,(d,o)=>this.onKeyframesResolved(d,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:d,type:o,motionValue:a,name:f,startTime:h}=this.options;if(!(!((r=a.owner)===null||r===void 0)&&r.current))return!1;if(typeof d=="string"&&Su()&&oI(d)&&(d=fT[d]),aI(this.options)){const{onComplete:c,onUpdate:u,motionValue:p,element:v,...g}=this.options,m=sI(e,g);e=m.keyframes,e.length===1&&(e[1]=e[0]),i=m.duration,s=m.times,d=m.ease,o="keyframes"}const l=nI(a.owner.current,f,e,{...this.options,duration:i,times:s,ease:d});return l.startTime=h??this.calcStartTime(),this.pendingTimeline?($1(l,this.pendingTimeline),this.pendingTimeline=void 0):l.onfinish=()=>{const{onComplete:c}=this.options;a.set(wf(e,this.options,n)),c&&c(),this.cancel(),this.resolveFinishedPromise()},{animation:l,duration:i,times:s,type:o,ease:d,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return dr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return dr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=hr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Mt;const{animation:r}=n;$1(r,e)}return Mt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:d,times:o}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:h,onComplete:l,element:c,...u}=this.options,p=new ev({...u,keyframes:r,duration:i,type:s,ease:d,times:o,isGenerator:!0}),v=hr(this.time);f.setWithVelocity(p.sample(v-Cu).value,p.sample(v).value,Cu)}const{onStop:a}=this.options;a&&a(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:d,type:o}=e;return rI()&&r&&ZD.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&d!==0&&o!=="inertia"}}const lI=tv(()=>window.ScrollTimeline!==void 0);class cI{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>lI()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function uI({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:d,repeatDelay:o,from:a,elapsed:f,...h}){return!!Object.keys(h).length}const nv=(t,e,n,r={},i,s)=>d=>{const o=zm(r,t)||{},a=o.delay||r.delay||0;let{elapsed:f=0}=r;f=f-hr(a);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-f,onUpdate:c=>{e.set(c),o.onUpdate&&o.onUpdate(c)},onComplete:()=>{d(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};uI(o)||(h={...h,...F4(t,h)}),h.duration&&(h.duration=hr(h.duration)),h.repeatDelay&&(h.repeatDelay=hr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let l=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(l=!0)),l&&!s&&e.get()!==void 0){const c=wf(h.keyframes,o);if(c!==void 0)return je.update(()=>{h.onUpdate(c),h.onComplete()}),new cI([])}return!s&&N1.supports(h)?new N1(h):new ev(h)},fI=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),hI=t=>Bp(t)?t[t.length-1]||0:t;function rv(t,e){t.indexOf(e)===-1&&t.push(e)}function iv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class av{constructor(){this.subscriptions=[]}add(e){return rv(this.subscriptions,e),()=>iv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const d=this.subscriptions[s];d&&d(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const B1=30,dI=t=>!isNaN(parseFloat(t));class pI{constructor(e,n={}){this.version="11.12.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Yn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new av);const r=this.events[e].add(n);return e==="change"?()=>{r(),je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>B1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,B1);return nT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tl(t,e){return new pI(t,e)}function gI(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,tl(n))}function mI(t,e){const n=bf(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const d in s){const o=hI(s[d]);gI(t,d,o)}}const sv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vI="framerAppearId",hT="data-"+sv(vI);function dT(t){return t.props[hT]}const At=t=>!!(t&&t.getVelocity);function yI(t){return!!(At(t)&&t.add)}function qp(t,e){const n=t.getValue("willChange");if(yI(n))return n.add(e)}function xI({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function pT(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:d=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(d=r);const f=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const l in a){const c=t.getValue(l,(s=t.latestValues[l])!==null&&s!==void 0?s:null),u=a[l];if(u===void 0||h&&xI(h,l))continue;const p={delay:n,...zm(d||{},l)};let v=!1;if(window.MotionHandoffAnimation){const m=dT(t);if(m){const y=window.MotionHandoffAnimation(m,l,je);y!==null&&(p.startTime=y,v=!0)}}qp(t,l),c.start(nv(l,c,u,t.shouldReduceMotion&&ra.has(l)?{type:!1}:p,t,v));const g=c.animation;g&&f.push(g)}return o&&Promise.all(f).then(()=>{je.update(()=>{o&&mI(t,o)})}),f}function Qp(t,e,n={}){var r;const i=bf(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const d=i?()=>Promise.all(pT(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:l,staggerDirection:c}=s;return bI(t,e,h+f,l,c,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[f,h]=a==="beforeChildren"?[d,o]:[o,d];return f().then(()=>h())}else return Promise.all([d(),o(n.delay)])}function bI(t,e,n=0,r=0,i=1,s){const d=[],o=(t.variantChildren.size-1)*r,a=i===1?(f=0)=>f*r:(f=0)=>o-f*r;return Array.from(t.variantChildren).sort(wI).forEach((f,h)=>{f.notify("AnimationStart",e),d.push(Qp(f,e,{...s,delay:n+a(h)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(d)}function wI(t,e){return t.sortNodePosition(e)}function SI(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Qp(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Qp(t,e,n);else{const i=typeof e=="function"?bf(t,e,n.custom):e;r=Promise.all(pT(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const CI=Vm.length;function gT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?gT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<CI;n++){const r=Vm[n],i=t.props[r];(Jo(i)||i===!1)&&(e[r]=i)}return e}const _I=[...Bm].reverse(),TI=Bm.length;function kI(t){return e=>Promise.all(e.map(({animation:n,options:r})=>SI(t,n,r)))}function OI(t){let e=kI(t),n=V1(),r=!0;const i=a=>(f,h)=>{var l;const c=bf(t,h,a==="exit"?(l=t.presenceContext)===null||l===void 0?void 0:l.custom:void 0);if(c){const{transition:u,transitionEnd:p,...v}=c;f={...f,...v,...p}}return f};function s(a){e=a(t)}function d(a){const{props:f}=t,h=gT(t.parent)||{},l=[],c=new Set;let u={},p=1/0;for(let g=0;g<TI;g++){const m=_I[g],y=n[m],x=f[m]!==void 0?f[m]:h[m],b=Jo(x),w=m===a?y.isActive:null;w===!1&&(p=g);let S=x===h[m]&&x!==f[m]&&b;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...u},!y.isActive&&w===null||!x&&!y.prevProp||xf(x)||typeof x=="boolean")continue;const _=EI(y.prevProp,x);let C=_||m===a&&y.isActive&&!S&&b||g>p&&b,k=!1;const A=Array.isArray(x)?x:[x];let F=A.reduce(i(m),{});w===!1&&(F={});const{prevResolvedValues:B={}}=y,H={...B,...F},L=E=>{C=!0,c.has(E)&&(k=!0,c.delete(E)),y.needsAnimating[E]=!0;const V=t.getValue(E);V&&(V.liveStyle=!1)};for(const E in H){const V=F[E],T=B[E];if(u.hasOwnProperty(E))continue;let P=!1;Bp(V)&&Bp(T)?P=!E_(V,T):P=V!==T,P?V!=null?L(E):c.add(E):V!==void 0&&c.has(E)?L(E):y.protectedKeys[E]=!0}y.prevProp=x,y.prevResolvedValues=F,y.isActive&&(u={...u,...F}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(S&&_)||k)&&l.push(...A.map(E=>({animation:E,options:{type:m}})))}if(c.size){const g={};c.forEach(m=>{const y=t.getBaseTarget(m),x=t.getValue(m);x&&(x.liveStyle=!0),g[m]=y??null}),l.push({animation:g})}let v=!!l.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(l):Promise.resolve()}function o(a,f){var h;if(n[a].isActive===f)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(c=>{var u;return(u=c.animationState)===null||u===void 0?void 0:u.setActive(a,f)}),n[a].isActive=f;const l=d(a);for(const c in n)n[c].protectedKeys={};return l}return{animateChanges:d,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=V1(),r=!0}}}function EI(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!E_(e,t):!1}function bi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V1(){return{animate:bi(!0),whileInView:bi(),whileHover:bi(),whileTap:bi(),whileDrag:bi(),whileFocus:bi(),exit:bi()}}class gi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class PI extends gi{constructor(e){super(e),e.animationState||(e.animationState=OI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let AI=0;class MI extends gi{constructor(){super(...arguments),this.id=AI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const DI={animation:{Feature:PI},exit:{Feature:MI}},mT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Sf(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const II=t=>e=>mT(e)&&t(e,Sf(e));function ur(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function gr(t,e,n,r){return ur(t,e,II(n),r)}const z1=(t,e)=>Math.abs(t-e);function RI(t,e){const n=z1(t.x,e.x),r=z1(t.y,e.y);return Math.sqrt(n**2+r**2)}class vT{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const l=Jh(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,u=RI(l.offset,{x:0,y:0})>=3;if(!c&&!u)return;const{point:p}=l,{timestamp:v}=xt;this.history.push({...p,timestamp:v});const{onStart:g,onMove:m}=this.handlers;c||(g&&g(this.lastMoveEvent,l),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,l)},this.handlePointerMove=(l,c)=>{this.lastMoveEvent=l,this.lastMoveEventInfo=Qh(c,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(l,c)=>{this.end();const{onEnd:u,onSessionEnd:p,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Jh(l.type==="pointercancel"?this.lastMoveEventInfo:Qh(c,this.transformPagePoint),this.history);this.startEvent&&u&&u(l,g),p&&p(l,g)},!mT(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const d=Sf(e),o=Qh(d,this.transformPagePoint),{point:a}=o,{timestamp:f}=xt;this.history=[{...a,timestamp:f}];const{onSessionStart:h}=n;h&&h(e,Jh(o,this.history)),this.removeListeners=pr(gr(this.contextWindow,"pointermove",this.handlePointerMove),gr(this.contextWindow,"pointerup",this.handlePointerUp),gr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),si(this.updatePoint)}}function Qh(t,e){return e?{point:e(t.point)}:t}function U1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Jh({point:t},e){return{point:t,delta:U1(t,yT(e)),offset:U1(t,FI(e)),velocity:LI(e,.1)}}function FI(t){return t[0]}function yT(t){return t[t.length-1]}function LI(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=yT(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>hr(e)));)n--;if(!r)return{x:0,y:0};const s=dr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const d={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function xT(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const H1=xT("dragHorizontal"),W1=xT("dragVertical");function bT(t){let e=!1;if(t==="y")e=W1();else if(t==="x")e=H1();else{const n=H1(),r=W1();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function wT(){const t=bT(!0);return t?(t(),!1):!0}function Xa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const ST=1e-4,jI=1-ST,$I=1+ST,CT=.01,NI=0-CT,BI=0+CT;function on(t){return t.max-t.min}function VI(t,e,n){return Math.abs(t-e)<=n}function G1(t,e,n,r=.5){t.origin=r,t.originPoint=Ke(e.min,e.max,t.origin),t.scale=on(n)/on(e),t.translate=Ke(n.min,n.max,t.origin)-t.originPoint,(t.scale>=jI&&t.scale<=$I||isNaN(t.scale))&&(t.scale=1),(t.translate>=NI&&t.translate<=BI||isNaN(t.translate))&&(t.translate=0)}function Oo(t,e,n,r){G1(t.x,e.x,n.x,r?r.originX:void 0),G1(t.y,e.y,n.y,r?r.originY:void 0)}function X1(t,e,n){t.min=n.min+e.min,t.max=t.min+on(e)}function zI(t,e,n){X1(t.x,e.x,n.x),X1(t.y,e.y,n.y)}function Y1(t,e,n){t.min=e.min-n.min,t.max=t.min+on(e)}function Eo(t,e,n){Y1(t.x,e.x,n.x),Y1(t.y,e.y,n.y)}function UI(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ke(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ke(n,t,r.max):Math.min(t,n)),t}function K1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function HI(t,{top:e,left:n,bottom:r,right:i}){return{x:K1(t.x,n,i),y:K1(t.y,e,r)}}function q1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function WI(t,e){return{x:q1(t.x,e.x),y:q1(t.y,e.y)}}function GI(t,e){let n=.5;const r=on(t),i=on(e);return i>r?n=gs(e.min,e.max-r,t.min):r>i&&(n=gs(t.min,t.max-i,e.min)),Sr(0,1,n)}function XI(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jp=.35;function YI(t=Jp){return t===!1?t=0:t===!0&&(t=Jp),{x:Q1(t,"left","right"),y:Q1(t,"top","bottom")}}function Q1(t,e,n){return{min:J1(t,e),max:J1(t,n)}}function J1(t,e){return typeof t=="number"?t:t[e]||0}const Z1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ya=()=>({x:Z1(),y:Z1()}),ex=()=>({min:0,max:0}),rt=()=>({x:ex(),y:ex()});function dn(t){return[t("x"),t("y")]}function _T({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function KI({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qI(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Zh(t){return t===void 0||t===1}function Zp({scale:t,scaleX:e,scaleY:n}){return!Zh(t)||!Zh(e)||!Zh(n)}function Ci(t){return Zp(t)||TT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function TT(t){return tx(t.x)||tx(t.y)}function tx(t){return t&&t!=="0%"}function _u(t,e,n){const r=t-n,i=e*r;return n+i}function nx(t,e,n,r,i){return i!==void 0&&(t=_u(t,i,r)),_u(t,n,r)+e}function eg(t,e=0,n=1,r,i){t.min=nx(t.min,e,n,r,i),t.max=nx(t.max,e,n,r,i)}function kT(t,{x:e,y:n}){eg(t.x,e.translate,e.scale,e.originPoint),eg(t.y,n.translate,n.scale,n.originPoint)}const rx=.999999999999,ix=1.0000000000001;function QI(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,d;for(let o=0;o<i;o++){s=n[o],d=s.projectionDelta;const{visualElement:a}=s.options;a&&a.props.style&&a.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&qa(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),d&&(e.x*=d.x.scale,e.y*=d.y.scale,kT(t,d)),r&&Ci(s.latestValues)&&qa(t,s.latestValues))}e.x<ix&&e.x>rx&&(e.x=1),e.y<ix&&e.y>rx&&(e.y=1)}function Ka(t,e){t.min=t.min+e,t.max=t.max+e}function ax(t,e,n,r,i=.5){const s=Ke(t.min,t.max,i);eg(t,e,n,s,r)}function qa(t,e){ax(t.x,e.x,e.scaleX,e.scale,e.originX),ax(t.y,e.y,e.scaleY,e.scale,e.originY)}function OT(t,e){return _T(qI(t.getBoundingClientRect(),e))}function JI(t,e,n){const r=OT(t,n),{scroll:i}=e;return i&&(Ka(r.x,i.offset.x),Ka(r.y,i.offset.y)),r}const ET=({current:t})=>t?t.ownerDocument.defaultView:null,ZI=new WeakMap;class eR{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:l}=this.getProps();l?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sf(h,"page").point)},s=(h,l)=>{const{drag:c,dragPropagation:u,onDragStart:p}=this.getProps();if(c&&!u&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=bT(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dn(g=>{let m=this.getAxisMotionValue(g).get()||0;if(Xn.test(m)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[g];x&&(m=on(x)*(parseFloat(m)/100))}}this.originPoint[g]=m}),p&&je.postRender(()=>p(h,l)),qp(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},d=(h,l)=>{const{dragPropagation:c,dragDirectionLock:u,onDirectionLock:p,onDrag:v}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:g}=l;if(u&&this.currentDirection===null){this.currentDirection=tR(g),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",l.point,g),this.updateAxis("y",l.point,g),this.visualElement.render(),v&&v(h,l)},o=(h,l)=>this.stop(h,l),a=()=>dn(h=>{var l;return this.getAnimationState(h)==="paused"&&((l=this.getAxisMotionValue(h).animation)===null||l===void 0?void 0:l.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new vT(e,{onSessionStart:i,onStart:s,onMove:d,onSessionEnd:o,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:ET(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&je.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!tc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let d=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(d=UI(d,this.constraints[e],this.elastic[e])),s.set(d)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Xa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=HI(i.layoutBox,n):this.constraints=!1,this.elastic=YI(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&dn(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=XI(i.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xa(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=JI(r,i.root,this.visualElement.getTransformPagePoint());let d=WI(i.layout.layoutBox,s);if(n){const o=n(KI(d));this.hasMutatedConstraints=!!o,o&&(d=_T(o))}return d}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:d,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},f=dn(h=>{if(!tc(h,n,this.currentDirection))return;let l=a&&a[h]||{};d&&(l={min:0,max:0});const c=i?200:1e6,u=i?40:1e7,p={type:"inertia",velocity:r?e[h]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(h,p)});return Promise.all(f).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return qp(this.visualElement,e),r.start(nv(e,r,0,n,this.visualElement,!1))}stopAnimation(){dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){dn(n=>{const{drag:r}=this.getProps();if(!tc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:d,max:o}=i.layout.layoutBox[n];s.set(e[n]-Ke(d,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xa(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};dn(d=>{const o=this.getAxisMotionValue(d);if(o&&this.constraints!==!1){const a=o.get();i[d]=GI({min:a,max:a},this.constraints[d])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),dn(d=>{if(!tc(d,e,null))return;const o=this.getAxisMotionValue(d),{min:a,max:f}=this.constraints[d];o.set(Ke(a,f,i[d]))})}addListeners(){if(!this.visualElement.current)return;ZI.set(this.visualElement,this);const e=this.visualElement.current,n=gr(e,"pointerdown",a=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(a)}),r=()=>{const{dragConstraints:a}=this.getProps();Xa(a)&&a.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),je.read(r);const d=ur(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:a,hasLayoutChanged:f})=>{this.isDragging&&f&&(dn(h=>{const l=this.getAxisMotionValue(h);l&&(this.originPoint[h]+=a[h].translate,l.set(l.get()+a[h].translate))}),this.visualElement.render())});return()=>{d(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:d=Jp,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:d,dragMomentum:o}}}function tc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function tR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class nR extends gi{constructor(e){super(e),this.removeGroupControls=Mt,this.removeListeners=Mt,this.controls=new eR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mt}unmount(){this.removeGroupControls(),this.removeListeners()}}const sx=t=>(e,n)=>{t&&je.postRender(()=>t(e,n))};class rR extends gi{constructor(){super(...arguments),this.removePointerDownListener=Mt}onPointerDown(e){this.session=new vT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ET(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:sx(e),onStart:sx(n),onMove:r,onEnd:(s,d)=>{delete this.session,i&&je.postRender(()=>i(s,d))}}}mount(){this.removePointerDownListener=gr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cf=$.createContext(null);function iR(){const t=$.useContext(Cf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=$.useId();$.useEffect(()=>r(i),[]);const s=$.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const ov=$.createContext({}),PT=$.createContext({}),Pc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ox(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ks={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=ox(t,e.target.x),r=ox(t,e.target.y);return`${n}% ${r}%`}},aR={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=oi.parse(t);if(i.length>5)return r;const s=oi.createTransformer(t),d=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,a=n.y.scale*e.y;i[0+d]/=o,i[1+d]/=a;const f=Ke(o,a,.5);return typeof i[2+d]=="number"&&(i[2+d]/=f),typeof i[3+d]=="number"&&(i[3+d]/=f),s(i)}},Tu={};function sR(t){Object.assign(Tu,t)}const{schedule:lv,cancel:ore}=P_(queueMicrotask,!1);class oR extends $.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;sR(lR),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Pc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,d=r.projection;return d&&(d.isPresent=s,i||e.layoutDependency!==n||n===void 0?d.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?d.promote():d.relegate()||je.postRender(()=>{const o=d.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),lv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AT(t){const[e,n]=iR(),r=$.useContext(ov);return R.jsx(oR,{...t,layoutGroup:r,switchLayoutGroup:$.useContext(PT),isPresent:e,safeToRemove:n})}const lR={borderRadius:{...Ks,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ks,borderTopRightRadius:Ks,borderBottomLeftRadius:Ks,borderBottomRightRadius:Ks,boxShadow:aR},MT=["TopLeft","TopRight","BottomLeft","BottomRight"],cR=MT.length,lx=t=>typeof t=="string"?parseFloat(t):t,cx=t=>typeof t=="number"||xe.test(t);function uR(t,e,n,r,i,s){i?(t.opacity=Ke(0,n.opacity!==void 0?n.opacity:1,fR(r)),t.opacityExit=Ke(e.opacity!==void 0?e.opacity:1,0,hR(r))):s&&(t.opacity=Ke(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let d=0;d<cR;d++){const o=`border${MT[d]}Radius`;let a=ux(e,o),f=ux(n,o);if(a===void 0&&f===void 0)continue;a||(a=0),f||(f=0),a===0||f===0||cx(a)===cx(f)?(t[o]=Math.max(Ke(lx(a),lx(f),r),0),(Xn.test(f)||Xn.test(a))&&(t[o]+="%")):t[o]=f}(e.rotate||n.rotate)&&(t.rotate=Ke(e.rotate||0,n.rotate||0,r))}function ux(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const fR=DT(0,.5,L_),hR=DT(.5,.95,Mt);function DT(t,e,n){return r=>r<t?0:r>e?1:n(gs(t,e,r))}function fx(t,e){t.min=e.min,t.max=e.max}function hn(t,e){fx(t.x,e.x),fx(t.y,e.y)}function hx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function dx(t,e,n,r,i){return t-=e,t=_u(t,1/n,r),i!==void 0&&(t=_u(t,1/i,r)),t}function dR(t,e=0,n=1,r=.5,i,s=t,d=t){if(Xn.test(e)&&(e=parseFloat(e),e=Ke(d.min,d.max,e/100)-d.min),typeof e!="number")return;let o=Ke(s.min,s.max,r);t===s&&(o-=e),t.min=dx(t.min,e,n,o,i),t.max=dx(t.max,e,n,o,i)}function px(t,e,[n,r,i],s,d){dR(t,e[n],e[r],e[i],e.scale,s,d)}const pR=["x","scaleX","originX"],gR=["y","scaleY","originY"];function gx(t,e,n,r){px(t.x,e,pR,n?n.x:void 0,r?r.x:void 0),px(t.y,e,gR,n?n.y:void 0,r?r.y:void 0)}function mx(t){return t.translate===0&&t.scale===1}function IT(t){return mx(t.x)&&mx(t.y)}function vx(t,e){return t.min===e.min&&t.max===e.max}function mR(t,e){return vx(t.x,e.x)&&vx(t.y,e.y)}function yx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RT(t,e){return yx(t.x,e.x)&&yx(t.y,e.y)}function xx(t){return on(t.x)/on(t.y)}function bx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class vR{constructor(){this.members=[]}add(e){rv(this.members,e),e.scheduleRender()}remove(e){if(iv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yR(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,d=(n==null?void 0:n.z)||0;if((i||s||d)&&(r=`translate3d(${i}px, ${s}px, ${d}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:h,rotateX:l,rotateY:c,skewX:u,skewY:p}=n;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),l&&(r+=`rotateX(${l}deg) `),c&&(r+=`rotateY(${c}deg) `),u&&(r+=`skewX(${u}deg) `),p&&(r+=`skewY(${p}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const xR=(t,e)=>t.depth-e.depth;class bR{constructor(){this.children=[],this.isDirty=!1}add(e){rv(this.children,e),this.isDirty=!0}remove(e){iv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xR),this.isDirty=!1,this.children.forEach(e)}}function Ac(t){const e=At(t)?t.get():t;return fI(e)?e.toValue():e}function wR(t,e){const n=Yn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(si(r),t(s-e))};return je.read(r,!0),()=>si(r)}function SR(t){return t instanceof SVGElement&&t.tagName!=="svg"}function CR(t,e,n){const r=At(t)?t:tl(t);return r.start(nv("",r,e,n)),r.animation}const _i={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},co=typeof window<"u"&&window.MotionDebug!==void 0,ed=["","X","Y","Z"],_R={visibility:"hidden"},wx=1e3;let TR=0;function td(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function FT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=dT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",je,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&FT(r)}function LT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(d={},o=e==null?void 0:e()){this.id=TR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,co&&(_i.totalNodes=_i.resolvedTargetDeltas=_i.recalculatedProjection=0),this.nodes.forEach(ER),this.nodes.forEach(IR),this.nodes.forEach(RR),this.nodes.forEach(PR),co&&window.MotionDebug.record(_i)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new bR)}addEventListener(d,o){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new av),this.eventHandlers.get(d).add(o)}notifyListeners(d,...o){const a=this.eventHandlers.get(d);a&&a.notify(...o)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=SR(d),this.instance=d;const{layoutId:a,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(f||a)&&(this.isLayoutDirty=!0),t){let l;const c=()=>this.root.updateBlockedByResize=!1;t(d,()=>{this.root.updateBlockedByResize=!0,l&&l(),l=wR(c,250),Pc.hasAnimatedSinceResize&&(Pc.hasAnimatedSinceResize=!1,this.nodes.forEach(Cx))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&h&&(a||f)&&this.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c,hasRelativeTargetChanged:u,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||NR,{onLayoutAnimationStart:g,onLayoutAnimationComplete:m}=h.getProps(),y=!this.targetLayout||!RT(this.targetLayout,p)||u,x=!c&&u;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||c&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(l,x);const b={...zm(v,"layout"),onPlay:g,onComplete:m};(h.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else c||Cx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,si(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FR),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const l=this.path[h];l.shouldResetTransform=!0,l.updateScroll("snapshot"),l.options.layoutRoot&&l.willUpdate(!1)}const{layoutId:o,layout:a}=this.options;if(o===void 0&&!a)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Sx);return}this.isUpdating||this.nodes.forEach(MR),this.isUpdating=!1,this.nodes.forEach(DR),this.nodes.forEach(kR),this.nodes.forEach(OR),this.clearAllSnapshots();const o=Yn.now();xt.delta=Sr(0,1e3/60,o-xt.timestamp),xt.timestamp=o,xt.isProcessing=!0,Gh.update.process(xt),Gh.preRender.process(xt),Gh.render.process(xt),xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AR),this.sharedNodes.forEach(LR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(o=!1),o){const a=r(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:a,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:a}}}resetTransform(){if(!i)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!IT(this.projectionDelta),a=this.getTransformTemplate(),f=a?a(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;d&&(o||Ci(this.latestValues)||h)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const o=this.measurePageBox();let a=this.removeElementScroll(o);return d&&(a=this.removeTransform(a)),BR(a),{animationId:this.root.animationId,measuredBox:o,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return rt();const a=o.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(VR))){const{scroll:h}=this.root;h&&(Ka(a.x,h.offset.x),Ka(a.y,h.offset.y))}return a}removeElementScroll(d){var o;const a=rt();if(hn(a,d),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return a;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:l,options:c}=h;h!==this.root&&l&&c.layoutScroll&&(l.wasRoot&&hn(a,d),Ka(a.x,l.offset.x),Ka(a.y,l.offset.y))}return a}applyTransform(d,o=!1){const a=rt();hn(a,d);for(let f=0;f<this.path.length;f++){const h=this.path[f];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&qa(a,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ci(h.latestValues)&&qa(a,h.latestValues)}return Ci(this.latestValues)&&qa(a,this.latestValues),a}removeTransform(d){const o=rt();hn(o,d);for(let a=0;a<this.path.length;a++){const f=this.path[a];if(!f.instance||!Ci(f.latestValues))continue;Zp(f.latestValues)&&f.updateSnapshot();const h=rt(),l=f.measurePageBox();hn(h,l),gx(o,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return Ci(this.latestValues)&&gx(o,this.latestValues),o}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var o;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==a;if(!(d||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:l,layoutId:c}=this.options;if(!(!this.layout||!(l||c))){if(this.resolvedRelativeTargetAt=xt.timestamp,!this.targetDelta&&!this.relativeTarget){const u=this.getClosestProjectingParent();u&&u.layout&&this.animationProgress!==1?(this.relativeParent=u,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Eo(this.relativeTargetOrigin,this.layout.layoutBox,u.layout.layoutBox),hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hn(this.target,this.layout.layoutBox),kT(this.target,this.targetDelta)):hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const u=this.getClosestProjectingParent();u&&!!u.resumingFrom==!!this.resumingFrom&&!u.options.layoutScroll&&u.target&&this.animationProgress!==1?(this.relativeParent=u,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Eo(this.relativeTargetOrigin,this.target,u.target),hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}co&&_i.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zp(this.parent.latestValues)||TT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let f=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(f=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===xt.timestamp&&(f=!1),f)return;const{layout:h,layoutId:l}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||l))return;hn(this.layoutCorrected,this.layout.layoutBox);const c=this.treeScale.x,u=this.treeScale.y;QI(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=rt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hx(this.prevProjectionDelta.x,this.projectionDelta.x),hx(this.prevProjectionDelta.y,this.projectionDelta.y)),Oo(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==c||this.treeScale.y!==u||!bx(this.projectionDelta.x,this.prevProjectionDelta.x)||!bx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),co&&_i.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),d){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ya(),this.projectionDelta=Ya(),this.projectionDeltaWithTransform=Ya()}setAnimationOrigin(d,o=!1){const a=this.snapshot,f=a?a.latestValues:{},h={...this.latestValues},l=Ya();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const c=rt(),u=a?a.source:void 0,p=this.layout?this.layout.source:void 0,v=u!==p,g=this.getStack(),m=!g||g.members.length<=1,y=!!(v&&!m&&this.options.crossfade===!0&&!this.path.some($R));this.animationProgress=0;let x;this.mixTargetDelta=b=>{const w=b/1e3;_x(l.x,d.x,w),_x(l.y,d.y,w),this.setTargetDelta(l),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Eo(c,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jR(this.relativeTarget,this.relativeTargetOrigin,c,w),x&&mR(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=rt()),hn(x,this.relativeTarget)),v&&(this.animationValues=h,uR(h,f,this.latestValues,w,y,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(si(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{Pc.hasAnimatedSinceResize=!0,this.currentAnimation=CR(0,wx,{...d,onUpdate:o=>{this.mixTargetDelta(o),d.onUpdate&&d.onUpdate(o)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:o,target:a,layout:f,latestValues:h}=d;if(!(!o||!a||!f)){if(this!==d&&this.layout&&f&&jT(this.options.animationType,this.layout.layoutBox,f.layoutBox)){a=this.target||rt();const l=on(this.layout.layoutBox.x);a.x.min=d.target.x.min,a.x.max=a.x.min+l;const c=on(this.layout.layoutBox.y);a.y.min=d.target.y.min,a.y.max=a.y.min+c}hn(o,a),qa(o,h),Oo(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(d,o){this.sharedNodes.has(d)||this.sharedNodes.set(d,new vR),this.sharedNodes.get(d).add(o);const f=o.options.initialPromotionConfig;o.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(o):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:o}=this.options;return o?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:o}=this.options;return o?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:o,preserveFollowOpacity:a}={}){const f=this.getStack();f&&f.promote(this,a),d&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let o=!1;const{latestValues:a}=d;if((a.z||a.rotate||a.rotateX||a.rotateY||a.rotateZ||a.skewX||a.skewY)&&(o=!0),!o)return;const f={};a.z&&td("z",d,f,this.animationValues);for(let h=0;h<ed.length;h++)td(`rotate${ed[h]}`,d,f,this.animationValues),td(`skew${ed[h]}`,d,f,this.animationValues);d.render();for(const h in f)d.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);d.scheduleRender()}getProjectionStyles(d){var o,a;if(!this.instance||this.isSVG)return;if(!this.isVisible)return _R;const f={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Ac(d==null?void 0:d.pointerEvents)||"",f.transform=h?h(this.latestValues,""):"none",f;const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ac(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Ci(this.latestValues)&&(v.transform=h?h({},""):"none",this.hasProjected=!1),v}const c=l.animationValues||l.latestValues;this.applyTransformsToTarget(),f.transform=yR(this.projectionDeltaWithTransform,this.treeScale,c),h&&(f.transform=h(c,f.transform));const{x:u,y:p}=this.projectionDelta;f.transformOrigin=`${u.origin*100}% ${p.origin*100}% 0`,l.animationValues?f.opacity=l===this?(a=(o=c.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:f.opacity=l===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const v in Tu){if(c[v]===void 0)continue;const{correct:g,applyTo:m}=Tu[v],y=f.transform==="none"?c[v]:g(c[v],l);if(m){const x=m.length;for(let b=0;b<x;b++)f[m[b]]=y}else f[v]=y}return this.options.layoutId&&(f.pointerEvents=l===this?Ac(d==null?void 0:d.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var o;return(o=d.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Sx),this.root.sharedNodes.clear()}}}function kR(t){t.updateLayout()}function OR(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,d=n.source!==t.layout.source;s==="size"?dn(l=>{const c=d?n.measuredBox[l]:n.layoutBox[l],u=on(c);c.min=r[l].min,c.max=c.min+u}):jT(s,n.layoutBox,r)&&dn(l=>{const c=d?n.measuredBox[l]:n.layoutBox[l],u=on(r[l]);c.max=c.min+u,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[l].max=t.relativeTarget[l].min+u)});const o=Ya();Oo(o,r,n.layoutBox);const a=Ya();d?Oo(a,t.applyTransform(i,!0),n.measuredBox):Oo(a,r,n.layoutBox);const f=!IT(o);let h=!1;if(!t.resumeFrom){const l=t.getClosestProjectingParent();if(l&&!l.resumeFrom){const{snapshot:c,layout:u}=l;if(c&&u){const p=rt();Eo(p,n.layoutBox,c.layoutBox);const v=rt();Eo(v,r,u.layoutBox),RT(p,v)||(h=!0),l.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=p,t.relativeParent=l)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:a,layoutDelta:o,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ER(t){co&&_i.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function PR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function AR(t){t.clearSnapshot()}function Sx(t){t.clearMeasurements()}function MR(t){t.isLayoutDirty=!1}function DR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Cx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function IR(t){t.resolveTargetDelta()}function RR(t){t.calcProjection()}function FR(t){t.resetSkewAndRotation()}function LR(t){t.removeLeadSnapshot()}function _x(t,e,n){t.translate=Ke(e.translate,0,n),t.scale=Ke(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Tx(t,e,n,r){t.min=Ke(e.min,n.min,r),t.max=Ke(e.max,n.max,r)}function jR(t,e,n,r){Tx(t.x,e.x,n.x,r),Tx(t.y,e.y,n.y,r)}function $R(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const NR={duration:.45,ease:[.4,0,.1,1]},kx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ox=kx("applewebkit/")&&!kx("chrome/")?Math.round:Mt;function Ex(t){t.min=Ox(t.min),t.max=Ox(t.max)}function BR(t){Ex(t.x),Ex(t.y)}function jT(t,e,n){return t==="position"||t==="preserve-aspect"&&!VI(xx(e),xx(n),.2)}function VR(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const zR=LT({attachResizeListener:(t,e)=>ur(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nd={current:void 0},$T=LT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!nd.current){const t=new zR({});t.mount(window),t.setOptions({layoutScroll:!0}),nd.current=t}return nd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),UR={pan:{Feature:rR},drag:{Feature:nR,ProjectionNode:$T,MeasureLayout:AT}};function Px(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,d)=>{if(s.pointerType==="touch"||wT())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e);const a=o[r];a&&je.postRender(()=>a(s,d))};return gr(t.current,n,i,{passive:!t.getProps()[r]})}class HR extends gi{mount(){this.unmount=pr(Px(this.node,!0),Px(this.node,!1))}unmount(){}}class WR extends gi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pr(ur(this.node.current,"focus",()=>this.onFocus()),ur(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const NT=(t,e)=>e?t===e?!0:NT(t,e.parentElement):!1;function rd(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Sf(n))}class GR extends gi{constructor(){super(...arguments),this.removeStartListeners=Mt,this.removeEndListeners=Mt,this.removeAccessibleListeners=Mt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=gr(window,"pointerup",(o,a)=>{if(!this.checkPressEnd())return;const{onTap:f,onTapCancel:h,globalTapTarget:l}=this.node.getProps(),c=!l&&!NT(this.node.current,o.target)?h:f;c&&je.update(()=>c(o,a))},{passive:!(r.onTap||r.onPointerUp)}),d=gr(window,"pointercancel",(o,a)=>this.cancelPress(o,a),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=pr(s,d),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const d=o=>{o.key!=="Enter"||!this.checkPressEnd()||rd("up",(a,f)=>{const{onTap:h}=this.node.getProps();h&&je.postRender(()=>h(a,f))})};this.removeEndListeners(),this.removeEndListeners=ur(this.node.current,"keyup",d),rd("down",(o,a)=>{this.startPress(o,a)})},n=ur(this.node.current,"keydown",e),r=()=>{this.isPressing&&rd("cancel",(s,d)=>this.cancelPress(s,d))},i=ur(this.node.current,"blur",r);this.removeAccessibleListeners=pr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&je.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!wT()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&je.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=gr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ur(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const tg=new WeakMap,id=new WeakMap,XR=t=>{const e=tg.get(t.target);e&&e(t)},YR=t=>{t.forEach(XR)};function KR({root:t,...e}){const n=t||document;id.has(n)||id.set(n,{});const r=id.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(YR,{root:t,...e})),r[i]}function qR(t,e,n){const r=KR(e);return tg.set(t,n),r.observe(t),()=>{tg.delete(t),r.unobserve(t)}}const QR={some:0,all:1};class JR extends gi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,d={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:QR[i]},o=a=>{const{isIntersecting:f}=a;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:l}=this.node.getProps(),c=f?h:l;c&&c(a)};return qR(this.node.current,d,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ZR(e,n))&&this.startObserver()}unmount(){}}function ZR({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const eF={inView:{Feature:JR},tap:{Feature:GR},focus:{Feature:WR},hover:{Feature:HR}},tF={layout:{ProjectionNode:$T,MeasureLayout:AT}},cv=$.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),_f=$.createContext({}),uv=typeof window<"u",BT=uv?$.useLayoutEffect:$.useEffect,VT=$.createContext({strict:!1});function nF(t,e,n,r,i){var s,d;const{visualElement:o}=$.useContext(_f),a=$.useContext(VT),f=$.useContext(Cf),h=$.useContext(cv).reducedMotion,l=$.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:o,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const c=l.current,u=$.useContext(PT);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&rF(l.current,n,i,u);const p=$.useRef(!1);$.useInsertionEffect(()=>{c&&p.current&&c.update(n,f)});const v=n[hT],g=$.useRef(!!v&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,v))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,v)));return BT(()=>{c&&(p.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),lv.render(c.render),g.current&&c.animationState&&c.animationState.animateChanges())}),$.useEffect(()=>{c&&(!g.current&&c.animationState&&c.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var m;(m=window.MotionHandoffMarkAsComplete)===null||m===void 0||m.call(window,v)}),g.current=!1))}),c}function rF(t,e,n,r){const{layoutId:i,layout:s,drag:d,dragConstraints:o,layoutScroll:a,layoutRoot:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zT(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!d||o&&Xa(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:f})}function zT(t){if(t)return t.options.allowProjection!==!1?t.projection:zT(t.parent)}function iF(t,e,n){return $.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Xa(n)&&(n.current=r))},[e])}function Tf(t){return xf(t.animate)||Vm.some(e=>Jo(t[e]))}function UT(t){return!!(Tf(t)||t.variants)}function aF(t,e){if(Tf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Jo(n)?n:void 0,animate:Jo(r)?r:void 0}}return t.inherit!==!1?e:{}}function sF(t){const{initial:e,animate:n}=aF(t,$.useContext(_f));return $.useMemo(()=>({initial:e,animate:n}),[Ax(e),Ax(n)])}function Ax(t){return Array.isArray(t)?t.join(" "):t}const Mx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ms={};for(const t in Mx)ms[t]={isEnabled:e=>Mx[t].some(n=>!!e[n])};function oF(t){for(const e in t)ms[e]={...ms[e],...t[e]}}const lF=Symbol.for("motionComponentSymbol");function cF({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&oF(t);function s(o,a){let f;const h={...$.useContext(cv),...o,layoutId:uF(o)},{isStatic:l}=h,c=sF(o),u=r(o,l);if(!l&&uv){fF();const p=hF(h);f=p.MeasureLayout,c.visualElement=nF(i,u,h,e,p.ProjectionNode)}return R.jsxs(_f.Provider,{value:c,children:[f&&c.visualElement?R.jsx(f,{visualElement:c.visualElement,...h}):null,n(i,o,iF(u,c.visualElement,a),u,l,c.visualElement)]})}const d=$.forwardRef(s);return d[lF]=i,d}function uF({layoutId:t}){const e=$.useContext(ov).id;return e&&t!==void 0?e+"-"+t:t}function fF(t,e){$.useContext(VT).strict}function hF(t){const{drag:e,layout:n}=ms;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const dF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fv(t){return typeof t!="string"||t.includes("-")?!1:!!(dF.indexOf(t)>-1||/[A-Z]/u.test(t))}function HT(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const WT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GT(t,e,n,r){HT(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(WT.has(i)?i:sv(i),e.attrs[i])}function XT(t,{layout:e,layoutId:n}){return ra.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Tu[t]||t==="opacity")}function hv(t,e,n){var r;const{style:i}=t,s={};for(const d in i)(At(i[d])||e.style&&At(e.style[d])||XT(d,t)||((r=n==null?void 0:n.getValue(d))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[d]=i[d]);return s}function YT(t,e,n){const r=hv(t,e,n);for(const i in t)if(At(t[i])||At(e[i])){const s=pl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function dv(t){const e=$.useRef(null);return e.current===null&&(e.current=t()),e.current}function pF({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const d={latestValues:gF(r,i,s,t),renderState:e()};return n&&(d.mount=o=>n(r,o,d)),d}const KT=t=>(e,n)=>{const r=$.useContext(_f),i=$.useContext(Cf),s=()=>pF(t,e,r,i);return n?s():dv(s)};function gF(t,e,n,r){const i={},s=r(t,{});for(const c in s)i[c]=Ac(s[c]);let{initial:d,animate:o}=t;const a=Tf(t),f=UT(t);e&&f&&!a&&t.inherit!==!1&&(d===void 0&&(d=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||d===!1;const l=h?o:d;if(l&&typeof l!="boolean"&&!xf(l)){const c=Array.isArray(l)?l:[l];for(let u=0;u<c.length;u++){const p=Nm(t,c[u]);if(p){const{transitionEnd:v,transition:g,...m}=p;for(const y in m){let x=m[y];if(Array.isArray(x)){const b=h?x.length-1:0;x=x[b]}x!==null&&(i[y]=x)}for(const y in v)i[y]=v[y]}}}return i}const pv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),qT=()=>({...pv(),attrs:{}}),QT=(t,e)=>e&&typeof t=="number"?e.transform(t):t,mF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vF=pl.length;function yF(t,e,n){let r="",i=!0;for(let s=0;s<vF;s++){const d=pl[s],o=t[d];if(o===void 0)continue;let a=!0;if(typeof o=="number"?a=o===(d.startsWith("scale")?1:0):a=parseFloat(o)===0,!a||n){const f=QT(o,Km[d]);if(!a){i=!1;const h=mF[d]||d;r+=`${h}(${f}) `}n&&(e[d]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function gv(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let d=!1,o=!1;for(const a in e){const f=e[a];if(ra.has(a)){d=!0;continue}else if(V_(a)){i[a]=f;continue}else{const h=QT(f,Km[a]);a.startsWith("origin")?(o=!0,s[a]=h):r[a]=h}}if(e.transform||(d||n?r.transform=yF(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:a="50%",originY:f="50%",originZ:h=0}=s;r.transformOrigin=`${a} ${f} ${h}`}}function Dx(t,e,n){return typeof t=="string"?t:xe.transform(e+n*t)}function xF(t,e,n){const r=Dx(e,t.x,t.width),i=Dx(n,t.y,t.height);return`${r} ${i}`}const bF={offset:"stroke-dashoffset",array:"stroke-dasharray"},wF={offset:"strokeDashoffset",array:"strokeDasharray"};function SF(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?bF:wF;t[s.offset]=xe.transform(-r);const d=xe.transform(e),o=xe.transform(n);t[s.array]=`${d} ${o}`}function mv(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:d,pathSpacing:o=1,pathOffset:a=0,...f},h,l){if(gv(t,f,l),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:c,style:u,dimensions:p}=t;c.transform&&(p&&(u.transform=c.transform),delete c.transform),p&&(i!==void 0||s!==void 0||u.transform)&&(u.transformOrigin=xF(p,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(c.x=e),n!==void 0&&(c.y=n),r!==void 0&&(c.scale=r),d!==void 0&&SF(c,d,o,a,!1)}const vv=t=>typeof t=="string"&&t.toLowerCase()==="svg",CF={useVisualState:KT({scrapeMotionValuesFromProps:YT,createRenderState:qT,onMount:(t,e,{renderState:n,latestValues:r})=>{je.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),je.render(()=>{mv(n,r,vv(e.tagName),t.transformTemplate),GT(e,n)})}})},_F={useVisualState:KT({scrapeMotionValuesFromProps:hv,createRenderState:pv})};function JT(t,e,n){for(const r in e)!At(e[r])&&!XT(r,n)&&(t[r]=e[r])}function TF({transformTemplate:t},e){return $.useMemo(()=>{const n=pv();return gv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function kF(t,e){const n=t.style||{},r={};return JT(r,n,t),Object.assign(r,TF(t,e)),r}function OF(t,e){const n={},r=kF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const EF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ku(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||EF.has(t)}let ZT=t=>!ku(t);function PF(t){t&&(ZT=e=>e.startsWith("on")?!ku(e):t(e))}try{PF(require("@emotion/is-prop-valid").default)}catch{}function AF(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(ZT(i)||n===!0&&ku(i)||!e&&!ku(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function MF(t,e,n,r){const i=$.useMemo(()=>{const s=qT();return mv(s,e,vv(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};JT(s,t.style,t),i.style={...s,...i.style}}return i}function DF(t=!1){return(n,r,i,{latestValues:s},d)=>{const a=(fv(n)?MF:OF)(r,s,d,n),f=AF(r,typeof n=="string",t),h=n!==$.Fragment?{...f,...a,ref:i}:{},{children:l}=r,c=$.useMemo(()=>At(l)?l.get():l,[l]);return $.createElement(n,{...h,children:c})}}function IF(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const d={...fv(r)?CF:_F,preloadedFeatures:t,useRender:DF(i),createVisualElement:e,Component:r};return cF(d)}}const ng={current:null},ek={current:!1};function RF(){if(ek.current=!0,!!uv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ng.current=t.matches;t.addListener(e),e()}else ng.current=!1}function FF(t,e,n){for(const r in e){const i=e[r],s=n[r];if(At(i))t.addValue(r,i);else if(At(s))t.addValue(r,tl(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const d=t.getValue(r);d.liveStyle===!0?d.jump(i):d.hasAnimated||d.set(i)}else{const d=t.getStaticValue(r);t.addValue(r,tl(d!==void 0?d:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Ix=new WeakMap,LF=[...H_,Et,oi],jF=t=>LF.find(U_(t)),Rx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $F{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:d},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const c=Yn.now();this.renderScheduledAt<c&&(this.renderScheduledAt=c,je.render(this.render,!1,!0))};const{latestValues:a,renderState:f}=d;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Tf(n),this.isVariantNode=UT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...l}=this.scrapeMotionValuesFromProps(n,{},this);for(const c in l){const u=l[c];a[c]!==void 0&&At(u)&&u.set(a[c],!1)}}mount(e){this.current=e,Ix.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ek.current||RF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ng.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ix.delete(this.current),this.projection&&this.projection.unmount(),si(this.notifyUpdate),si(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ra.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),d&&d(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ms){const n=ms[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Rx.length;r++){const i=Rx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,d=e[s];d&&(this.propEventSubscriptions[i]=this.on(i,d))}this.prevMotionValues=FF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=tl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(N_(i)||$_(i))?i=parseFloat(i):!jF(i)&&oi.test(n)&&(i=J_(e,n)),this.setBaseTarget(e,At(i)?i.get():i)),At(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const d=Nm(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);d&&(i=d[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!At(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new av),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class tk extends $F{constructor(){super(...arguments),this.KeyframeResolver=Z_}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function NF(t){return window.getComputedStyle(t)}class BF extends tk{constructor(){super(...arguments),this.type="html",this.renderInstance=HT}readValueFromInstance(e,n){if(ra.has(n)){const r=qm(n);return r&&r.default||0}else{const r=NF(e),i=(V_(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return OT(e,n)}build(e,n,r){gv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return hv(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;At(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class VF extends tk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ra.has(n)){const r=qm(n);return r&&r.default||0}return n=WT.has(n)?n:sv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return YT(e,n,r)}build(e,n,r){mv(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){GT(e,n,r,i)}mount(e){this.isSVGTag=vv(e.tagName),super.mount(e)}}const zF=(t,e)=>fv(t)?new VF(e):new BF(e,{allowProjection:t!==$.Fragment}),UF=IF({...DI,...eF,...UR,...tF},zF),Jn=A4(UF);class HF extends $.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function WF({children:t,isPresent:e}){const n=$.useId(),r=$.useRef(null),i=$.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=$.useContext(cv);return $.useInsertionEffect(()=>{const{width:d,height:o,top:a,left:f}=i.current;if(e||!r.current||!d||!o)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),R.jsx(HF,{isPresent:e,childRef:r,sizeRef:i,children:$.cloneElement(t,{ref:r})})}const GF=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:d})=>{const o=dv(XF),a=$.useId(),f=$.useCallback(l=>{o.set(l,!0);for(const c of o.values())if(!c)return;r&&r()},[o,r]),h=$.useMemo(()=>({id:a,initial:e,isPresent:n,custom:i,onExitComplete:f,register:l=>(o.set(l,!1),()=>o.delete(l))}),s?[Math.random(),f]:[n,f]);return $.useMemo(()=>{o.forEach((l,c)=>o.set(c,!1))},[n]),$.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),d==="popLayout"&&(t=R.jsx(WF,{isPresent:n,children:t})),R.jsx(Cf.Provider,{value:h,children:t})};function XF(){return new Map}const nc=t=>t.key||"";function Fx(t){const e=[];return $.Children.forEach(t,n=>{$.isValidElement(n)&&e.push(n)}),e}const vl=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:d="sync"})=>{const o=$.useMemo(()=>Fx(t),[t]),a=o.map(nc),f=$.useRef(!0),h=$.useRef(o),l=dv(()=>new Map),[c,u]=$.useState(o),[p,v]=$.useState(o);BT(()=>{f.current=!1,h.current=o;for(let y=0;y<p.length;y++){const x=nc(p[y]);a.includes(x)?l.delete(x):l.get(x)!==!0&&l.set(x,!1)}},[p,a.length,a.join("-")]);const g=[];if(o!==c){let y=[...o];for(let x=0;x<p.length;x++){const b=p[x],w=nc(b);a.includes(w)||(y.splice(x,0,b),g.push(b))}d==="wait"&&g.length&&(y=g),v(Fx(y)),u(o);return}const{forceRender:m}=$.useContext(ov);return R.jsx(R.Fragment,{children:p.map(y=>{const x=nc(y),b=o===p||a.includes(x),w=()=>{if(l.has(x))l.set(x,!0);else return;let S=!0;l.forEach(_=>{_||(S=!1)}),S&&(m==null||m(),v(h.current),i&&i())};return R.jsx(GF,{isPresent:b,initial:!f.current||r?void 0:!1,custom:b?void 0:n,presenceAffectsLayout:s,mode:d,onExitComplete:b?void 0:w,children:y},x)})})};function qi(t){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(t)}function YF(t,e){if(qi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nk(t){var e=YF(t,"string");return qi(e)=="symbol"?e:e+""}function uo(t,e,n){return(e=nk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lx(Object(n),!0).forEach(function(r){uo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KF(t){if(Array.isArray(t))return t}function qF(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,d,o=[],a=!0,f=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);a=!0);}catch(h){f=!0,i=h}finally{try{if(!a&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(f)throw i}}return o}}function rg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function rk(t,e){if(t){if(typeof t=="string")return rg(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rg(t,e):void 0}}function QF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mr(t,e){return KF(t)||qF(t,e)||rk(t,e)||QF()}function JF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Tr(t,e){if(t==null)return{};var n,r,i=JF(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var ZF=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function eL(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,d=s===void 0?null:s,o=t.inputValue,a=t.menuIsOpen,f=t.onChange,h=t.onInputChange,l=t.onMenuClose,c=t.onMenuOpen,u=t.value,p=Tr(t,ZF),v=$.useState(o!==void 0?o:n),g=mr(v,2),m=g[0],y=g[1],x=$.useState(a!==void 0?a:i),b=mr(x,2),w=b[0],S=b[1],_=$.useState(u!==void 0?u:d),C=mr(_,2),k=C[0],A=C[1],F=$.useCallback(function(V,T){typeof f=="function"&&f(V,T),A(V)},[f]),B=$.useCallback(function(V,T){var P;typeof h=="function"&&(P=h(V,T)),y(P!==void 0?P:V)},[h]),H=$.useCallback(function(){typeof c=="function"&&c(),S(!0)},[c]),L=$.useCallback(function(){typeof l=="function"&&l(),S(!1)},[l]),z=o!==void 0?o:m,I=a!==void 0?a:w,E=u!==void 0?u:k;return ye(ye({},p),{},{inputValue:z,menuIsOpen:I,onChange:F,onInputChange:B,onMenuClose:L,onMenuOpen:H,value:E})}function be(){return be=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},be.apply(null,arguments)}function tL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nk(r.key),r)}}function nL(t,e,n){return e&&jx(t.prototype,e),n&&jx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ig(t,e){return ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ig(t,e)}function rL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ig(t,e)}function Ou(t){return Ou=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ou(t)}function ik(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ik=function(){return!!t})()}function iL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aL(t,e){if(e&&(qi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iL(t)}function sL(t){var e=ik();return function(){var n,r=Ou(t);if(e){var i=Ou(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return aL(this,n)}}function oL(t){if(Array.isArray(t))return rg(t)}function lL(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yv(t){return oL(t)||lL(t)||rk(t)||cL()}var uL=!1;function fL(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function hL(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var dL=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!uL:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(hL(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=fL(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ot="-ms-",Eu="-moz-",Ae="-webkit-",ak="comm",xv="rule",bv="decl",pL="@import",sk="@keyframes",gL="@layer",mL=Math.abs,kf=String.fromCharCode,vL=Object.assign;function yL(t,e){return bt(t,0)^45?(((e<<2^bt(t,0))<<2^bt(t,1))<<2^bt(t,2))<<2^bt(t,3):0}function ok(t){return t.trim()}function xL(t,e){return(t=e.exec(t))?t[0]:t}function Me(t,e,n){return t.replace(e,n)}function ag(t,e){return t.indexOf(e)}function bt(t,e){return t.charCodeAt(e)|0}function nl(t,e,n){return t.slice(e,n)}function Vn(t){return t.length}function wv(t){return t.length}function rc(t,e){return e.push(t),t}function bL(t,e){return t.map(e).join("")}var Of=1,vs=1,lk=0,Gt=0,lt=0,Ts="";function Ef(t,e,n,r,i,s,d){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Of,column:vs,length:d,return:""}}function qs(t,e){return vL(Ef("",null,null,"",null,null,0),t,{length:-t.length},e)}function wL(){return lt}function SL(){return lt=Gt>0?bt(Ts,--Gt):0,vs--,lt===10&&(vs=1,Of--),lt}function an(){return lt=Gt<lk?bt(Ts,Gt++):0,vs++,lt===10&&(vs=1,Of++),lt}function Kn(){return bt(Ts,Gt)}function Mc(){return Gt}function yl(t,e){return nl(Ts,t,e)}function rl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ck(t){return Of=vs=1,lk=Vn(Ts=t),Gt=0,[]}function uk(t){return Ts="",t}function Dc(t){return ok(yl(Gt-1,sg(t===91?t+2:t===40?t+1:t)))}function CL(t){for(;(lt=Kn())&&lt<33;)an();return rl(t)>2||rl(lt)>3?"":" "}function _L(t,e){for(;--e&&an()&&!(lt<48||lt>102||lt>57&&lt<65||lt>70&&lt<97););return yl(t,Mc()+(e<6&&Kn()==32&&an()==32))}function sg(t){for(;an();)switch(lt){case t:return Gt;case 34:case 39:t!==34&&t!==39&&sg(lt);break;case 40:t===41&&sg(t);break;case 92:an();break}return Gt}function TL(t,e){for(;an()&&t+lt!==57;)if(t+lt===84&&Kn()===47)break;return"/*"+yl(e,Gt-1)+"*"+kf(t===47?t:an())}function kL(t){for(;!rl(Kn());)an();return yl(t,Gt)}function OL(t){return uk(Ic("",null,null,null,[""],t=ck(t),0,[0],t))}function Ic(t,e,n,r,i,s,d,o,a){for(var f=0,h=0,l=d,c=0,u=0,p=0,v=1,g=1,m=1,y=0,x="",b=i,w=s,S=r,_=x;g;)switch(p=y,y=an()){case 40:if(p!=108&&bt(_,l-1)==58){ag(_+=Me(Dc(y),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:_+=Dc(y);break;case 9:case 10:case 13:case 32:_+=CL(p);break;case 92:_+=_L(Mc()-1,7);continue;case 47:switch(Kn()){case 42:case 47:rc(EL(TL(an(),Mc()),e,n),a);break;default:_+="/"}break;case 123*v:o[f++]=Vn(_)*m;case 125*v:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+h:m==-1&&(_=Me(_,/\f/g,"")),u>0&&Vn(_)-l&&rc(u>32?Nx(_+";",r,n,l-1):Nx(Me(_," ","")+";",r,n,l-2),a);break;case 59:_+=";";default:if(rc(S=$x(_,e,n,f,h,i,o,x,b=[],w=[],l),s),y===123)if(h===0)Ic(_,e,S,S,b,s,l,o,w);else switch(c===99&&bt(_,3)===110?100:c){case 100:case 108:case 109:case 115:Ic(t,S,S,r&&rc($x(t,S,S,0,0,i,o,x,i,b=[],l),w),i,w,l,o,r?b:w);break;default:Ic(_,S,S,S,[""],w,0,o,w)}}f=h=u=0,v=m=1,x=_="",l=d;break;case 58:l=1+Vn(_),u=p;default:if(v<1){if(y==123)--v;else if(y==125&&v++==0&&SL()==125)continue}switch(_+=kf(y),y*v){case 38:m=h>0?1:(_+="\f",-1);break;case 44:o[f++]=(Vn(_)-1)*m,m=1;break;case 64:Kn()===45&&(_+=Dc(an())),c=Kn(),h=l=Vn(x=_+=kL(Mc())),y++;break;case 45:p===45&&Vn(_)==2&&(v=0)}}return s}function $x(t,e,n,r,i,s,d,o,a,f,h){for(var l=i-1,c=i===0?s:[""],u=wv(c),p=0,v=0,g=0;p<r;++p)for(var m=0,y=nl(t,l+1,l=mL(v=d[p])),x=t;m<u;++m)(x=ok(v>0?c[m]+" "+y:Me(y,/&\f/g,c[m])))&&(a[g++]=x);return Ef(t,e,n,i===0?xv:o,a,f,h)}function EL(t,e,n){return Ef(t,e,n,ak,kf(wL()),nl(t,2,-2),0)}function Nx(t,e,n,r){return Ef(t,e,n,bv,nl(t,0,r),nl(t,r+1,-1),r)}function is(t,e){for(var n="",r=wv(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function PL(t,e,n,r){switch(t.type){case gL:if(t.children.length)break;case pL:case bv:return t.return=t.return||t.value;case ak:return"";case sk:return t.return=t.value+"{"+is(t.children,r)+"}";case xv:t.value=t.props.join(",")}return Vn(n=is(t.children,r))?t.return=t.value+"{"+n+"}":""}function AL(t){var e=wv(t);return function(n,r,i,s){for(var d="",o=0;o<e;o++)d+=t[o](n,r,i,s)||"";return d}}function ML(t){return function(e){e.root||(e=e.return)&&t(e)}}function DL(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var IL=function(e,n,r){for(var i=0,s=0;i=s,s=Kn(),i===38&&s===12&&(n[r]=1),!rl(s);)an();return yl(e,Gt)},RL=function(e,n){var r=-1,i=44;do switch(rl(i)){case 0:i===38&&Kn()===12&&(n[r]=1),e[r]+=IL(Gt-1,n,r);break;case 2:e[r]+=Dc(i);break;case 4:if(i===44){e[++r]=Kn()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=kf(i)}while(i=an());return e},FL=function(e,n){return uk(RL(ck(e),n))},Bx=new WeakMap,LL=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Bx.get(r))&&!i){Bx.set(e,!0);for(var s=[],d=FL(n,s),o=r.props,a=0,f=0;a<d.length;a++)for(var h=0;h<o.length;h++,f++)e.props[f]=s[a]?d[a].replace(/&\f/g,o[h]):o[h]+" "+d[a]}}},jL=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function fk(t,e){switch(yL(t,e)){case 5103:return Ae+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ae+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ae+t+Eu+t+Ot+t+t;case 6828:case 4268:return Ae+t+Ot+t+t;case 6165:return Ae+t+Ot+"flex-"+t+t;case 5187:return Ae+t+Me(t,/(\w+).+(:[^]+)/,Ae+"box-$1$2"+Ot+"flex-$1$2")+t;case 5443:return Ae+t+Ot+"flex-item-"+Me(t,/flex-|-self/,"")+t;case 4675:return Ae+t+Ot+"flex-line-pack"+Me(t,/align-content|flex-|-self/,"")+t;case 5548:return Ae+t+Ot+Me(t,"shrink","negative")+t;case 5292:return Ae+t+Ot+Me(t,"basis","preferred-size")+t;case 6060:return Ae+"box-"+Me(t,"-grow","")+Ae+t+Ot+Me(t,"grow","positive")+t;case 4554:return Ae+Me(t,/([^-])(transform)/g,"$1"+Ae+"$2")+t;case 6187:return Me(Me(Me(t,/(zoom-|grab)/,Ae+"$1"),/(image-set)/,Ae+"$1"),t,"")+t;case 5495:case 3959:return Me(t,/(image-set\([^]*)/,Ae+"$1$`$1");case 4968:return Me(Me(t,/(.+:)(flex-)?(.*)/,Ae+"box-pack:$3"+Ot+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ae+t+t;case 4095:case 3583:case 4068:case 2532:return Me(t,/(.+)-inline(.+)/,Ae+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vn(t)-1-e>6)switch(bt(t,e+1)){case 109:if(bt(t,e+4)!==45)break;case 102:return Me(t,/(.+:)(.+)-([^]+)/,"$1"+Ae+"$2-$3$1"+Eu+(bt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ag(t,"stretch")?fk(Me(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(bt(t,e+1)!==115)break;case 6444:switch(bt(t,Vn(t)-3-(~ag(t,"!important")&&10))){case 107:return Me(t,":",":"+Ae)+t;case 101:return Me(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ae+(bt(t,14)===45?"inline-":"")+"box$3$1"+Ae+"$2$3$1"+Ot+"$2box$3")+t}break;case 5936:switch(bt(t,e+11)){case 114:return Ae+t+Ot+Me(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ae+t+Ot+Me(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ae+t+Ot+Me(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ae+t+Ot+t+t}return t}var $L=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case bv:e.return=fk(e.value,e.length);break;case sk:return is([qs(e,{value:Me(e.value,"@","@"+Ae)})],i);case xv:if(e.length)return bL(e.props,function(s){switch(xL(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return is([qs(e,{props:[Me(s,/:(read-\w+)/,":"+Eu+"$1")]})],i);case"::placeholder":return is([qs(e,{props:[Me(s,/:(plac\w+)/,":"+Ae+"input-$1")]}),qs(e,{props:[Me(s,/:(plac\w+)/,":"+Eu+"$1")]}),qs(e,{props:[Me(s,/:(plac\w+)/,Ot+"input-$1")]})],i)}return""})}},NL=[$L],BL=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var g=v.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||NL,s={},d,o=[];d=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var g=v.getAttribute("data-emotion").split(" "),m=1;m<g.length;m++)s[g[m]]=!0;o.push(v)});var a,f=[LL,jL];{var h,l=[PL,ML(function(v){h.insert(v)})],c=AL(f.concat(i,l)),u=function(g){return is(OL(g),c)};a=function(g,m,y,x){h=y,u(g?g+"{"+m.styles+"}":m.styles),x&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new dL({key:n,container:d,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return p.sheet.hydrate(o),p},hk={exports:{}},Le={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vt=typeof Symbol=="function"&&Symbol.for,Sv=vt?Symbol.for("react.element"):60103,Cv=vt?Symbol.for("react.portal"):60106,Pf=vt?Symbol.for("react.fragment"):60107,Af=vt?Symbol.for("react.strict_mode"):60108,Mf=vt?Symbol.for("react.profiler"):60114,Df=vt?Symbol.for("react.provider"):60109,If=vt?Symbol.for("react.context"):60110,_v=vt?Symbol.for("react.async_mode"):60111,Rf=vt?Symbol.for("react.concurrent_mode"):60111,Ff=vt?Symbol.for("react.forward_ref"):60112,Lf=vt?Symbol.for("react.suspense"):60113,VL=vt?Symbol.for("react.suspense_list"):60120,jf=vt?Symbol.for("react.memo"):60115,$f=vt?Symbol.for("react.lazy"):60116,zL=vt?Symbol.for("react.block"):60121,UL=vt?Symbol.for("react.fundamental"):60117,HL=vt?Symbol.for("react.responder"):60118,WL=vt?Symbol.for("react.scope"):60119;function fn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Sv:switch(t=t.type,t){case _v:case Rf:case Pf:case Mf:case Af:case Lf:return t;default:switch(t=t&&t.$$typeof,t){case If:case Ff:case $f:case jf:case Df:return t;default:return e}}case Cv:return e}}}function dk(t){return fn(t)===Rf}Le.AsyncMode=_v;Le.ConcurrentMode=Rf;Le.ContextConsumer=If;Le.ContextProvider=Df;Le.Element=Sv;Le.ForwardRef=Ff;Le.Fragment=Pf;Le.Lazy=$f;Le.Memo=jf;Le.Portal=Cv;Le.Profiler=Mf;Le.StrictMode=Af;Le.Suspense=Lf;Le.isAsyncMode=function(t){return dk(t)||fn(t)===_v};Le.isConcurrentMode=dk;Le.isContextConsumer=function(t){return fn(t)===If};Le.isContextProvider=function(t){return fn(t)===Df};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sv};Le.isForwardRef=function(t){return fn(t)===Ff};Le.isFragment=function(t){return fn(t)===Pf};Le.isLazy=function(t){return fn(t)===$f};Le.isMemo=function(t){return fn(t)===jf};Le.isPortal=function(t){return fn(t)===Cv};Le.isProfiler=function(t){return fn(t)===Mf};Le.isStrictMode=function(t){return fn(t)===Af};Le.isSuspense=function(t){return fn(t)===Lf};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Pf||t===Rf||t===Mf||t===Af||t===Lf||t===VL||typeof t=="object"&&t!==null&&(t.$$typeof===$f||t.$$typeof===jf||t.$$typeof===Df||t.$$typeof===If||t.$$typeof===Ff||t.$$typeof===UL||t.$$typeof===HL||t.$$typeof===WL||t.$$typeof===zL)};Le.typeOf=fn;hk.exports=Le;var GL=hk.exports,pk=GL,XL={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},YL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gk={};gk[pk.ForwardRef]=XL;gk[pk.Memo]=YL;var KL=!0;function qL(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var mk=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||KL===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},QL=function(e,n,r){mk(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function JL(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var ZL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ej=!1,tj=/[A-Z]|^ms/g,nj=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vk=function(e){return e.charCodeAt(1)===45},Vx=function(e){return e!=null&&typeof e!="boolean"},ad=DL(function(t){return vk(t)?t:t.replace(tj,"-$&").toLowerCase()}),zx=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(nj,function(r,i,s){return zn={name:i,styles:s,next:zn},i})}return ZL[e]!==1&&!vk(e)&&typeof n=="number"&&n!==0?n+"px":n},rj="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function il(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return zn={name:i.name,styles:i.styles,next:zn},i.name;var s=n;if(s.styles!==void 0){var d=s.next;if(d!==void 0)for(;d!==void 0;)zn={name:d.name,styles:d.styles,next:zn},d=d.next;var o=s.styles+";";return o}return ij(t,e,n)}case"function":{if(t!==void 0){var a=zn,f=n(t);return zn=a,il(t,e,f)}break}}var h=n;return h}function ij(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=il(t,e,n[i])+";";else for(var s in n){var d=n[s];if(typeof d!="object"){var o=d;Vx(o)&&(r+=ad(s)+":"+zx(s,o)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&ej)throw new Error(rj);if(Array.isArray(d)&&typeof d[0]=="string"&&e==null)for(var a=0;a<d.length;a++)Vx(d[a])&&(r+=ad(s)+":"+zx(s,d[a])+";");else{var f=il(t,e,d);switch(s){case"animation":case"animationName":{r+=ad(s)+":"+f+";";break}default:r+=s+"{"+f+"}"}}}}return r}var Ux=/label:\s*([^\s;{]+)\s*(;|$)/g,zn;function yk(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";zn=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=il(n,e,s);else{var d=s;i+=d[0]}for(var o=1;o<t.length;o++)if(i+=il(n,e,t[o]),r){var a=s;i+=a[o]}Ux.lastIndex=0;for(var f="",h;(h=Ux.exec(i))!==null;)f+="-"+h[1];var l=JL(i)+f;return{name:l,styles:i,next:zn}}var aj=function(e){return e()},sj=A0.useInsertionEffect?A0.useInsertionEffect:!1,oj=sj||aj,lj=!1,xk=$.createContext(typeof HTMLElement<"u"?BL({key:"css"}):null);xk.Provider;var cj=function(e){return $.forwardRef(function(n,r){var i=$.useContext(xk);return e(n,i,r)})},uj=$.createContext({}),Tv={}.hasOwnProperty,og="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",fj=function(e,n){var r={};for(var i in n)Tv.call(n,i)&&(r[i]=n[i]);return r[og]=e,r},hj=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return mk(n,r,i),oj(function(){return QL(n,r,i)}),null},dj=cj(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[og],s=[r],d="";typeof t.className=="string"?d=qL(e.registered,s,t.className):t.className!=null&&(d=t.className+" ");var o=yk(s,void 0,$.useContext(uj));d+=e.key+"-"+o.name;var a={};for(var f in t)Tv.call(t,f)&&f!=="css"&&f!==og&&!lj&&(a[f]=t[f]);return a.className=d,n&&(a.ref=n),$.createElement($.Fragment,null,$.createElement(hj,{cache:e,serialized:o,isStringTag:typeof i=="string"}),$.createElement(i,a))}),pj=dj,ve=function(e,n){var r=arguments;if(n==null||!Tv.call(n,"css"))return $.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=pj,s[1]=fj(e,n);for(var d=2;d<i;d++)s[d]=r[d];return $.createElement.apply(null,s)};function kv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return yk(e)}var gj=function(){var e=kv.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function mj(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const vj=Math.min,yj=Math.max,Pu=Math.round,ic=Math.floor,Au=t=>({x:t,y:t});function xj(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Nf(){return typeof window<"u"}function bk(t){return Sk(t)?(t.nodeName||"").toLowerCase():"#document"}function Cr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wk(t){var e;return(e=(Sk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Sk(t){return Nf()?t instanceof Node||t instanceof Cr(t).Node:!1}function bj(t){return Nf()?t instanceof Element||t instanceof Cr(t).Element:!1}function Ov(t){return Nf()?t instanceof HTMLElement||t instanceof Cr(t).HTMLElement:!1}function Hx(t){return!Nf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Cr(t).ShadowRoot}function Ck(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ev(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function wj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sj(t){return["html","body","#document"].includes(bk(t))}function Ev(t){return Cr(t).getComputedStyle(t)}function Cj(t){if(bk(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Hx(t)&&t.host||wk(t);return Hx(e)?e.host:e}function _k(t){const e=Cj(t);return Sj(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ov(e)&&Ck(e)?e:_k(e)}function Mu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=_k(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),d=Cr(i);if(s){const o=lg(d);return e.concat(d,d.visualViewport||[],Ck(i)?i:[],o&&n?Mu(o):[])}return e.concat(i,Mu(i,[],n))}function lg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _j(t){const e=Ev(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ov(t),s=i?t.offsetWidth:n,d=i?t.offsetHeight:r,o=Pu(n)!==s||Pu(r)!==d;return o&&(n=s,r=d),{width:n,height:r,$:o}}function Pv(t){return bj(t)?t:t.contextElement}function Wx(t){const e=Pv(t);if(!Ov(e))return Au(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=_j(e);let d=(s?Pu(n.width):n.width)/r,o=(s?Pu(n.height):n.height)/i;return(!d||!Number.isFinite(d))&&(d=1),(!o||!Number.isFinite(o))&&(o=1),{x:d,y:o}}const Tj=Au(0);function kj(t){const e=Cr(t);return!wj()||!e.visualViewport?Tj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Oj(t,e,n){return!1}function Gx(t,e,n,r){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),s=Pv(t);let d=Au(1);e&&(d=Wx(t));const o=Oj()?kj(s):Au(0);let a=(i.left+o.x)/d.x,f=(i.top+o.y)/d.y,h=i.width/d.x,l=i.height/d.y;if(s){const c=Cr(s),u=r;let p=c,v=lg(p);for(;v&&r&&u!==p;){const g=Wx(v),m=v.getBoundingClientRect(),y=Ev(v),x=m.left+(v.clientLeft+parseFloat(y.paddingLeft))*g.x,b=m.top+(v.clientTop+parseFloat(y.paddingTop))*g.y;a*=g.x,f*=g.y,h*=g.x,l*=g.y,a+=x,f+=b,p=Cr(v),v=lg(p)}}return xj({width:h,height:l,x:a,y:f})}function Ej(t,e){let n=null,r;const i=wk(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function d(o,a){o===void 0&&(o=!1),a===void 0&&(a=1),s();const{left:f,top:h,width:l,height:c}=t.getBoundingClientRect();if(o||e(),!l||!c)return;const u=ic(h),p=ic(i.clientWidth-(f+l)),v=ic(i.clientHeight-(h+c)),g=ic(f),y={rootMargin:-u+"px "+-p+"px "+-v+"px "+-g+"px",threshold:yj(0,vj(1,a))||1};let x=!0;function b(w){const S=w[0].intersectionRatio;if(S!==a){if(!x)return d();S?d(!1,S):r=setTimeout(()=>{d(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(b,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,y)}n.observe(t)}return d(!0),s}function Pj(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,f=Pv(t),h=i||s?[...f?Mu(f):[],...Mu(e)]:[];h.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const l=f&&o?Ej(f,n):null;let c=-1,u=null;d&&(u=new ResizeObserver(m=>{let[y]=m;y&&y.target===f&&u&&(u.unobserve(e),cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var x;(x=u)==null||x.observe(e)})),n()}),f&&!a&&u.observe(f),u.observe(e));let p,v=a?Gx(t):null;a&&g();function g(){const m=Gx(t);v&&(m.x!==v.x||m.y!==v.y||m.width!==v.width||m.height!==v.height)&&n(),v=m,p=requestAnimationFrame(g)}return n(),()=>{var m;h.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),l==null||l(),(m=u)==null||m.disconnect(),u=null,a&&cancelAnimationFrame(p)}}var cg=$.useLayoutEffect,Aj=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Du=function(){};function Mj(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Dj(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var d in e)e.hasOwnProperty(d)&&e[d]&&s.push("".concat(Mj(t,d)));return s.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var Xx=function(e){return Vj(e)?e.filter(Boolean):qi(e)==="object"&&e!==null?[e]:[]},Tk=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Tr(e,Aj);return ye({},n)},tt=function(e,n,r){var i=e.cx,s=e.getStyles,d=e.getClassNames,o=e.className;return{css:s(n,e),className:i(r??{},d(n,e),o)}};function Bf(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Ij(t){return Bf(t)?window.innerHeight:t.clientHeight}function kk(t){return Bf(t)?window.pageYOffset:t.scrollTop}function Iu(t,e){if(Bf(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Rj(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function Fj(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function ac(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Du,i=kk(t),s=e-i,d=10,o=0;function a(){o+=d;var f=Fj(o,i,s,n);Iu(t,f),o<n?window.requestAnimationFrame(a):r(t)}a()}function Yx(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Iu(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Iu(t,Math.max(e.offsetTop-i,0))}function Lj(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function Kx(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function jj(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Ok=!1,$j={get passive(){return Ok=!0}},sc=typeof window<"u"?window:{};sc.addEventListener&&sc.removeEventListener&&(sc.addEventListener("p",Du,$j),sc.removeEventListener("p",Du,!1));var Nj=Ok;function Bj(t){return t!=null}function Vj(t){return Array.isArray(t)}function oc(t,e,n){return t?e:n}var zj=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(d){var o=mr(d,1),a=o[0];return!r.includes(a)});return s.reduce(function(d,o){var a=mr(o,2),f=a[0],h=a[1];return d[f]=h,d},{})},Uj=["children","innerProps"],Hj=["children","innerProps"];function Wj(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,d=t.isFixedPosition,o=t.controlHeight,a=Rj(n),f={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return f;var h=a.getBoundingClientRect(),l=h.height,c=n.getBoundingClientRect(),u=c.bottom,p=c.height,v=c.top,g=n.offsetParent.getBoundingClientRect(),m=g.top,y=d?window.innerHeight:Ij(a),x=kk(a),b=parseInt(getComputedStyle(n).marginBottom,10),w=parseInt(getComputedStyle(n).marginTop,10),S=m-w,_=y-v,C=S+x,k=l-x-v,A=u-y+x+b,F=x+v-w,B=160;switch(i){case"auto":case"bottom":if(_>=p)return{placement:"bottom",maxHeight:e};if(k>=p&&!d)return s&&ac(a,A,B),{placement:"bottom",maxHeight:e};if(!d&&k>=r||d&&_>=r){s&&ac(a,A,B);var H=d?_-b:k-b;return{placement:"bottom",maxHeight:H}}if(i==="auto"||d){var L=e,z=d?S:C;return z>=r&&(L=Math.min(z-b-o,e)),{placement:"top",maxHeight:L}}if(i==="bottom")return s&&Iu(a,A),{placement:"bottom",maxHeight:e};break;case"top":if(S>=p)return{placement:"top",maxHeight:e};if(C>=p&&!d)return s&&ac(a,F,B),{placement:"top",maxHeight:e};if(!d&&C>=r||d&&S>=r){var I=e;return(!d&&C>=r||d&&S>=r)&&(I=d?S-w:C-w),s&&ac(a,F,B),{placement:"top",maxHeight:I}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return f}function Gj(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var Ek=function(e){return e==="auto"?"bottom":e},Xj=function(e,n){var r,i=e.placement,s=e.theme,d=s.borderRadius,o=s.spacing,a=s.colors;return ye((r={label:"menu"},uo(r,Gj(i),"100%"),uo(r,"position","absolute"),uo(r,"width","100%"),uo(r,"zIndex",1),r),n?{}:{backgroundColor:a.neutral0,borderRadius:d,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},Pk=$.createContext(null),Yj=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,d=e.menuPosition,o=e.menuShouldScrollIntoView,a=e.theme,f=$.useContext(Pk)||{},h=f.setPortalPlacement,l=$.useRef(null),c=$.useState(i),u=mr(c,2),p=u[0],v=u[1],g=$.useState(null),m=mr(g,2),y=m[0],x=m[1],b=a.spacing.controlHeight;return cg(function(){var w=l.current;if(w){var S=d==="fixed",_=o&&!S,C=Wj({maxHeight:i,menuEl:w,minHeight:r,placement:s,shouldScroll:_,isFixedPosition:S,controlHeight:b});v(C.maxHeight),x(C.placement),h==null||h(C.placement)}},[i,s,d,o,r,h,b]),n({ref:l,placerProps:ye(ye({},e),{},{placement:y||Ek(s),maxHeight:p})})},Kj=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return ve("div",be({},tt(e,"menu",{menu:!0}),{ref:r},i),n)},qj=Kj,Qj=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return ye({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},Jj=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return ve("div",be({},tt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},Ak=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return ye({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},Zj=Ak,e8=Ak,t8=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=Tr(e,Uj);return ve("div",be({},tt(ye(ye({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},n8=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=Tr(e,Hj);return ve("div",be({},tt(ye(ye({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},r8=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},i8=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,d=e.menuPlacement,o=e.menuPosition,a=$.useRef(null),f=$.useRef(null),h=$.useState(Ek(d)),l=mr(h,2),c=l[0],u=l[1],p=$.useMemo(function(){return{setPortalPlacement:u}},[]),v=$.useState(null),g=mr(v,2),m=g[0],y=g[1],x=$.useCallback(function(){if(i){var _=Lj(i),C=o==="fixed"?0:window.pageYOffset,k=_[c]+C;(k!==(m==null?void 0:m.offset)||_.left!==(m==null?void 0:m.rect.left)||_.width!==(m==null?void 0:m.rect.width))&&y({offset:k,rect:_})}},[i,o,c,m==null?void 0:m.offset,m==null?void 0:m.rect.left,m==null?void 0:m.rect.width]);cg(function(){x()},[x]);var b=$.useCallback(function(){typeof f.current=="function"&&(f.current(),f.current=null),i&&a.current&&(f.current=Pj(i,a.current,x,{elementResize:"ResizeObserver"in window}))},[i,x]);cg(function(){b()},[b]);var w=$.useCallback(function(_){a.current=_,b()},[b]);if(!n&&o!=="fixed"||!m)return null;var S=ve("div",be({ref:w},tt(ye(ye({},e),{},{offset:m.offset,position:o,rect:m.rect}),"menuPortal",{"menu-portal":!0}),s),r);return ve(Pk.Provider,{value:p},n?fC.createPortal(S,n):S)},a8=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},s8=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return ve("div",be({},tt(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},o8=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,d=e.selectProps.controlShouldRenderValue;return ye({alignItems:"center",display:i&&s&&d?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},l8=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return ve("div",be({},tt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},c8=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},u8=function(e){var n=e.children,r=e.innerProps;return ve("div",be({},tt(e,"indicatorsContainer",{indicators:!0}),r),n)},qx,f8=["size"],h8=["innerProps","isRtl","size"],d8={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Mk=function(e){var n=e.size,r=Tr(e,f8);return ve("svg",be({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:d8},r))},Av=function(e){return ve(Mk,be({size:20},e),ve("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Dk=function(e){return ve(Mk,be({size:20},e),ve("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Ik=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,d=i.colors;return ye({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?d.neutral60:d.neutral20,padding:s*2,":hover":{color:r?d.neutral80:d.neutral40}})},p8=Ik,g8=function(e){var n=e.children,r=e.innerProps;return ve("div",be({},tt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||ve(Dk,null))},m8=Ik,v8=function(e){var n=e.children,r=e.innerProps;return ve("div",be({},tt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||ve(Av,null))},y8=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,d=i.colors;return ye({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?d.neutral10:d.neutral20,marginBottom:s*2,marginTop:s*2})},x8=function(e){var n=e.innerProps;return ve("span",be({},n,tt(e,"indicatorSeparator",{"indicator-separator":!0})))},b8=gj(qx||(qx=mj([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),w8=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,d=s.colors,o=s.spacing.baseUnit;return ye({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?d.neutral60:d.neutral20,padding:o*2})},sd=function(e){var n=e.delay,r=e.offset;return ve("span",{css:kv({animation:"".concat(b8," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},S8=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,d=Tr(e,h8);return ve("div",be({},tt(ye(ye({},d),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),ve(sd,{delay:0,offset:r}),ve(sd,{delay:160,offset:!0}),ve(sd,{delay:320,offset:!r}))},C8=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,d=s.colors,o=s.borderRadius,a=s.spacing;return ye({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?d.neutral5:d.neutral0,borderColor:r?d.neutral10:i?d.primary:d.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(d.primary):void 0,"&:hover":{borderColor:i?d.primary:d.neutral30}})},_8=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,d=e.innerProps,o=e.menuIsOpen;return ve("div",be({ref:s},tt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":o}),d,{"aria-disabled":r||void 0}),n)},T8=_8,k8=["data"],O8=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},E8=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,d=e.Heading,o=e.headingProps,a=e.innerProps,f=e.label,h=e.theme,l=e.selectProps;return ve("div",be({},tt(e,"group",{group:!0}),a),ve(d,be({},o,{selectProps:l,theme:h,getStyles:i,getClassNames:s,cx:r}),f),ve("div",null,n))},P8=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return ye({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},A8=function(e){var n=Tk(e);n.data;var r=Tr(n,k8);return ve("div",be({},tt(e,"groupHeading",{"group-heading":!0}),r))},M8=E8,D8=["innerRef","isDisabled","isHidden","inputClassName"],I8=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,d=s.spacing,o=s.colors;return ye(ye({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},R8),n?{}:{margin:d.baseUnit/2,paddingBottom:d.baseUnit/2,paddingTop:d.baseUnit/2,color:o.neutral80})},Rk={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},R8={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ye({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Rk)},F8=function(e){return ye({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Rk)},L8=function(e){var n=e.cx,r=e.value,i=Tk(e),s=i.innerRef,d=i.isDisabled,o=i.isHidden,a=i.inputClassName,f=Tr(i,D8);return ve("div",be({},tt(e,"input",{"input-container":!0}),{"data-value":r||""}),ve("input",be({className:n({input:!0},a),ref:s,style:F8(o),disabled:d},f)))},j8=L8,$8=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,d=r.colors;return ye({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:d.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},N8=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,d=e.cropWithEllipsis;return ye({overflow:"hidden",textOverflow:d||d===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},B8=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,d=r.colors,o=e.isFocused;return ye({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:o?d.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:d.dangerLight,color:d.danger}})},Fk=function(e){var n=e.children,r=e.innerProps;return ve("div",r,n)},V8=Fk,z8=Fk;function U8(t){var e=t.children,n=t.innerProps;return ve("div",be({role:"button"},n),e||ve(Av,{size:14}))}var H8=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,d=e.isDisabled,o=e.removeProps,a=e.selectProps,f=r.Container,h=r.Label,l=r.Remove;return ve(f,{data:i,innerProps:ye(ye({},tt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":d})),s),selectProps:a},ve(h,{data:i,innerProps:ye({},tt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},n),ve(l,{data:i,innerProps:ye(ye({},tt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},o),selectProps:a}))},W8=H8,G8=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,d=e.theme,o=d.spacing,a=d.colors;return ye({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?a.primary:i?a.primary25:"transparent",color:r?a.neutral20:s?a.neutral0:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?a.primary:a.primary50}})},X8=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,d=e.innerRef,o=e.innerProps;return ve("div",be({},tt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:d,"aria-disabled":r},o),n)},Y8=X8,K8=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return ye({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},q8=function(e){var n=e.children,r=e.innerProps;return ve("div",be({},tt(e,"placeholder",{placeholder:!0}),r),n)},Q8=q8,J8=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,d=i.colors;return ye({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?d.neutral40:d.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Z8=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return ve("div",be({},tt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},e$=Z8,t$={ClearIndicator:v8,Control:T8,DropdownIndicator:g8,DownChevron:Dk,CrossIcon:Av,Group:M8,GroupHeading:A8,IndicatorsContainer:u8,IndicatorSeparator:x8,Input:j8,LoadingIndicator:S8,Menu:qj,MenuList:Jj,MenuPortal:i8,LoadingMessage:n8,NoOptionsMessage:t8,MultiValue:W8,MultiValueContainer:V8,MultiValueLabel:z8,MultiValueRemove:U8,Option:Y8,Placeholder:Q8,SelectContainer:s8,SingleValue:e$,ValueContainer:l8},n$=function(e){return ye(ye({},t$),e.components)},Qx=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function r$(t,e){return!!(t===e||Qx(t)&&Qx(e))}function i$(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!r$(t[n],e[n]))return!1;return!0}function a$(t,e){e===void 0&&(e=i$);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var d=t.apply(this,i);return n={lastResult:d,lastArgs:i,lastThis:this},d}return r.clear=function(){n=null},r}var s$={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},o$=function(e){return ve("span",be({css:s$},e))},Jx=o$,l$={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,d=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return d?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,d=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return d?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,d=s===void 0?"":s,o=e.selectValue,a=e.isDisabled,f=e.isSelected,h=e.isAppleDevice,l=function(v,g){return v&&v.length?"".concat(v.indexOf(g)+1," of ").concat(v.length):""};if(n==="value"&&o)return"value ".concat(d," focused, ").concat(l(o,r),".");if(n==="menu"&&h){var c=a?" disabled":"",u="".concat(f?" selected":"").concat(c);return"".concat(d).concat(u,", ").concat(l(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},c$=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,d=e.isFocused,o=e.selectValue,a=e.selectProps,f=e.id,h=e.isAppleDevice,l=a.ariaLiveMessages,c=a.getOptionLabel,u=a.inputValue,p=a.isMulti,v=a.isOptionDisabled,g=a.isSearchable,m=a.menuIsOpen,y=a.options,x=a.screenReaderStatus,b=a.tabSelectsValue,w=a.isLoading,S=a["aria-label"],_=a["aria-live"],C=$.useMemo(function(){return ye(ye({},l$),l||{})},[l]),k=$.useMemo(function(){var z="";if(n&&C.onChange){var I=n.option,E=n.options,V=n.removedValue,T=n.removedValues,P=n.value,j=function(K){return Array.isArray(K)?null:K},D=V||I||j(P),W=D?c(D):"",M=E||T||void 0,O=M?M.map(c):[],U=ye({isDisabled:D&&v(D,o),label:W,labels:O},n);z=C.onChange(U)}return z},[n,C,v,o,c]),A=$.useMemo(function(){var z="",I=r||i,E=!!(r&&o&&o.includes(r));if(I&&C.onFocus){var V={focused:I,label:c(I),isDisabled:v(I,o),isSelected:E,options:s,context:I===r?"menu":"value",selectValue:o,isAppleDevice:h};z=C.onFocus(V)}return z},[r,i,c,v,C,s,o,h]),F=$.useMemo(function(){var z="";if(m&&y.length&&!w&&C.onFilter){var I=x({count:s.length});z=C.onFilter({inputValue:u,resultsMessage:I})}return z},[s,u,m,C,y,x,w]),B=(n==null?void 0:n.action)==="initial-input-focus",H=$.useMemo(function(){var z="";if(C.guidance){var I=i?"value":m?"menu":"input";z=C.guidance({"aria-label":S,context:I,isDisabled:r&&v(r,o),isMulti:p,isSearchable:g,tabSelectsValue:b,isInitialFocus:B})}return z},[S,r,i,p,v,g,m,C,o,b,B]),L=ve($.Fragment,null,ve("span",{id:"aria-selection"},k),ve("span",{id:"aria-focused"},A),ve("span",{id:"aria-results"},F),ve("span",{id:"aria-guidance"},H));return ve($.Fragment,null,ve(Jx,{id:f},B&&L),ve(Jx,{"aria-live":_,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},d&&!B&&L))},u$=c$,ug=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],f$=new RegExp("["+ug.map(function(t){return t.letters}).join("")+"]","g"),Lk={};for(var od=0;od<ug.length;od++)for(var ld=ug[od],cd=0;cd<ld.letters.length;cd++)Lk[ld.letters[cd]]=ld.base;var jk=function(e){return e.replace(f$,function(n){return Lk[n]})},h$=a$(jk),Zx=function(e){return e.replace(/^\s+|\s+$/g,"")},d$=function(e){return"".concat(e.label," ").concat(e.value)},p$=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=ye({ignoreCase:!0,ignoreAccents:!0,stringify:d$,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,d=i.ignoreAccents,o=i.stringify,a=i.trim,f=i.matchFrom,h=a?Zx(r):r,l=a?Zx(o(n)):o(n);return s&&(h=h.toLowerCase(),l=l.toLowerCase()),d&&(h=h$(h),l=jk(l)),f==="start"?l.substr(0,h.length)===h:l.indexOf(h)>-1}},g$=["innerRef"];function m$(t){var e=t.innerRef,n=Tr(t,g$),r=zj(n,"onExited","in","enter","exit","appear");return ve("input",be({ref:e},r,{css:kv({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var v$=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function y$(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,d=$.useRef(!1),o=$.useRef(!1),a=$.useRef(0),f=$.useRef(null),h=$.useCallback(function(g,m){if(f.current!==null){var y=f.current,x=y.scrollTop,b=y.scrollHeight,w=y.clientHeight,S=f.current,_=m>0,C=b-w-x,k=!1;C>m&&d.current&&(r&&r(g),d.current=!1),_&&o.current&&(s&&s(g),o.current=!1),_&&m>C?(n&&!d.current&&n(g),S.scrollTop=b,k=!0,d.current=!0):!_&&-m>x&&(i&&!o.current&&i(g),S.scrollTop=0,k=!0,o.current=!0),k&&v$(g)}},[n,r,i,s]),l=$.useCallback(function(g){h(g,g.deltaY)},[h]),c=$.useCallback(function(g){a.current=g.changedTouches[0].clientY},[]),u=$.useCallback(function(g){var m=a.current-g.changedTouches[0].clientY;h(g,m)},[h]),p=$.useCallback(function(g){if(g){var m=Nj?{passive:!1}:!1;g.addEventListener("wheel",l,m),g.addEventListener("touchstart",c,m),g.addEventListener("touchmove",u,m)}},[u,c,l]),v=$.useCallback(function(g){g&&(g.removeEventListener("wheel",l,!1),g.removeEventListener("touchstart",c,!1),g.removeEventListener("touchmove",u,!1))},[u,c,l]);return $.useEffect(function(){if(e){var g=f.current;return p(g),function(){v(g)}}},[e,p,v]),function(g){f.current=g}}var eb=["boxSizing","height","overflow","paddingRight","position"],tb={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function nb(t){t.cancelable&&t.preventDefault()}function rb(t){t.stopPropagation()}function ib(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function ab(){return"ontouchstart"in window||navigator.maxTouchPoints}var sb=!!(typeof window<"u"&&window.document&&window.document.createElement),Qs=0,da={capture:!1,passive:!1};function x$(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=$.useRef({}),s=$.useRef(null),d=$.useCallback(function(a){if(sb){var f=document.body,h=f&&f.style;if(r&&eb.forEach(function(p){var v=h&&h[p];i.current[p]=v}),r&&Qs<1){var l=parseInt(i.current.paddingRight,10)||0,c=document.body?document.body.clientWidth:0,u=window.innerWidth-c+l||0;Object.keys(tb).forEach(function(p){var v=tb[p];h&&(h[p]=v)}),h&&(h.paddingRight="".concat(u,"px"))}f&&ab()&&(f.addEventListener("touchmove",nb,da),a&&(a.addEventListener("touchstart",ib,da),a.addEventListener("touchmove",rb,da))),Qs+=1}},[r]),o=$.useCallback(function(a){if(sb){var f=document.body,h=f&&f.style;Qs=Math.max(Qs-1,0),r&&Qs<1&&eb.forEach(function(l){var c=i.current[l];h&&(h[l]=c)}),f&&ab()&&(f.removeEventListener("touchmove",nb,da),a&&(a.removeEventListener("touchstart",ib,da),a.removeEventListener("touchmove",rb,da)))}},[r]);return $.useEffect(function(){if(e){var a=s.current;return d(a),function(){o(a)}}},[e,d,o]),function(a){s.current=a}}var b$=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},w$={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function S$(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,d=t.onBottomLeave,o=t.onTopArrive,a=t.onTopLeave,f=y$({isEnabled:i,onBottomArrive:s,onBottomLeave:d,onTopArrive:o,onTopLeave:a}),h=x$({isEnabled:n}),l=function(u){f(u),h(u)};return ve($.Fragment,null,n&&ve("div",{onClick:b$,css:w$}),e(l))}var C$={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},_$=function(e){var n=e.name,r=e.onFocus;return ve("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:C$,value:"",onChange:function(){}})},T$=_$;function Mv(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function k$(){return Mv(/^iPhone/i)}function $k(){return Mv(/^Mac/i)}function O$(){return Mv(/^iPad/i)||$k()&&navigator.maxTouchPoints>1}function E$(){return k$()||O$()}function P$(){return $k()||E$()}var A$=function(e){return e.label},M$=function(e){return e.label},D$=function(e){return e.value},I$=function(e){return!!e.isDisabled},R$={clearIndicator:m8,container:a8,control:C8,dropdownIndicator:p8,group:O8,groupHeading:P8,indicatorsContainer:c8,indicatorSeparator:y8,input:I8,loadingIndicator:w8,loadingMessage:e8,menu:Xj,menuList:Qj,menuPortal:r8,multiValue:$8,multiValueLabel:N8,multiValueRemove:B8,noOptionsMessage:Zj,option:G8,placeholder:K8,singleValue:J8,valueContainer:o8},F$={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},L$=4,Nk=4,j$=38,$$=Nk*2,N$={baseUnit:Nk,controlHeight:j$,menuGutter:$$},ud={borderRadius:L$,colors:F$,spacing:N$},B$={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Kx(),captureMenuScroll:!Kx(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:p$(),formatGroupLabel:A$,getOptionLabel:M$,getOptionValue:D$,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:I$,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!jj(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function ob(t,e,n,r){var i=zk(t,e,n),s=Uk(t,e,n),d=Vk(t,e),o=Ru(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:d,value:o,index:r}}function Rc(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(d,o){return ob(t,d,e,o)}).filter(function(d){return cb(t,d)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=ob(t,n,e,r);return cb(t,s)?s:void 0}).filter(Bj)}function Bk(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,yv(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function lb(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,yv(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function V$(t,e){return Bk(Rc(t,e))}function cb(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,d=e.label,o=e.value;return(!Wk(t)||!s)&&Hk(t,{label:d,value:o,data:i},r)}function z$(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function U$(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var fd=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},Vk=function(e,n){return e.getOptionLabel(n)},Ru=function(e,n){return e.getOptionValue(n)};function zk(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function Uk(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Ru(t,e);return n.some(function(i){return Ru(t,i)===r})}function Hk(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var Wk=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},H$=1,Gk=function(t){rL(n,t);var e=sL(n);function n(r){var i;if(tL(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=P$(),i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,f){var h=i.props,l=h.onChange,c=h.name;f.name=c,i.ariaOnChange(a,f),l(a,f)},i.setValue=function(a,f,h){var l=i.props,c=l.closeMenuOnSelect,u=l.isMulti,p=l.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:p}),c&&(i.setState({inputIsHiddenAfterUpdate:!u}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:f,option:h})},i.selectOption=function(a){var f=i.props,h=f.blurInputOnSelect,l=f.isMulti,c=f.name,u=i.state.selectValue,p=l&&i.isOptionSelected(a,u),v=i.isOptionDisabled(a,u);if(p){var g=i.getOptionValue(a);i.setValue(u.filter(function(m){return i.getOptionValue(m)!==g}),"deselect-option",a)}else if(!v)l?i.setValue([].concat(yv(u),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:c});return}h&&i.blurInput()},i.removeValue=function(a){var f=i.props.isMulti,h=i.state.selectValue,l=i.getOptionValue(a),c=h.filter(function(p){return i.getOptionValue(p)!==l}),u=oc(f,c,c[0]||null);i.onChange(u,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(oc(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,f=i.state.selectValue,h=f[f.length-1],l=f.slice(0,f.length-1),c=oc(a,l,l[0]||null);h&&i.onChange(c,{action:"pop-value",removedValue:h})},i.getFocusedOptionId=function(a){return fd(i.state.focusableOptionsWithIds,a)},i.getFocusableOptionsWithIds=function(){return lb(Rc(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,f=new Array(a),h=0;h<a;h++)f[h]=arguments[h];return Dj.apply(void 0,[i.props.classNamePrefix].concat(f))},i.getOptionLabel=function(a){return Vk(i.props,a)},i.getOptionValue=function(a){return Ru(i.props,a)},i.getStyles=function(a,f){var h=i.props.unstyled,l=R$[a](f,h);l.boxSizing="border-box";var c=i.props.styles[a];return c?c(l,f):l},i.getClassNames=function(a,f){var h,l;return(h=(l=i.props.classNames)[a])===null||h===void 0?void 0:h.call(l,f)},i.getElementId=function(a){return"".concat(i.state.instancePrefix,"-").concat(a)},i.getComponents=function(){return n$(i.props)},i.buildCategorizedOptions=function(){return Rc(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return Bk(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,f){i.setState({ariaSelection:ye({value:a},f)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var f=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():f&&i.openMenu("first"):(f&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var f=i.props,h=f.isMulti,l=f.menuIsOpen;i.focusInput(),l?(i.setState({inputIsHiddenAfterUpdate:!h}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&Bf(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var f=a.touches,h=f&&f.item(0);h&&(i.initialTouchX=h.clientX,i.initialTouchY=h.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var f=a.touches,h=f&&f.item(0);if(h){var l=Math.abs(h.clientX-i.initialTouchX),c=Math.abs(h.clientY-i.initialTouchY),u=5;i.userIsDragging=l>u||c>u}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var f=i.props.inputValue,h=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(h,{action:"input-change",prevInputValue:f}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var f=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:f}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){if(!(i.blockOptionHover||i.state.focusedOption===a)){var f=i.getFocusableOptions(),h=f.indexOf(a);i.setState({focusedOption:a,focusedOptionId:h>-1?i.getFocusedOptionId(a):null})}},i.shouldHideSelectedOptions=function(){return Wk(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var f=i.props,h=f.isMulti,l=f.backspaceRemovesValue,c=f.escapeClearsValue,u=f.inputValue,p=f.isClearable,v=f.isDisabled,g=f.menuIsOpen,m=f.onKeyDown,y=f.tabSelectsValue,x=f.openMenuOnFocus,b=i.state,w=b.focusedOption,S=b.focusedValue,_=b.selectValue;if(!v&&!(typeof m=="function"&&(m(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!h||u)return;i.focusValue("previous");break;case"ArrowRight":if(!h||u)return;i.focusValue("next");break;case"Delete":case"Backspace":if(u)return;if(S)i.removeValue(S);else{if(!l)return;h?i.popValue():p&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!g||!y||!w||x&&i.isOptionSelected(w,_))return;i.selectOption(w);break;case"Enter":if(a.keyCode===229)break;if(g){if(!w||i.isComposing)return;i.selectOption(w);break}return;case"Escape":g?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:u}),i.onMenuClose()):p&&c&&i.clearValue();break;case" ":if(u)return;if(!g){i.openMenu("first");break}if(!w)return;i.selectOption(w);break;case"ArrowUp":g?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":g?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!g)return;i.focusOption("pageup");break;case"PageDown":if(!g)return;i.focusOption("pagedown");break;case"Home":if(!g)return;i.focusOption("first");break;case"End":if(!g)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++H$),i.state.selectValue=Xx(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),d=i.buildFocusableOptions(),o=d.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=d[o],i.state.focusedOptionId=fd(s,d[o])}return i}return nL(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Yx(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,d=s.isDisabled,o=s.menuIsOpen,a=this.state.isFocused;(a&&!d&&i.isDisabled||a&&o&&!i.menuIsOpen)&&this.focusInput(),a&&d&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!a&&!d&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Yx(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,d=this.state,o=d.selectValue,a=d.isFocused,f=this.buildFocusableOptions(),h=i==="first"?0:f.length-1;if(!this.props.isMulti){var l=f.indexOf(o[0]);l>-1&&(h=l)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[h],focusedOptionId:this.getFocusedOptionId(f[h])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,d=s.selectValue,o=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=d.indexOf(o);o||(a=-1);var f=d.length-1,h=-1;if(d.length){switch(i){case"previous":a===0?h=0:a===-1?h=f:h=a-1;break;case"next":a>-1&&a<f&&(h=a+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:d[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,d=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var a=0,f=o.indexOf(d);d||(f=-1),i==="up"?a=f>0?f-1:o.length-1:i==="down"?a=(f+1)%o.length:i==="pageup"?(a=f-s,a<0&&(a=0)):i==="pagedown"?(a=f+s,a>o.length-1&&(a=o.length-1)):i==="last"&&(a=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(o[a])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(ud):ye(ye({},ud),this.props.theme):ud}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,d=this.getStyles,o=this.getClassNames,a=this.getValue,f=this.selectOption,h=this.setValue,l=this.props,c=l.isMulti,u=l.isRtl,p=l.options,v=this.hasValue();return{clearValue:i,cx:s,getStyles:d,getClassNames:o,getValue:a,hasValue:v,isMulti:c,isRtl:u,options:p,selectOption:f,selectProps:l,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,d=i.isMulti;return s===void 0?d:s}},{key:"isOptionDisabled",value:function(i,s){return zk(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return Uk(this.props,i,s)}},{key:"filterOption",value:function(i,s){return Hk(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var d=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:d,selectValue:o})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,d=i.isSearchable,o=i.inputId,a=i.inputValue,f=i.tabIndex,h=i.form,l=i.menuIsOpen,c=i.required,u=this.getComponents(),p=u.Input,v=this.state,g=v.inputIsHidden,m=v.ariaSelection,y=this.commonProps,x=o||this.getElementId("input"),b=ye(ye(ye({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},l&&{"aria-controls":this.getElementId("listbox")}),!d&&{"aria-readonly":!0}),this.hasValue()?(m==null?void 0:m.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return d?$.createElement(p,be({},y,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:x,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:h,type:"text",value:a},b)):$.createElement(m$,be({id:x,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Du,onFocus:this.onInputFocus,disabled:s,tabIndex:f,inputMode:"none",form:h,value:""},b))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),d=s.MultiValue,o=s.MultiValueContainer,a=s.MultiValueLabel,f=s.MultiValueRemove,h=s.SingleValue,l=s.Placeholder,c=this.commonProps,u=this.props,p=u.controlShouldRenderValue,v=u.isDisabled,g=u.isMulti,m=u.inputValue,y=u.placeholder,x=this.state,b=x.selectValue,w=x.focusedValue,S=x.isFocused;if(!this.hasValue()||!p)return m?null:$.createElement(l,be({},c,{key:"placeholder",isDisabled:v,isFocused:S,innerProps:{id:this.getElementId("placeholder")}}),y);if(g)return b.map(function(C,k){var A=C===w,F="".concat(i.getOptionLabel(C),"-").concat(i.getOptionValue(C));return $.createElement(d,be({},c,{components:{Container:o,Label:a,Remove:f},isFocused:A,isDisabled:v,key:F,index:k,removeProps:{onClick:function(){return i.removeValue(C)},onTouchEnd:function(){return i.removeValue(C)},onMouseDown:function(H){H.preventDefault()}},data:C}),i.formatOptionLabel(C,"value"))});if(m)return null;var _=b[0];return $.createElement(h,be({},c,{data:_,isDisabled:v}),this.formatOptionLabel(_,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,d=this.commonProps,o=this.props,a=o.isDisabled,f=o.isLoading,h=this.state.isFocused;if(!this.isClearable()||!s||a||!this.hasValue()||f)return null;var l={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return $.createElement(s,be({},d,{innerProps:l,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,d=this.commonProps,o=this.props,a=o.isDisabled,f=o.isLoading,h=this.state.isFocused;if(!s||!f)return null;var l={"aria-hidden":"true"};return $.createElement(s,be({},d,{innerProps:l,isDisabled:a,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,d=i.IndicatorSeparator;if(!s||!d)return null;var o=this.commonProps,a=this.props.isDisabled,f=this.state.isFocused;return $.createElement(d,be({},o,{isDisabled:a,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var d=this.commonProps,o=this.props.isDisabled,a=this.state.isFocused,f={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return $.createElement(s,be({},d,{innerProps:f,isDisabled:o,isFocused:a}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),d=s.Group,o=s.GroupHeading,a=s.Menu,f=s.MenuList,h=s.MenuPortal,l=s.LoadingMessage,c=s.NoOptionsMessage,u=s.Option,p=this.commonProps,v=this.state.focusedOption,g=this.props,m=g.captureMenuScroll,y=g.inputValue,x=g.isLoading,b=g.loadingMessage,w=g.minMenuHeight,S=g.maxMenuHeight,_=g.menuIsOpen,C=g.menuPlacement,k=g.menuPosition,A=g.menuPortalTarget,F=g.menuShouldBlockScroll,B=g.menuShouldScrollIntoView,H=g.noOptionsMessage,L=g.onMenuScrollToTop,z=g.onMenuScrollToBottom;if(!_)return null;var I=function(W,M){var O=W.type,U=W.data,G=W.isDisabled,K=W.isSelected,Y=W.label,Z=W.value,ie=v===U,ae=G?void 0:function(){return i.onOptionHover(U)},Q=G?void 0:function(){return i.selectOption(U)},X="".concat(i.getElementId("option"),"-").concat(M),J={id:X,onClick:Q,onMouseMove:ae,onMouseOver:ae,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:K};return $.createElement(u,be({},p,{innerProps:J,data:U,isDisabled:G,isSelected:K,key:X,label:Y,type:O,value:Z,isFocused:ie,innerRef:ie?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(W.data,"menu"))},E;if(this.hasOptions())E=this.getCategorizedOptions().map(function(D){if(D.type==="group"){var W=D.data,M=D.options,O=D.index,U="".concat(i.getElementId("group"),"-").concat(O),G="".concat(U,"-heading");return $.createElement(d,be({},p,{key:U,data:W,options:M,Heading:o,headingProps:{id:G,data:D.data},label:i.formatGroupLabel(D.data)}),D.options.map(function(K){return I(K,"".concat(O,"-").concat(K.index))}))}else if(D.type==="option")return I(D,"".concat(D.index))});else if(x){var V=b({inputValue:y});if(V===null)return null;E=$.createElement(l,p,V)}else{var T=H({inputValue:y});if(T===null)return null;E=$.createElement(c,p,T)}var P={minMenuHeight:w,maxMenuHeight:S,menuPlacement:C,menuPosition:k,menuShouldScrollIntoView:B},j=$.createElement(Yj,be({},p,P),function(D){var W=D.ref,M=D.placerProps,O=M.placement,U=M.maxHeight;return $.createElement(a,be({},p,P,{innerRef:W,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:x,placement:O}),$.createElement(S$,{captureEnabled:m,onTopArrive:L,onBottomArrive:z,lockEnabled:F},function(G){return $.createElement(f,be({},p,{innerRef:function(Y){i.getMenuListRef(Y),G(Y)},innerProps:{role:"listbox","aria-multiselectable":p.isMulti,id:i.getElementId("listbox")},isLoading:x,maxHeight:U,focusedOption:v}),E)}))});return A||k==="fixed"?$.createElement(h,be({},p,{appendTo:A,controlElement:this.controlRef,menuPlacement:C,menuPosition:k}),j):j}},{key:"renderFormField",value:function(){var i=this,s=this.props,d=s.delimiter,o=s.isDisabled,a=s.isMulti,f=s.name,h=s.required,l=this.state.selectValue;if(h&&!this.hasValue()&&!o)return $.createElement(T$,{name:f,onFocus:this.onValueInputFocus});if(!(!f||o))if(a)if(d){var c=l.map(function(v){return i.getOptionValue(v)}).join(d);return $.createElement("input",{name:f,type:"hidden",value:c})}else{var u=l.length>0?l.map(function(v,g){return $.createElement("input",{key:"i-".concat(g),name:f,type:"hidden",value:i.getOptionValue(v)})}):$.createElement("input",{name:f,type:"hidden",value:""});return $.createElement("div",null,u)}else{var p=l[0]?this.getOptionValue(l[0]):"";return $.createElement("input",{name:f,type:"hidden",value:p})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,d=s.ariaSelection,o=s.focusedOption,a=s.focusedValue,f=s.isFocused,h=s.selectValue,l=this.getFocusableOptions();return $.createElement(u$,be({},i,{id:this.getElementId("live-region"),ariaSelection:d,focusedOption:o,focusedValue:a,isFocused:f,selectValue:h,focusableOptions:l,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,d=i.IndicatorsContainer,o=i.SelectContainer,a=i.ValueContainer,f=this.props,h=f.className,l=f.id,c=f.isDisabled,u=f.menuIsOpen,p=this.state.isFocused,v=this.commonProps=this.getCommonProps();return $.createElement(o,be({},v,{className:h,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:p}),this.renderLiveRegion(),$.createElement(s,be({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:p,menuIsOpen:u}),$.createElement(a,be({},v,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),$.createElement(d,be({},v,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var d=s.prevProps,o=s.clearFocusValueOnUpdate,a=s.inputIsHiddenAfterUpdate,f=s.ariaSelection,h=s.isFocused,l=s.prevWasFocused,c=s.instancePrefix,u=i.options,p=i.value,v=i.menuIsOpen,g=i.inputValue,m=i.isMulti,y=Xx(p),x={};if(d&&(p!==d.value||u!==d.options||v!==d.menuIsOpen||g!==d.inputValue)){var b=v?V$(i,y):[],w=v?lb(Rc(i,y),"".concat(c,"-option")):[],S=o?z$(s,y):null,_=U$(s,b),C=fd(w,_);x={selectValue:y,focusedOption:_,focusedOptionId:C,focusableOptionsWithIds:w,focusedValue:S,clearFocusValueOnUpdate:!1}}var k=a!=null&&i!==d?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},A=f,F=h&&l;return h&&!F&&(A={value:oc(m,y,y[0]||null),options:y,action:"initial-input-focus"},F=!l),(f==null?void 0:f.action)==="initial-input-focus"&&(A=null),ye(ye(ye({},x),k),{},{prevProps:i,ariaSelection:A,prevWasFocused:F})}}]),n}($.Component);Gk.defaultProps=B$;var W$=$.forwardRef(function(t,e){var n=eL(t);return $.createElement(Gk,be({ref:e},n))}),fg=W$;function G$({tags:t,selectedTags:e,onSelect:n}){const r=t.map(d=>({value:d.value,label:d.label,color:d.color,category:d.category})),i=r.reduce((d,o)=>{const a=o.category;return d[a]||(d[a]=[]),d[a].push(o),d},{}),s=Object.entries(i).map(([d,o])=>({label:d,options:o}));return R.jsx(fg,{isMulti:!0,options:s,value:r.filter(d=>e.includes(d.value)),onChange:d=>n(d.map(o=>o.value)),className:"w-full",classNamePrefix:"react-select",styles:{option:(d,o)=>({...d,backgroundColor:o.isSelected?o.data.color:d.backgroundColor,":hover":{backgroundColor:o.data.color,opacity:.8}}),multiValue:(d,o)=>({...d,backgroundColor:o.data.color})}})}var mn={},xl={},X$=typeof or=="object"&&or&&or.Object===Object&&or,Xk=X$,Y$=Xk,K$=typeof self=="object"&&self&&self.Object===Object&&self,q$=Y$||K$||Function("return this")(),tr=q$,Q$=tr,J$=Q$.Symbol,bl=J$,ub=bl,Yk=Object.prototype,Z$=Yk.hasOwnProperty,e6=Yk.toString,Js=ub?ub.toStringTag:void 0;function t6(t){var e=Z$.call(t,Js),n=t[Js];try{t[Js]=void 0;var r=!0}catch{}var i=e6.call(t);return r&&(e?t[Js]=n:delete t[Js]),i}var n6=t6,r6=Object.prototype,i6=r6.toString;function a6(t){return i6.call(t)}var s6=a6,fb=bl,o6=n6,l6=s6,c6="[object Null]",u6="[object Undefined]",hb=fb?fb.toStringTag:void 0;function f6(t){return t==null?t===void 0?u6:c6:hb&&hb in Object(t)?o6(t):l6(t)}var ia=f6,h6=Array.isArray,Rn=h6;function d6(t){return t!=null&&typeof t=="object"}var kr=d6,p6=ia,g6=Rn,m6=kr,v6="[object String]";function y6(t){return typeof t=="string"||!g6(t)&&m6(t)&&p6(t)==v6}var x6=y6;function b6(t){return function(e,n,r){for(var i=-1,s=Object(e),d=r(e),o=d.length;o--;){var a=d[t?o:++i];if(n(s[a],a,s)===!1)break}return e}}var w6=b6,S6=w6,C6=S6(),_6=C6;function T6(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var k6=T6,O6=ia,E6=kr,P6="[object Arguments]";function A6(t){return E6(t)&&O6(t)==P6}var M6=A6,db=M6,D6=kr,Kk=Object.prototype,I6=Kk.hasOwnProperty,R6=Kk.propertyIsEnumerable,F6=db(function(){return arguments}())?db:function(t){return D6(t)&&I6.call(t,"callee")&&!R6.call(t,"callee")},qk=F6,Fu={exports:{}};function L6(){return!1}var j6=L6;Fu.exports;(function(t,e){var n=tr,r=j6,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,d=s&&s.exports===i,o=d?n.Buffer:void 0,a=o?o.isBuffer:void 0,f=a||r;t.exports=f})(Fu,Fu.exports);var Dv=Fu.exports,$6=9007199254740991,N6=/^(?:0|[1-9]\d*)$/;function B6(t,e){var n=typeof t;return e=e??$6,!!e&&(n=="number"||n!="symbol"&&N6.test(t))&&t>-1&&t%1==0&&t<e}var Qk=B6,V6=9007199254740991;function z6(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=V6}var Iv=z6,U6=ia,H6=Iv,W6=kr,G6="[object Arguments]",X6="[object Array]",Y6="[object Boolean]",K6="[object Date]",q6="[object Error]",Q6="[object Function]",J6="[object Map]",Z6="[object Number]",eN="[object Object]",tN="[object RegExp]",nN="[object Set]",rN="[object String]",iN="[object WeakMap]",aN="[object ArrayBuffer]",sN="[object DataView]",oN="[object Float32Array]",lN="[object Float64Array]",cN="[object Int8Array]",uN="[object Int16Array]",fN="[object Int32Array]",hN="[object Uint8Array]",dN="[object Uint8ClampedArray]",pN="[object Uint16Array]",gN="[object Uint32Array]",ze={};ze[oN]=ze[lN]=ze[cN]=ze[uN]=ze[fN]=ze[hN]=ze[dN]=ze[pN]=ze[gN]=!0;ze[G6]=ze[X6]=ze[aN]=ze[Y6]=ze[sN]=ze[K6]=ze[q6]=ze[Q6]=ze[J6]=ze[Z6]=ze[eN]=ze[tN]=ze[nN]=ze[rN]=ze[iN]=!1;function mN(t){return W6(t)&&H6(t.length)&&!!ze[U6(t)]}var vN=mN;function yN(t){return function(e){return t(e)}}var Rv=yN,Lu={exports:{}};Lu.exports;(function(t,e){var n=Xk,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,d=s&&n.process,o=function(){try{var a=i&&i.require&&i.require("util").types;return a||d&&d.binding&&d.binding("util")}catch{}}();t.exports=o})(Lu,Lu.exports);var Fv=Lu.exports,xN=vN,bN=Rv,pb=Fv,gb=pb&&pb.isTypedArray,wN=gb?bN(gb):xN,Jk=wN,SN=k6,CN=qk,_N=Rn,TN=Dv,kN=Qk,ON=Jk,EN=Object.prototype,PN=EN.hasOwnProperty;function AN(t,e){var n=_N(t),r=!n&&CN(t),i=!n&&!r&&TN(t),s=!n&&!r&&!i&&ON(t),d=n||r||i||s,o=d?SN(t.length,String):[],a=o.length;for(var f in t)(e||PN.call(t,f))&&!(d&&(f=="length"||i&&(f=="offset"||f=="parent")||s&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||kN(f,a)))&&o.push(f);return o}var Zk=AN,MN=Object.prototype;function DN(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||MN;return t===n}var Lv=DN;function IN(t,e){return function(n){return t(e(n))}}var eO=IN,RN=eO,FN=RN(Object.keys,Object),LN=FN,jN=Lv,$N=LN,NN=Object.prototype,BN=NN.hasOwnProperty;function VN(t){if(!jN(t))return $N(t);var e=[];for(var n in Object(t))BN.call(t,n)&&n!="constructor"&&e.push(n);return e}var zN=VN;function UN(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ks=UN,HN=ia,WN=ks,GN="[object AsyncFunction]",XN="[object Function]",YN="[object GeneratorFunction]",KN="[object Proxy]";function qN(t){if(!WN(t))return!1;var e=HN(t);return e==XN||e==YN||e==GN||e==KN}var tO=qN,QN=tO,JN=Iv;function ZN(t){return t!=null&&JN(t.length)&&!QN(t)}var Vf=ZN,eB=Zk,tB=zN,nB=Vf;function rB(t){return nB(t)?eB(t):tB(t)}var wl=rB,iB=_6,aB=wl;function sB(t,e){return t&&iB(t,e,aB)}var nO=sB;function oB(t){return t}var rO=oB,lB=rO;function cB(t){return typeof t=="function"?t:lB}var uB=cB,fB=nO,hB=uB;function dB(t,e){return t&&fB(t,hB(e))}var jv=dB,pB=eO,gB=pB(Object.getPrototypeOf,Object),$v=gB,mB=ia,vB=$v,yB=kr,xB="[object Object]",bB=Function.prototype,wB=Object.prototype,iO=bB.toString,SB=wB.hasOwnProperty,CB=iO.call(Object);function _B(t){if(!yB(t)||mB(t)!=xB)return!1;var e=vB(t);if(e===null)return!0;var n=SB.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&iO.call(n)==CB}var TB=_B;function kB(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var aO=kB;function OB(){this.__data__=[],this.size=0}var EB=OB;function PB(t,e){return t===e||t!==t&&e!==e}var Nv=PB,AB=Nv;function MB(t,e){for(var n=t.length;n--;)if(AB(t[n][0],e))return n;return-1}var zf=MB,DB=zf,IB=Array.prototype,RB=IB.splice;function FB(t){var e=this.__data__,n=DB(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():RB.call(e,n,1),--this.size,!0}var LB=FB,jB=zf;function $B(t){var e=this.__data__,n=jB(e,t);return n<0?void 0:e[n][1]}var NB=$B,BB=zf;function VB(t){return BB(this.__data__,t)>-1}var zB=VB,UB=zf;function HB(t,e){var n=this.__data__,r=UB(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var WB=HB,GB=EB,XB=LB,YB=NB,KB=zB,qB=WB;function Os(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Os.prototype.clear=GB;Os.prototype.delete=XB;Os.prototype.get=YB;Os.prototype.has=KB;Os.prototype.set=qB;var Uf=Os,QB=Uf;function JB(){this.__data__=new QB,this.size=0}var ZB=JB;function e9(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var t9=e9;function n9(t){return this.__data__.get(t)}var r9=n9;function i9(t){return this.__data__.has(t)}var a9=i9,s9=tr,o9=s9["__core-js_shared__"],l9=o9,hd=l9,mb=function(){var t=/[^.]+$/.exec(hd&&hd.keys&&hd.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function c9(t){return!!mb&&mb in t}var u9=c9,f9=Function.prototype,h9=f9.toString;function d9(t){if(t!=null){try{return h9.call(t)}catch{}try{return t+""}catch{}}return""}var sO=d9,p9=tO,g9=u9,m9=ks,v9=sO,y9=/[\\^$.*+?()[\]{}|]/g,x9=/^\[object .+?Constructor\]$/,b9=Function.prototype,w9=Object.prototype,S9=b9.toString,C9=w9.hasOwnProperty,_9=RegExp("^"+S9.call(C9).replace(y9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function T9(t){if(!m9(t)||g9(t))return!1;var e=p9(t)?_9:x9;return e.test(v9(t))}var k9=T9;function O9(t,e){return t==null?void 0:t[e]}var E9=O9,P9=k9,A9=E9;function M9(t,e){var n=A9(t,e);return P9(n)?n:void 0}var aa=M9,D9=aa,I9=tr,R9=D9(I9,"Map"),Bv=R9,F9=aa,L9=F9(Object,"create"),Hf=L9,vb=Hf;function j9(){this.__data__=vb?vb(null):{},this.size=0}var $9=j9;function N9(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var B9=N9,V9=Hf,z9="__lodash_hash_undefined__",U9=Object.prototype,H9=U9.hasOwnProperty;function W9(t){var e=this.__data__;if(V9){var n=e[t];return n===z9?void 0:n}return H9.call(e,t)?e[t]:void 0}var G9=W9,X9=Hf,Y9=Object.prototype,K9=Y9.hasOwnProperty;function q9(t){var e=this.__data__;return X9?e[t]!==void 0:K9.call(e,t)}var Q9=q9,J9=Hf,Z9="__lodash_hash_undefined__";function e7(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=J9&&e===void 0?Z9:e,this}var t7=e7,n7=$9,r7=B9,i7=G9,a7=Q9,s7=t7;function Es(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Es.prototype.clear=n7;Es.prototype.delete=r7;Es.prototype.get=i7;Es.prototype.has=a7;Es.prototype.set=s7;var o7=Es,yb=o7,l7=Uf,c7=Bv;function u7(){this.size=0,this.__data__={hash:new yb,map:new(c7||l7),string:new yb}}var f7=u7;function h7(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var d7=h7,p7=d7;function g7(t,e){var n=t.__data__;return p7(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Wf=g7,m7=Wf;function v7(t){var e=m7(this,t).delete(t);return this.size-=e?1:0,e}var y7=v7,x7=Wf;function b7(t){return x7(this,t).get(t)}var w7=b7,S7=Wf;function C7(t){return S7(this,t).has(t)}var _7=C7,T7=Wf;function k7(t,e){var n=T7(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var O7=k7,E7=f7,P7=y7,A7=w7,M7=_7,D7=O7;function Ps(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ps.prototype.clear=E7;Ps.prototype.delete=P7;Ps.prototype.get=A7;Ps.prototype.has=M7;Ps.prototype.set=D7;var Vv=Ps,I7=Uf,R7=Bv,F7=Vv,L7=200;function j7(t,e){var n=this.__data__;if(n instanceof I7){var r=n.__data__;if(!R7||r.length<L7-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new F7(r)}return n.set(t,e),this.size=n.size,this}var $7=j7,N7=Uf,B7=ZB,V7=t9,z7=r9,U7=a9,H7=$7;function As(t){var e=this.__data__=new N7(t);this.size=e.size}As.prototype.clear=B7;As.prototype.delete=V7;As.prototype.get=z7;As.prototype.has=U7;As.prototype.set=H7;var zv=As,W7="__lodash_hash_undefined__";function G7(t){return this.__data__.set(t,W7),this}var X7=G7;function Y7(t){return this.__data__.has(t)}var K7=Y7,q7=Vv,Q7=X7,J7=K7;function ju(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new q7;++e<n;)this.add(t[e])}ju.prototype.add=ju.prototype.push=Q7;ju.prototype.has=J7;var Z7=ju;function eV(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var tV=eV;function nV(t,e){return t.has(e)}var rV=nV,iV=Z7,aV=tV,sV=rV,oV=1,lV=2;function cV(t,e,n,r,i,s){var d=n&oV,o=t.length,a=e.length;if(o!=a&&!(d&&a>o))return!1;var f=s.get(t),h=s.get(e);if(f&&h)return f==e&&h==t;var l=-1,c=!0,u=n&lV?new iV:void 0;for(s.set(t,e),s.set(e,t);++l<o;){var p=t[l],v=e[l];if(r)var g=d?r(v,p,l,e,t,s):r(p,v,l,t,e,s);if(g!==void 0){if(g)continue;c=!1;break}if(u){if(!aV(e,function(m,y){if(!sV(u,y)&&(p===m||i(p,m,n,r,s)))return u.push(y)})){c=!1;break}}else if(!(p===v||i(p,v,n,r,s))){c=!1;break}}return s.delete(t),s.delete(e),c}var oO=cV,uV=tr,fV=uV.Uint8Array,lO=fV;function hV(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var dV=hV;function pV(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var gV=pV,xb=bl,bb=lO,mV=Nv,vV=oO,yV=dV,xV=gV,bV=1,wV=2,SV="[object Boolean]",CV="[object Date]",_V="[object Error]",TV="[object Map]",kV="[object Number]",OV="[object RegExp]",EV="[object Set]",PV="[object String]",AV="[object Symbol]",MV="[object ArrayBuffer]",DV="[object DataView]",wb=xb?xb.prototype:void 0,dd=wb?wb.valueOf:void 0;function IV(t,e,n,r,i,s,d){switch(n){case DV:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case MV:return!(t.byteLength!=e.byteLength||!s(new bb(t),new bb(e)));case SV:case CV:case kV:return mV(+t,+e);case _V:return t.name==e.name&&t.message==e.message;case OV:case PV:return t==e+"";case TV:var o=yV;case EV:var a=r&bV;if(o||(o=xV),t.size!=e.size&&!a)return!1;var f=d.get(t);if(f)return f==e;r|=wV,d.set(t,e);var h=vV(o(t),o(e),r,i,s,d);return d.delete(t),h;case AV:if(dd)return dd.call(t)==dd.call(e)}return!1}var RV=IV;function FV(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var cO=FV,LV=cO,jV=Rn;function $V(t,e,n){var r=e(t);return jV(t)?r:LV(r,n(t))}var uO=$V;function NV(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var d=t[n];e(d,n,t)&&(s[i++]=d)}return s}var BV=NV;function VV(){return[]}var fO=VV,zV=BV,UV=fO,HV=Object.prototype,WV=HV.propertyIsEnumerable,Sb=Object.getOwnPropertySymbols,GV=Sb?function(t){return t==null?[]:(t=Object(t),zV(Sb(t),function(e){return WV.call(t,e)}))}:UV,Uv=GV,XV=uO,YV=Uv,KV=wl;function qV(t){return XV(t,KV,YV)}var hO=qV,Cb=hO,QV=1,JV=Object.prototype,ZV=JV.hasOwnProperty;function ez(t,e,n,r,i,s){var d=n&QV,o=Cb(t),a=o.length,f=Cb(e),h=f.length;if(a!=h&&!d)return!1;for(var l=a;l--;){var c=o[l];if(!(d?c in e:ZV.call(e,c)))return!1}var u=s.get(t),p=s.get(e);if(u&&p)return u==e&&p==t;var v=!0;s.set(t,e),s.set(e,t);for(var g=d;++l<a;){c=o[l];var m=t[c],y=e[c];if(r)var x=d?r(y,m,c,e,t,s):r(m,y,c,t,e,s);if(!(x===void 0?m===y||i(m,y,n,r,s):x)){v=!1;break}g||(g=c=="constructor")}if(v&&!g){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(v=!1)}return s.delete(t),s.delete(e),v}var tz=ez,nz=aa,rz=tr,iz=nz(rz,"DataView"),az=iz,sz=aa,oz=tr,lz=sz(oz,"Promise"),cz=lz,uz=aa,fz=tr,hz=uz(fz,"Set"),dz=hz,pz=aa,gz=tr,mz=pz(gz,"WeakMap"),vz=mz,hg=az,dg=Bv,pg=cz,gg=dz,mg=vz,dO=ia,Ms=sO,_b="[object Map]",yz="[object Object]",Tb="[object Promise]",kb="[object Set]",Ob="[object WeakMap]",Eb="[object DataView]",xz=Ms(hg),bz=Ms(dg),wz=Ms(pg),Sz=Ms(gg),Cz=Ms(mg),Ti=dO;(hg&&Ti(new hg(new ArrayBuffer(1)))!=Eb||dg&&Ti(new dg)!=_b||pg&&Ti(pg.resolve())!=Tb||gg&&Ti(new gg)!=kb||mg&&Ti(new mg)!=Ob)&&(Ti=function(t){var e=dO(t),n=e==yz?t.constructor:void 0,r=n?Ms(n):"";if(r)switch(r){case xz:return Eb;case bz:return _b;case wz:return Tb;case Sz:return kb;case Cz:return Ob}return e});var Gf=Ti,pd=zv,_z=oO,Tz=RV,kz=tz,Pb=Gf,Ab=Rn,Mb=Dv,Oz=Jk,Ez=1,Db="[object Arguments]",Ib="[object Array]",lc="[object Object]",Pz=Object.prototype,Rb=Pz.hasOwnProperty;function Az(t,e,n,r,i,s){var d=Ab(t),o=Ab(e),a=d?Ib:Pb(t),f=o?Ib:Pb(e);a=a==Db?lc:a,f=f==Db?lc:f;var h=a==lc,l=f==lc,c=a==f;if(c&&Mb(t)){if(!Mb(e))return!1;d=!0,h=!1}if(c&&!h)return s||(s=new pd),d||Oz(t)?_z(t,e,n,r,i,s):Tz(t,e,a,n,r,i,s);if(!(n&Ez)){var u=h&&Rb.call(t,"__wrapped__"),p=l&&Rb.call(e,"__wrapped__");if(u||p){var v=u?t.value():t,g=p?e.value():e;return s||(s=new pd),i(v,g,n,r,s)}}return c?(s||(s=new pd),kz(t,e,n,r,i,s)):!1}var Mz=Az,Dz=Mz,Fb=kr;function pO(t,e,n,r,i){return t===e?!0:t==null||e==null||!Fb(t)&&!Fb(e)?t!==t&&e!==e:Dz(t,e,n,r,pO,i)}var gO=pO,Iz=zv,Rz=gO,Fz=1,Lz=2;function jz(t,e,n,r){var i=n.length,s=i,d=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(d&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var a=o[0],f=t[a],h=o[1];if(d&&o[2]){if(f===void 0&&!(a in t))return!1}else{var l=new Iz;if(r)var c=r(f,h,a,t,e,l);if(!(c===void 0?Rz(h,f,Fz|Lz,r,l):c))return!1}}return!0}var $z=jz,Nz=ks;function Bz(t){return t===t&&!Nz(t)}var mO=Bz,Vz=mO,zz=wl;function Uz(t){for(var e=zz(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Vz(i)]}return e}var Hz=Uz;function Wz(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var vO=Wz,Gz=$z,Xz=Hz,Yz=vO;function Kz(t){var e=Xz(t);return e.length==1&&e[0][2]?Yz(e[0][0],e[0][1]):function(n){return n===t||Gz(n,t,e)}}var qz=Kz,Qz=ia,Jz=kr,Zz="[object Symbol]";function eU(t){return typeof t=="symbol"||Jz(t)&&Qz(t)==Zz}var Hv=eU,tU=Rn,nU=Hv,rU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,iU=/^\w*$/;function aU(t,e){if(tU(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||nU(t)?!0:iU.test(t)||!rU.test(t)||e!=null&&t in Object(e)}var Wv=aU,yO=Vv,sU="Expected a function";function Gv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(sU);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var d=t.apply(this,r);return n.cache=s.set(i,d)||s,d};return n.cache=new(Gv.Cache||yO),n}Gv.Cache=yO;var oU=Gv,lU=oU,cU=500;function uU(t){var e=lU(t,function(r){return n.size===cU&&n.clear(),r}),n=e.cache;return e}var fU=uU,hU=fU,dU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pU=/\\(\\)?/g,gU=hU(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(dU,function(n,r,i,s){e.push(i?s.replace(pU,"$1"):r||n)}),e}),mU=gU,Lb=bl,vU=aO,yU=Rn,xU=Hv,bU=1/0,jb=Lb?Lb.prototype:void 0,$b=jb?jb.toString:void 0;function xO(t){if(typeof t=="string")return t;if(yU(t))return vU(t,xO)+"";if(xU(t))return $b?$b.call(t):"";var e=t+"";return e=="0"&&1/t==-bU?"-0":e}var wU=xO,SU=wU;function CU(t){return t==null?"":SU(t)}var _U=CU,TU=Rn,kU=Wv,OU=mU,EU=_U;function PU(t,e){return TU(t)?t:kU(t,e)?[t]:OU(EU(t))}var bO=PU,AU=Hv,MU=1/0;function DU(t){if(typeof t=="string"||AU(t))return t;var e=t+"";return e=="0"&&1/t==-MU?"-0":e}var Xf=DU,IU=bO,RU=Xf;function FU(t,e){e=IU(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[RU(e[n++])];return n&&n==r?t:void 0}var wO=FU,LU=wO;function jU(t,e,n){var r=t==null?void 0:LU(t,e);return r===void 0?n:r}var $U=jU;function NU(t,e){return t!=null&&e in Object(t)}var BU=NU,VU=bO,zU=qk,UU=Rn,HU=Qk,WU=Iv,GU=Xf;function XU(t,e,n){e=VU(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var d=GU(e[r]);if(!(s=t!=null&&n(t,d)))break;t=t[d]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&WU(i)&&HU(d,i)&&(UU(t)||zU(t)))}var YU=XU,KU=BU,qU=YU;function QU(t,e){return t!=null&&qU(t,e,KU)}var JU=QU,ZU=gO,eH=$U,tH=JU,nH=Wv,rH=mO,iH=vO,aH=Xf,sH=1,oH=2;function lH(t,e){return nH(t)&&rH(e)?iH(aH(t),e):function(n){var r=eH(n,t);return r===void 0&&r===e?tH(n,t):ZU(e,r,sH|oH)}}var cH=lH;function uH(t){return function(e){return e==null?void 0:e[t]}}var fH=uH,hH=wO;function dH(t){return function(e){return hH(e,t)}}var pH=dH,gH=fH,mH=pH,vH=Wv,yH=Xf;function xH(t){return vH(t)?gH(yH(t)):mH(t)}var bH=xH,wH=qz,SH=cH,CH=rO,_H=Rn,TH=bH;function kH(t){return typeof t=="function"?t:t==null?CH:typeof t=="object"?_H(t)?SH(t[0],t[1]):wH(t):TH(t)}var OH=kH,EH=Vf;function PH(t,e){return function(n,r){if(n==null)return n;if(!EH(n))return t(n,r);for(var i=n.length,s=e?i:-1,d=Object(n);(e?s--:++s<i)&&r(d[s],s,d)!==!1;);return n}}var AH=PH,MH=nO,DH=AH,IH=DH(MH),RH=IH,FH=RH,LH=Vf;function jH(t,e){var n=-1,r=LH(t)?Array(t.length):[];return FH(t,function(i,s,d){r[++n]=e(i,s,d)}),r}var $H=jH,NH=aO,BH=OH,VH=$H,zH=Rn;function UH(t,e){var n=zH(t)?NH:VH;return n(t,BH(e))}var HH=UH;Object.defineProperty(xl,"__esModule",{value:!0});xl.flattenNames=void 0;var WH=x6,GH=Yf(WH),XH=jv,YH=Yf(XH),KH=TB,qH=Yf(KH),QH=HH,JH=Yf(QH);function Yf(t){return t&&t.__esModule?t:{default:t}}var ZH=xl.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,JH.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,qH.default)(r)?(0,YH.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,GH.default)(r)&&n.push(r)}),n};xl.default=ZH;var Sl={};function eW(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var tW=eW,nW=aa,rW=function(){try{var t=nW(Object,"defineProperty");return t({},"",{}),t}catch{}}(),iW=rW,Nb=iW;function aW(t,e,n){e=="__proto__"&&Nb?Nb(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var SO=aW,sW=SO,oW=Nv,lW=Object.prototype,cW=lW.hasOwnProperty;function uW(t,e,n){var r=t[e];(!(cW.call(t,e)&&oW(r,n))||n===void 0&&!(e in t))&&sW(t,e,n)}var CO=uW,fW=CO,hW=SO;function dW(t,e,n,r){var i=!n;n||(n={});for(var s=-1,d=e.length;++s<d;){var o=e[s],a=r?r(n[o],t[o],o,n,t):void 0;a===void 0&&(a=t[o]),i?hW(n,o,a):fW(n,o,a)}return n}var Kf=dW,pW=Kf,gW=wl;function mW(t,e){return t&&pW(e,gW(e),t)}var vW=mW;function yW(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var xW=yW,bW=ks,wW=Lv,SW=xW,CW=Object.prototype,_W=CW.hasOwnProperty;function TW(t){if(!bW(t))return SW(t);var e=wW(t),n=[];for(var r in t)r=="constructor"&&(e||!_W.call(t,r))||n.push(r);return n}var kW=TW,OW=Zk,EW=kW,PW=Vf;function AW(t){return PW(t)?OW(t,!0):EW(t)}var Xv=AW,MW=Kf,DW=Xv;function IW(t,e){return t&&MW(e,DW(e),t)}var RW=IW,$u={exports:{}};$u.exports;(function(t,e){var n=tr,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,d=s?n.Buffer:void 0,o=d?d.allocUnsafe:void 0;function a(f,h){if(h)return f.slice();var l=f.length,c=o?o(l):new f.constructor(l);return f.copy(c),c}t.exports=a})($u,$u.exports);var FW=$u.exports;function LW(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var jW=LW,$W=Kf,NW=Uv;function BW(t,e){return $W(t,NW(t),e)}var VW=BW,zW=cO,UW=$v,HW=Uv,WW=fO,GW=Object.getOwnPropertySymbols,XW=GW?function(t){for(var e=[];t;)zW(e,HW(t)),t=UW(t);return e}:WW,_O=XW,YW=Kf,KW=_O;function qW(t,e){return YW(t,KW(t),e)}var QW=qW,JW=uO,ZW=_O,eG=Xv;function tG(t){return JW(t,eG,ZW)}var nG=tG,rG=Object.prototype,iG=rG.hasOwnProperty;function aG(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&iG.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var sG=aG,Bb=lO;function oG(t){var e=new t.constructor(t.byteLength);return new Bb(e).set(new Bb(t)),e}var Yv=oG,lG=Yv;function cG(t,e){var n=e?lG(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var uG=cG,fG=/\w*$/;function hG(t){var e=new t.constructor(t.source,fG.exec(t));return e.lastIndex=t.lastIndex,e}var dG=hG,Vb=bl,zb=Vb?Vb.prototype:void 0,Ub=zb?zb.valueOf:void 0;function pG(t){return Ub?Object(Ub.call(t)):{}}var gG=pG,mG=Yv;function vG(t,e){var n=e?mG(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var yG=vG,xG=Yv,bG=uG,wG=dG,SG=gG,CG=yG,_G="[object Boolean]",TG="[object Date]",kG="[object Map]",OG="[object Number]",EG="[object RegExp]",PG="[object Set]",AG="[object String]",MG="[object Symbol]",DG="[object ArrayBuffer]",IG="[object DataView]",RG="[object Float32Array]",FG="[object Float64Array]",LG="[object Int8Array]",jG="[object Int16Array]",$G="[object Int32Array]",NG="[object Uint8Array]",BG="[object Uint8ClampedArray]",VG="[object Uint16Array]",zG="[object Uint32Array]";function UG(t,e,n){var r=t.constructor;switch(e){case DG:return xG(t);case _G:case TG:return new r(+t);case IG:return bG(t,n);case RG:case FG:case LG:case jG:case $G:case NG:case BG:case VG:case zG:return CG(t,n);case kG:return new r;case OG:case AG:return new r(t);case EG:return wG(t);case PG:return new r;case MG:return SG(t)}}var HG=UG,WG=ks,Hb=Object.create,GG=function(){function t(){}return function(e){if(!WG(e))return{};if(Hb)return Hb(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),XG=GG,YG=XG,KG=$v,qG=Lv;function QG(t){return typeof t.constructor=="function"&&!qG(t)?YG(KG(t)):{}}var JG=QG,ZG=Gf,eX=kr,tX="[object Map]";function nX(t){return eX(t)&&ZG(t)==tX}var rX=nX,iX=rX,aX=Rv,Wb=Fv,Gb=Wb&&Wb.isMap,sX=Gb?aX(Gb):iX,oX=sX,lX=Gf,cX=kr,uX="[object Set]";function fX(t){return cX(t)&&lX(t)==uX}var hX=fX,dX=hX,pX=Rv,Xb=Fv,Yb=Xb&&Xb.isSet,gX=Yb?pX(Yb):dX,mX=gX,vX=zv,yX=tW,xX=CO,bX=vW,wX=RW,SX=FW,CX=jW,_X=VW,TX=QW,kX=hO,OX=nG,EX=Gf,PX=sG,AX=HG,MX=JG,DX=Rn,IX=Dv,RX=oX,FX=ks,LX=mX,jX=wl,$X=Xv,NX=1,BX=2,VX=4,TO="[object Arguments]",zX="[object Array]",UX="[object Boolean]",HX="[object Date]",WX="[object Error]",kO="[object Function]",GX="[object GeneratorFunction]",XX="[object Map]",YX="[object Number]",OO="[object Object]",KX="[object RegExp]",qX="[object Set]",QX="[object String]",JX="[object Symbol]",ZX="[object WeakMap]",eY="[object ArrayBuffer]",tY="[object DataView]",nY="[object Float32Array]",rY="[object Float64Array]",iY="[object Int8Array]",aY="[object Int16Array]",sY="[object Int32Array]",oY="[object Uint8Array]",lY="[object Uint8ClampedArray]",cY="[object Uint16Array]",uY="[object Uint32Array]",Ne={};Ne[TO]=Ne[zX]=Ne[eY]=Ne[tY]=Ne[UX]=Ne[HX]=Ne[nY]=Ne[rY]=Ne[iY]=Ne[aY]=Ne[sY]=Ne[XX]=Ne[YX]=Ne[OO]=Ne[KX]=Ne[qX]=Ne[QX]=Ne[JX]=Ne[oY]=Ne[lY]=Ne[cY]=Ne[uY]=!0;Ne[WX]=Ne[kO]=Ne[ZX]=!1;function Fc(t,e,n,r,i,s){var d,o=e&NX,a=e&BX,f=e&VX;if(n&&(d=i?n(t,r,i,s):n(t)),d!==void 0)return d;if(!FX(t))return t;var h=DX(t);if(h){if(d=PX(t),!o)return CX(t,d)}else{var l=EX(t),c=l==kO||l==GX;if(IX(t))return SX(t,o);if(l==OO||l==TO||c&&!i){if(d=a||c?{}:MX(t),!o)return a?TX(t,wX(d,t)):_X(t,bX(d,t))}else{if(!Ne[l])return i?t:{};d=AX(t,l,o)}}s||(s=new vX);var u=s.get(t);if(u)return u;s.set(t,d),LX(t)?t.forEach(function(g){d.add(Fc(g,e,n,g,t,s))}):RX(t)&&t.forEach(function(g,m){d.set(m,Fc(g,e,n,m,t,s))});var p=f?a?OX:kX:a?$X:jX,v=h?void 0:p(t);return yX(v||t,function(g,m){v&&(m=g,g=t[m]),xX(d,m,Fc(g,e,n,m,t,s))}),d}var fY=Fc,hY=fY,dY=1,pY=4;function gY(t){return hY(t,dY|pY)}var mY=gY;Object.defineProperty(Sl,"__esModule",{value:!0});Sl.mergeClasses=void 0;var vY=jv,yY=EO(vY),xY=mY,bY=EO(xY),wY=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function EO(t){return t&&t.__esModule?t:{default:t}}var SY=Sl.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,bY.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,yY.default)(s,function(d,o){r[o]||(r[o]={}),r[o]=wY({},r[o],s[o])}),i}),r};Sl.default=SY;var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});Cl.autoprefix=void 0;var CY=jv,Kb=TY(CY),_Y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function TY(t){return t&&t.__esModule?t:{default:t}}var kY={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},OY=Cl.autoprefix=function(e){var n={};return(0,Kb.default)(e,function(r,i){var s={};(0,Kb.default)(r,function(d,o){var a=kY[o];a?s=_Y({},s,a(d)):s[o]=d}),n[i]=s}),n};Cl.default=OY;var _l={};Object.defineProperty(_l,"__esModule",{value:!0});_l.hover=void 0;var EY=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PY=$,gd=AY(PY);function AY(t){return t&&t.__esModule?t:{default:t}}function MY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qb(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function DY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var IY=_l.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){DY(i,r);function i(){var s,d,o,a;MY(this,i);for(var f=arguments.length,h=Array(f),l=0;l<f;l++)h[l]=arguments[l];return a=(d=(o=qb(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),o),o.state={hover:!1},o.handleMouseOver=function(){return o.setState({hover:!0})},o.handleMouseOut=function(){return o.setState({hover:!1})},o.render=function(){return gd.default.createElement(n,{onMouseOver:o.handleMouseOver,onMouseOut:o.handleMouseOut},gd.default.createElement(e,EY({},o.props,o.state)))},d),qb(o,a)}return i}(gd.default.Component)};_l.default=IY;var Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.active=void 0;var RY=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FY=$,md=LY(FY);function LY(t){return t&&t.__esModule?t:{default:t}}function jY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qb(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function $Y(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var NY=Tl.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){$Y(i,r);function i(){var s,d,o,a;jY(this,i);for(var f=arguments.length,h=Array(f),l=0;l<f;l++)h[l]=arguments[l];return a=(d=(o=Qb(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),o),o.state={active:!1},o.handleMouseDown=function(){return o.setState({active:!0})},o.handleMouseUp=function(){return o.setState({active:!1})},o.render=function(){return md.default.createElement(n,{onMouseDown:o.handleMouseDown,onMouseUp:o.handleMouseUp},md.default.createElement(e,RY({},o.props,o.state)))},d),Qb(o,a)}return i}(md.default.Component)};Tl.default=NY;var Kv={};Object.defineProperty(Kv,"__esModule",{value:!0});var BY=function(e,n){var r={},i=function(d){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[d]=o};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};Kv.default=BY;Object.defineProperty(mn,"__esModule",{value:!0});mn.ReactCSS=mn.loop=mn.handleActive=qv=mn.handleHover=mn.hover=void 0;var VY=xl,zY=Ds(VY),UY=Sl,HY=Ds(UY),WY=Cl,GY=Ds(WY),XY=_l,PO=Ds(XY),YY=Tl,KY=Ds(YY),qY=Kv,QY=Ds(qY);function Ds(t){return t&&t.__esModule?t:{default:t}}mn.hover=PO.default;var qv=mn.handleHover=PO.default;mn.handleActive=KY.default;mn.loop=QY.default;var JY=mn.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,zY.default)(r),d=(0,HY.default)(e,s);return(0,GY.default)(d)},Ce=mn.default=JY,ZY=function(e,n,r,i,s){var d=s.clientWidth,o=s.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,f=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,h=a-(s.getBoundingClientRect().left+window.pageXOffset),l=f-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var c=void 0;if(l<0?c=0:l>o?c=1:c=Math.round(l*100/o)/100,n.a!==c)return{h:n.h,s:n.s,l:n.l,a:c,source:"rgb"}}else{var u=void 0;if(h<0?u=0:h>d?u=1:u=Math.round(h*100/d)/100,i!==u)return{h:n.h,s:n.s,l:n.l,a:u,source:"rgb"}}return null},vd={},eK=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var d=s.getContext("2d");return d?(d.fillStyle=e,d.fillRect(0,0,s.width,s.height),d.fillStyle=n,d.fillRect(0,0,r,r),d.translate(r,r),d.fillRect(0,0,r,r),s.toDataURL()):null},tK=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(vd[s])return vd[s];var d=eK(e,n,r,i);return vd[s]=d,d},Jb=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Is=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,d=e.borderRadius,o=e.boxShadow,a=e.children,f=Ce({default:{grid:{borderRadius:d,boxShadow:o,absolute:"0px 0px 0px 0px",background:"url("+tK(n,r,i,s.canvas)+") center left"}}});return $.isValidElement(a)?N.cloneElement(a,Jb({},a.props,{style:Jb({},a.props.style,f.grid)})):N.createElement("div",{style:f.grid})};Is.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var nK=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rK=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function iK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zb(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function aK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Qv=function(t){aK(e,t);function e(){var n,r,i,s;iK(this,e);for(var d=arguments.length,o=Array(d),a=0;a<d;a++)o[a]=arguments[a];return s=(r=(i=Zb(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(o))),i),i.handleChange=function(f){var h=ZY(f,i.props.hsl,i.props.direction,i.props.a,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,f)},i.handleMouseDown=function(f){i.handleChange(f),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),Zb(i,s)}return rK(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=Ce({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:nK({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return N.createElement("div",{style:s.alpha},N.createElement("div",{style:s.checkboard},N.createElement(Is,{renderers:this.props.renderers})),N.createElement("div",{style:s.gradient}),N.createElement("div",{style:s.container,ref:function(o){return r.container=o},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},N.createElement("div",{style:s.pointer},this.props.pointer?N.createElement(this.props.pointer,this.props):N.createElement("div",{style:s.slider}))))}}]),e}($.PureComponent||$.Component),sK=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function oK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cK(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var fK=1,AO=38,hK=40,dK=[AO,hK],pK=function(e){return dK.indexOf(e)>-1},gK=function(e){return Number(String(e).replace(/%/g,""))},mK=1,Oe=function(t){uK(e,t);function e(n){lK(this,e);var r=cK(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=gK(i.target.value);if(!isNaN(s)&&pK(i.keyCode)){var d=r.getArrowOffset(),o=i.keyCode===AO?s+d:s-d;r.setUpdatedValue(o,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+mK++,r}return sK(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return oK({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||fK}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=Ce({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return N.createElement("div",{style:i.wrap},N.createElement("input",{id:this.inputId,style:i.input,ref:function(d){return r.input=d},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?N.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}($.PureComponent||$.Component),vK=function(e,n,r,i){var s=i.clientWidth,d=i.clientHeight,o=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,a=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,f=o-(i.getBoundingClientRect().left+window.pageXOffset),h=a-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var l=void 0;if(h<0)l=359;else if(h>d)l=0;else{var c=-(h*100/d)+100;l=360*c/100}if(r.h!==l)return{h:l,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var u=void 0;if(f<0)u=0;else if(f>s)u=359;else{var p=f*100/s;u=360*p/100}if(r.h!==u)return{h:u,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},yK=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function xK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ew(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Rs=function(t){bK(e,t);function e(){var n,r,i,s;xK(this,e);for(var d=arguments.length,o=Array(d),a=0;a<d;a++)o[a]=arguments[a];return s=(r=(i=ew(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(o))),i),i.handleChange=function(f){var h=vK(f,i.props.direction,i.props.hsl,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,f)},i.handleMouseDown=function(f){i.handleChange(f),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),ew(i,s)}return yK(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,d=Ce({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return N.createElement("div",{style:d.hue},N.createElement("div",{className:"hue-"+s,style:d.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},N.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),N.createElement("div",{style:d.pointer},this.props.pointer?N.createElement(this.props.pointer,this.props):N.createElement("div",{style:d.slider}))))}}]),e}($.PureComponent||$.Component);function wK(){this.__data__=[],this.size=0}function kl(t,e){return t===e||t!==t&&e!==e}function qf(t,e){for(var n=t.length;n--;)if(kl(t[n][0],e))return n;return-1}var SK=Array.prototype,CK=SK.splice;function _K(t){var e=this.__data__,n=qf(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():CK.call(e,n,1),--this.size,!0}function TK(t){var e=this.__data__,n=qf(e,t);return n<0?void 0:e[n][1]}function kK(t){return qf(this.__data__,t)>-1}function OK(t,e){var n=this.__data__,r=qf(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Or(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Or.prototype.clear=wK;Or.prototype.delete=_K;Or.prototype.get=TK;Or.prototype.has=kK;Or.prototype.set=OK;function EK(){this.__data__=new Or,this.size=0}function PK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function AK(t){return this.__data__.get(t)}function MK(t){return this.__data__.has(t)}var MO=typeof global=="object"&&global&&global.Object===Object&&global,DK=typeof self=="object"&&self&&self.Object===Object&&self,Fn=MO||DK||Function("return this")(),li=Fn.Symbol,DO=Object.prototype,IK=DO.hasOwnProperty,RK=DO.toString,Zs=li?li.toStringTag:void 0;function FK(t){var e=IK.call(t,Zs),n=t[Zs];try{t[Zs]=void 0;var r=!0}catch{}var i=RK.call(t);return r&&(e?t[Zs]=n:delete t[Zs]),i}var LK=Object.prototype,jK=LK.toString;function $K(t){return jK.call(t)}var NK="[object Null]",BK="[object Undefined]",tw=li?li.toStringTag:void 0;function sa(t){return t==null?t===void 0?BK:NK:tw&&tw in Object(t)?FK(t):$K(t)}function wn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var VK="[object AsyncFunction]",zK="[object Function]",UK="[object GeneratorFunction]",HK="[object Proxy]";function Jv(t){if(!wn(t))return!1;var e=sa(t);return e==zK||e==UK||e==VK||e==HK}var yd=Fn["__core-js_shared__"],nw=function(){var t=/[^.]+$/.exec(yd&&yd.keys&&yd.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function WK(t){return!!nw&&nw in t}var GK=Function.prototype,XK=GK.toString;function oa(t){if(t!=null){try{return XK.call(t)}catch{}try{return t+""}catch{}}return""}var YK=/[\\^$.*+?()[\]{}|]/g,KK=/^\[object .+?Constructor\]$/,qK=Function.prototype,QK=Object.prototype,JK=qK.toString,ZK=QK.hasOwnProperty,eq=RegExp("^"+JK.call(ZK).replace(YK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tq(t){if(!wn(t)||WK(t))return!1;var e=Jv(t)?eq:KK;return e.test(oa(t))}function nq(t,e){return t==null?void 0:t[e]}function la(t,e){var n=nq(t,e);return tq(n)?n:void 0}var al=la(Fn,"Map"),sl=la(Object,"create");function rq(){this.__data__=sl?sl(null):{},this.size=0}function iq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aq="__lodash_hash_undefined__",sq=Object.prototype,oq=sq.hasOwnProperty;function lq(t){var e=this.__data__;if(sl){var n=e[t];return n===aq?void 0:n}return oq.call(e,t)?e[t]:void 0}var cq=Object.prototype,uq=cq.hasOwnProperty;function fq(t){var e=this.__data__;return sl?e[t]!==void 0:uq.call(e,t)}var hq="__lodash_hash_undefined__";function dq(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=sl&&e===void 0?hq:e,this}function Qi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qi.prototype.clear=rq;Qi.prototype.delete=iq;Qi.prototype.get=lq;Qi.prototype.has=fq;Qi.prototype.set=dq;function pq(){this.size=0,this.__data__={hash:new Qi,map:new(al||Or),string:new Qi}}function gq(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Qf(t,e){var n=t.__data__;return gq(e)?n[typeof e=="string"?"string":"hash"]:n.map}function mq(t){var e=Qf(this,t).delete(t);return this.size-=e?1:0,e}function vq(t){return Qf(this,t).get(t)}function yq(t){return Qf(this,t).has(t)}function xq(t,e){var n=Qf(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Er(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Er.prototype.clear=pq;Er.prototype.delete=mq;Er.prototype.get=vq;Er.prototype.has=yq;Er.prototype.set=xq;var bq=200;function wq(t,e){var n=this.__data__;if(n instanceof Or){var r=n.__data__;if(!al||r.length<bq-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Er(r)}return n.set(t,e),this.size=n.size,this}function qn(t){var e=this.__data__=new Or(t);this.size=e.size}qn.prototype.clear=EK;qn.prototype.delete=PK;qn.prototype.get=AK;qn.prototype.has=MK;qn.prototype.set=wq;var Nu=function(){try{var t=la(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Zv(t,e,n){e=="__proto__"&&Nu?Nu(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function vg(t,e,n){(n!==void 0&&!kl(t[e],n)||n===void 0&&!(e in t))&&Zv(t,e,n)}function Sq(t){return function(e,n,r){for(var i=-1,s=Object(e),d=r(e),o=d.length;o--;){var a=d[++i];if(n(s[a],a,s)===!1)break}return e}}var IO=Sq(),RO=typeof tn=="object"&&tn&&!tn.nodeType&&tn,rw=RO&&typeof nn=="object"&&nn&&!nn.nodeType&&nn,Cq=rw&&rw.exports===RO,iw=Cq?Fn.Buffer:void 0;iw&&iw.allocUnsafe;function _q(t,e){return t.slice()}var Bu=Fn.Uint8Array;function Tq(t){var e=new t.constructor(t.byteLength);return new Bu(e).set(new Bu(t)),e}function kq(t,e){var n=Tq(t.buffer);return new t.constructor(n,t.byteOffset,t.length)}function Oq(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var aw=Object.create,Eq=function(){function t(){}return function(e){if(!wn(e))return{};if(aw)return aw(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function FO(t,e){return function(n){return t(e(n))}}var LO=FO(Object.getPrototypeOf,Object),Pq=Object.prototype;function e0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Pq;return t===n}function Aq(t){return typeof t.constructor=="function"&&!e0(t)?Eq(LO(t)):{}}function ci(t){return t!=null&&typeof t=="object"}var Mq="[object Arguments]";function sw(t){return ci(t)&&sa(t)==Mq}var jO=Object.prototype,Dq=jO.hasOwnProperty,Iq=jO.propertyIsEnumerable,Vu=sw(function(){return arguments}())?sw:function(t){return ci(t)&&Dq.call(t,"callee")&&!Iq.call(t,"callee")},ln=Array.isArray,Rq=9007199254740991;function t0(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Rq}function Fs(t){return t!=null&&t0(t.length)&&!Jv(t)}function Fq(t){return ci(t)&&Fs(t)}function Lq(){return!1}var $O=typeof tn=="object"&&tn&&!tn.nodeType&&tn,ow=$O&&typeof nn=="object"&&nn&&!nn.nodeType&&nn,jq=ow&&ow.exports===$O,lw=jq?Fn.Buffer:void 0,$q=lw?lw.isBuffer:void 0,zu=$q||Lq,Nq="[object Object]",Bq=Function.prototype,Vq=Object.prototype,NO=Bq.toString,zq=Vq.hasOwnProperty,Uq=NO.call(Object);function Hq(t){if(!ci(t)||sa(t)!=Nq)return!1;var e=LO(t);if(e===null)return!0;var n=zq.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&NO.call(n)==Uq}var Wq="[object Arguments]",Gq="[object Array]",Xq="[object Boolean]",Yq="[object Date]",Kq="[object Error]",qq="[object Function]",Qq="[object Map]",Jq="[object Number]",Zq="[object Object]",eQ="[object RegExp]",tQ="[object Set]",nQ="[object String]",rQ="[object WeakMap]",iQ="[object ArrayBuffer]",aQ="[object DataView]",sQ="[object Float32Array]",oQ="[object Float64Array]",lQ="[object Int8Array]",cQ="[object Int16Array]",uQ="[object Int32Array]",fQ="[object Uint8Array]",hQ="[object Uint8ClampedArray]",dQ="[object Uint16Array]",pQ="[object Uint32Array]",Ue={};Ue[sQ]=Ue[oQ]=Ue[lQ]=Ue[cQ]=Ue[uQ]=Ue[fQ]=Ue[hQ]=Ue[dQ]=Ue[pQ]=!0;Ue[Wq]=Ue[Gq]=Ue[iQ]=Ue[Xq]=Ue[aQ]=Ue[Yq]=Ue[Kq]=Ue[qq]=Ue[Qq]=Ue[Jq]=Ue[Zq]=Ue[eQ]=Ue[tQ]=Ue[nQ]=Ue[rQ]=!1;function gQ(t){return ci(t)&&t0(t.length)&&!!Ue[sa(t)]}function mQ(t){return function(e){return t(e)}}var BO=typeof tn=="object"&&tn&&!tn.nodeType&&tn,Po=BO&&typeof nn=="object"&&nn&&!nn.nodeType&&nn,vQ=Po&&Po.exports===BO,xd=vQ&&MO.process,cw=function(){try{var t=Po&&Po.require&&Po.require("util").types;return t||xd&&xd.binding&&xd.binding("util")}catch{}}(),uw=cw&&cw.isTypedArray,n0=uw?mQ(uw):gQ;function yg(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var yQ=Object.prototype,xQ=yQ.hasOwnProperty;function bQ(t,e,n){var r=t[e];(!(xQ.call(t,e)&&kl(r,n))||n===void 0&&!(e in t))&&Zv(t,e,n)}function wQ(t,e,n,r){var i=!n;n||(n={});for(var s=-1,d=e.length;++s<d;){var o=e[s],a=void 0;a===void 0&&(a=t[o]),i?Zv(n,o,a):bQ(n,o,a)}return n}function SQ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var CQ=9007199254740991,_Q=/^(?:0|[1-9]\d*)$/;function r0(t,e){var n=typeof t;return e=e??CQ,!!e&&(n=="number"||n!="symbol"&&_Q.test(t))&&t>-1&&t%1==0&&t<e}var TQ=Object.prototype,kQ=TQ.hasOwnProperty;function VO(t,e){var n=ln(t),r=!n&&Vu(t),i=!n&&!r&&zu(t),s=!n&&!r&&!i&&n0(t),d=n||r||i||s,o=d?SQ(t.length,String):[],a=o.length;for(var f in t)(e||kQ.call(t,f))&&!(d&&(f=="length"||i&&(f=="offset"||f=="parent")||s&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||r0(f,a)))&&o.push(f);return o}function OQ(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var EQ=Object.prototype,PQ=EQ.hasOwnProperty;function AQ(t){if(!wn(t))return OQ(t);var e=e0(t),n=[];for(var r in t)r=="constructor"&&(e||!PQ.call(t,r))||n.push(r);return n}function zO(t){return Fs(t)?VO(t,!0):AQ(t)}function MQ(t){return wQ(t,zO(t))}function DQ(t,e,n,r,i,s,d){var o=yg(t,n),a=yg(e,n),f=d.get(a);if(f){vg(t,n,f);return}var h=s?s(o,a,n+"",t,e,d):void 0,l=h===void 0;if(l){var c=ln(a),u=!c&&zu(a),p=!c&&!u&&n0(a);h=a,c||u||p?ln(o)?h=o:Fq(o)?h=Oq(o):u?(l=!1,h=_q(a)):p?(l=!1,h=kq(a)):h=[]:Hq(a)||Vu(a)?(h=o,Vu(o)?h=MQ(o):(!wn(o)||Jv(o))&&(h=Aq(a))):l=!1}l&&(d.set(a,h),i(h,a,r,s,d),d.delete(a)),vg(t,n,h)}function UO(t,e,n,r,i){t!==e&&IO(e,function(s,d){if(i||(i=new qn),wn(s))DQ(t,e,d,n,UO,r,i);else{var o=r?r(yg(t,d),s,d+"",t,e,i):void 0;o===void 0&&(o=s),vg(t,d,o)}},zO)}function Jf(t){return t}function IQ(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var fw=Math.max;function RQ(t,e,n){return e=fw(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=fw(r.length-e,0),d=Array(s);++i<s;)d[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(d),IQ(t,this,o)}}function FQ(t){return function(){return t}}var LQ=Nu?function(t,e){return Nu(t,"toString",{configurable:!0,enumerable:!1,value:FQ(e),writable:!0})}:Jf,jQ=800,$Q=16,NQ=Date.now;function BQ(t){var e=0,n=0;return function(){var r=NQ(),i=$Q-(r-n);if(n=r,i>0){if(++e>=jQ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var VQ=BQ(LQ);function zQ(t,e){return VQ(RQ(t,e,Jf),t+"")}function UQ(t,e,n){if(!wn(n))return!1;var r=typeof e;return(r=="number"?Fs(n)&&r0(e,n.length):r=="string"&&e in n)?kl(n[e],t):!1}function HQ(t){return zQ(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,d=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,d&&UQ(n[0],n[1],d)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var o=n[r];o&&t(e,o,r,s)}return e})}var Xt=HQ(function(t,e,n){UO(t,e,n)}),Ol=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,d=e.styles,o=d===void 0?{}:d,a=Ce(Xt({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},o),{"zDepth-1":n===1});return N.createElement("div",{style:a.wrap},N.createElement("div",{style:a.bg}),N.createElement("div",{style:a.content},s))};Ol.propTypes={background:se.string,zDepth:se.oneOf([0,1,2,3,4,5]),radius:se.number,styles:se.object};Ol.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var bd=function(){return Fn.Date.now()},WQ=/\s/;function GQ(t){for(var e=t.length;e--&&WQ.test(t.charAt(e)););return e}var XQ=/^\s+/;function YQ(t){return t&&t.slice(0,GQ(t)+1).replace(XQ,"")}var KQ="[object Symbol]";function Zf(t){return typeof t=="symbol"||ci(t)&&sa(t)==KQ}var hw=NaN,qQ=/^[-+]0x[0-9a-f]+$/i,QQ=/^0b[01]+$/i,JQ=/^0o[0-7]+$/i,ZQ=parseInt;function dw(t){if(typeof t=="number")return t;if(Zf(t))return hw;if(wn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=YQ(t);var n=QQ.test(t);return n||JQ.test(t)?ZQ(t.slice(2),n?2:8):qQ.test(t)?hw:+t}var eJ="Expected a function",tJ=Math.max,nJ=Math.min;function HO(t,e,n){var r,i,s,d,o,a,f=0,h=!1,l=!1,c=!0;if(typeof t!="function")throw new TypeError(eJ);e=dw(e)||0,wn(n)&&(h=!!n.leading,l="maxWait"in n,s=l?tJ(dw(n.maxWait)||0,e):s,c="trailing"in n?!!n.trailing:c);function u(S){var _=r,C=i;return r=i=void 0,f=S,d=t.apply(C,_),d}function p(S){return f=S,o=setTimeout(m,e),h?u(S):d}function v(S){var _=S-a,C=S-f,k=e-_;return l?nJ(k,s-C):k}function g(S){var _=S-a,C=S-f;return a===void 0||_>=e||_<0||l&&C>=s}function m(){var S=bd();if(g(S))return y(S);o=setTimeout(m,v(S))}function y(S){return o=void 0,c&&r?u(S):(r=i=void 0,d)}function x(){o!==void 0&&clearTimeout(o),f=0,r=a=i=o=void 0}function b(){return o===void 0?d:y(bd())}function w(){var S=bd(),_=g(S);if(r=arguments,i=this,a=S,_){if(o===void 0)return p(a);if(l)return clearTimeout(o),o=setTimeout(m,e),u(a)}return o===void 0&&(o=setTimeout(m,e)),d}return w.cancel=x,w.flush=b,w}var rJ="Expected a function";function iJ(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(rJ);return wn(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),HO(t,e,{leading:r,maxWait:e,trailing:i})}var aJ=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,d=i.height,o=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,a=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,f=o-(r.getBoundingClientRect().left+window.pageXOffset),h=a-(r.getBoundingClientRect().top+window.pageYOffset);f<0?f=0:f>s&&(f=s),h<0?h=0:h>d&&(h=d);var l=f/s,c=1-h/d;return{h:n.h,s:l,v:c,a:n.a,source:"hsv"}},sJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function oJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eh=function(t){cJ(e,t);function e(n){oJ(this,e);var r=lJ(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,aJ(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=iJ(function(i,s,d){i(s,d)},50),r}return sJ(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,d=i.white,o=i.black,a=i.pointer,f=i.circle,h=Ce({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:d,black:o,pointer:a,circle:f}},{custom:!!this.props.style});return N.createElement("div",{style:h.color,ref:function(c){return r.container=c},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},N.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),N.createElement("div",{style:h.white,className:"saturation-white"},N.createElement("div",{style:h.black,className:"saturation-black"}),N.createElement("div",{style:h.pointer},this.props.pointer?N.createElement(this.props.pointer,this.props):N.createElement("div",{style:h.circle}))))}}]),e}($.PureComponent||$.Component);function uJ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var fJ=FO(Object.keys,Object),hJ=Object.prototype,dJ=hJ.hasOwnProperty;function pJ(t){if(!e0(t))return fJ(t);var e=[];for(var n in Object(t))dJ.call(t,n)&&n!="constructor"&&e.push(n);return e}function i0(t){return Fs(t)?VO(t):pJ(t)}function gJ(t,e){return t&&IO(t,e,i0)}function mJ(t,e){return function(n,r){if(n==null)return n;if(!Fs(n))return t(n,r);for(var i=n.length,s=-1,d=Object(n);++s<i&&r(d[s],s,d)!==!1;);return n}}var WO=mJ(gJ);function vJ(t){return typeof t=="function"?t:Jf}function yJ(t,e){var n=ln(t)?uJ:WO;return n(t,vJ(e))}function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}var xJ=/^\s+/,bJ=/\s+$/;function pe(t,e){if(t=t||"",e=e||{},t instanceof pe)return t;if(!(this instanceof pe))return new pe(t,e);var n=wJ(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}pe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,d,o;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?d=r/12.92:d=Math.pow((r+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*d+.0722*o},setAlpha:function(e){return this._a=GO(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=gw(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=gw(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=pw(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=pw(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return mw(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return TJ(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(We(this._r,255)*100)+"%",g:Math.round(We(this._g,255)*100)+"%",b:Math.round(We(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(We(this._r,255)*100)+"%, "+Math.round(We(this._g,255)*100)+"%, "+Math.round(We(this._b,255)*100)+"%)":"rgba("+Math.round(We(this._r,255)*100)+"%, "+Math.round(We(this._g,255)*100)+"%, "+Math.round(We(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:jJ[mw(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+vw(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=pe(e);r="#"+vw(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return pe(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(PJ,arguments)},brighten:function(){return this._applyModification(AJ,arguments)},darken:function(){return this._applyModification(MJ,arguments)},desaturate:function(){return this._applyModification(kJ,arguments)},saturate:function(){return this._applyModification(OJ,arguments)},greyscale:function(){return this._applyModification(EJ,arguments)},spin:function(){return this._applyModification(DJ,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(FJ,arguments)},complement:function(){return this._applyCombination(IJ,arguments)},monochromatic:function(){return this._applyCombination(LJ,arguments)},splitcomplement:function(){return this._applyCombination(RJ,arguments)},triad:function(){return this._applyCombination(yw,[3])},tetrad:function(){return this._applyCombination(yw,[4])}};pe.fromRatio=function(t,e){if(Uu(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=fo(t[r]));t=n}return pe(t,e)};function wJ(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,d=!1,o=!1;return typeof t=="string"&&(t=VJ(t)),Uu(t)=="object"&&(ir(t.r)&&ir(t.g)&&ir(t.b)?(e=SJ(t.r,t.g,t.b),d=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):ir(t.h)&&ir(t.s)&&ir(t.v)?(r=fo(t.s),i=fo(t.v),e=_J(t.h,r,i),d=!0,o="hsv"):ir(t.h)&&ir(t.s)&&ir(t.l)&&(r=fo(t.s),s=fo(t.l),e=CJ(t.h,r,s),d=!0,o="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=GO(n),{ok:d,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function SJ(t,e,n){return{r:We(t,255)*255,g:We(e,255)*255,b:We(n,255)*255}}function pw(t,e,n){t=We(t,255),e=We(e,255),n=We(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,d,o=(r+i)/2;if(r==i)s=d=0;else{var a=r-i;switch(d=o>.5?a/(2-r-i):a/(r+i),r){case t:s=(e-n)/a+(e<n?6:0);break;case e:s=(n-t)/a+2;break;case n:s=(t-e)/a+4;break}s/=6}return{h:s,s:d,l:o}}function CJ(t,e,n){var r,i,s;t=We(t,360),e=We(e,100),n=We(n,100);function d(f,h,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?f+(h-f)*6*l:l<1/2?h:l<2/3?f+(h-f)*(2/3-l)*6:f}if(e===0)r=i=s=n;else{var o=n<.5?n*(1+e):n+e-n*e,a=2*n-o;r=d(a,o,t+1/3),i=d(a,o,t),s=d(a,o,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function gw(t,e,n){t=We(t,255),e=We(e,255),n=We(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,d,o=r,a=r-i;if(d=r===0?0:a/r,r==i)s=0;else{switch(r){case t:s=(e-n)/a+(e<n?6:0);break;case e:s=(n-t)/a+2;break;case n:s=(t-e)/a+4;break}s/=6}return{h:s,s:d,v:o}}function _J(t,e,n){t=We(t,360)*6,e=We(e,100),n=We(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),d=n*(1-i*e),o=n*(1-(1-i)*e),a=r%6,f=[n,d,s,s,o,n][a],h=[o,n,n,d,s,s][a],l=[s,s,o,n,n,d][a];return{r:f*255,g:h*255,b:l*255}}function mw(t,e,n,r){var i=[Pn(Math.round(t).toString(16)),Pn(Math.round(e).toString(16)),Pn(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function TJ(t,e,n,r,i){var s=[Pn(Math.round(t).toString(16)),Pn(Math.round(e).toString(16)),Pn(Math.round(n).toString(16)),Pn(XO(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function vw(t,e,n,r){var i=[Pn(XO(r)),Pn(Math.round(t).toString(16)),Pn(Math.round(e).toString(16)),Pn(Math.round(n).toString(16))];return i.join("")}pe.equals=function(t,e){return!t||!e?!1:pe(t).toRgbString()==pe(e).toRgbString()};pe.random=function(){return pe.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function kJ(t,e){e=e===0?0:e||10;var n=pe(t).toHsl();return n.s-=e/100,n.s=th(n.s),pe(n)}function OJ(t,e){e=e===0?0:e||10;var n=pe(t).toHsl();return n.s+=e/100,n.s=th(n.s),pe(n)}function EJ(t){return pe(t).desaturate(100)}function PJ(t,e){e=e===0?0:e||10;var n=pe(t).toHsl();return n.l+=e/100,n.l=th(n.l),pe(n)}function AJ(t,e){e=e===0?0:e||10;var n=pe(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),pe(n)}function MJ(t,e){e=e===0?0:e||10;var n=pe(t).toHsl();return n.l-=e/100,n.l=th(n.l),pe(n)}function DJ(t,e){var n=pe(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,pe(n)}function IJ(t){var e=pe(t).toHsl();return e.h=(e.h+180)%360,pe(e)}function yw(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=pe(t).toHsl(),r=[pe(t)],i=360/e,s=1;s<e;s++)r.push(pe({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function RJ(t){var e=pe(t).toHsl(),n=e.h;return[pe(t),pe({h:(n+72)%360,s:e.s,l:e.l}),pe({h:(n+216)%360,s:e.s,l:e.l})]}function FJ(t,e,n){e=e||6,n=n||30;var r=pe(t).toHsl(),i=360/n,s=[pe(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(pe(r));return s}function LJ(t,e){e=e||6;for(var n=pe(t).toHsv(),r=n.h,i=n.s,s=n.v,d=[],o=1/e;e--;)d.push(pe({h:r,s:i,v:s})),s=(s+o)%1;return d}pe.mix=function(t,e,n){n=n===0?0:n||50;var r=pe(t).toRgb(),i=pe(e).toRgb(),s=n/100,d={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return pe(d)};pe.readability=function(t,e){var n=pe(t),r=pe(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};pe.isReadable=function(t,e,n){var r=pe.readability(t,e),i,s;switch(s=!1,i=zJ(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};pe.mostReadable=function(t,e,n){var r=null,i=0,s,d,o,a;n=n||{},d=n.includeFallbackColors,o=n.level,a=n.size;for(var f=0;f<e.length;f++)s=pe.readability(t,e[f]),s>i&&(i=s,r=pe(e[f]));return pe.isReadable(t,r,{level:o,size:a})||!d?r:(n.includeFallbackColors=!1,pe.mostReadable(t,["#fff","#000"],n))};var xg=pe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},jJ=pe.hexNames=$J(xg);function $J(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function GO(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function We(t,e){NJ(t)&&(t="100%");var n=BJ(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function th(t){return Math.min(1,Math.max(0,t))}function qt(t){return parseInt(t,16)}function NJ(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function BJ(t){return typeof t=="string"&&t.indexOf("%")!=-1}function Pn(t){return t.length==1?"0"+t:""+t}function fo(t){return t<=1&&(t=t*100+"%"),t}function XO(t){return Math.round(parseFloat(t)*255).toString(16)}function xw(t){return qt(t)/255}var _n=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ir(t){return!!_n.CSS_UNIT.exec(t)}function VJ(t){t=t.replace(xJ,"").replace(bJ,"").toLowerCase();var e=!1;if(xg[t])t=xg[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=_n.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=_n.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=_n.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=_n.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=_n.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=_n.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=_n.hex8.exec(t))?{r:qt(n[1]),g:qt(n[2]),b:qt(n[3]),a:xw(n[4]),format:e?"name":"hex8"}:(n=_n.hex6.exec(t))?{r:qt(n[1]),g:qt(n[2]),b:qt(n[3]),format:e?"name":"hex"}:(n=_n.hex4.exec(t))?{r:qt(n[1]+""+n[1]),g:qt(n[2]+""+n[2]),b:qt(n[3]+""+n[3]),a:xw(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=_n.hex3.exec(t))?{r:qt(n[1]+""+n[1]),g:qt(n[2]+""+n[2]),b:qt(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function zJ(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var bw=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return yJ(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var d=/^\d+%$/;d.test(e[s])&&(i+=1)}}),r===i?e:!1},ho=function(e,n){var r=e.hex?pe(e.hex):pe(e),i=r.toHsl(),s=r.toHsv(),d=r.toRgb(),o=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var a=o==="000000"&&d.a===0;return{hsl:i,hex:a?"transparent":"#"+o,rgb:d,hsv:s,oldHue:e.h||n||i.h,source:e.source}},mi=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&pe(e).isValid()},a0=function(e){if(!e)return"#fff";var n=ho(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},wd=function(e,n){var r=e.replace("","");return pe(n+" ("+r+")")._ok},eo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function HJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WJ(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function GJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Yt=function(e){var n=function(r){GJ(i,r);function i(s){HJ(this,i);var d=WJ(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return d.handleChange=function(o,a){var f=bw(o);if(f){var h=ho(o,o.h||d.state.oldHue);d.setState(h),d.props.onChangeComplete&&d.debounce(d.props.onChangeComplete,h,a),d.props.onChange&&d.props.onChange(h,a)}},d.handleSwatchHover=function(o,a){var f=bw(o);if(f){var h=ho(o,o.h||d.state.oldHue);d.props.onSwatchHover&&d.props.onSwatchHover(h,a)}},d.state=eo({},ho(s.color,0)),d.debounce=HO(function(o,a,f){o(a,f)},100),d}return UJ(i,[{key:"render",value:function(){var d={};return this.props.onSwatchHover&&(d.onSwatchHover=this.handleSwatchHover),N.createElement(e,eo({},this.props,this.state,{onChange:this.handleChange},d))}}],[{key:"getDerivedStateFromProps",value:function(d,o){return eo({},ho(d.color,o.oldHue))}}]),i}($.PureComponent||$.Component);return n.propTypes=eo({},e.propTypes),n.defaultProps=eo({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},XJ=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YJ=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function KJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ww(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var QJ=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){qJ(i,r);function i(){var s,d,o,a;KJ(this,i);for(var f=arguments.length,h=Array(f),l=0;l<f;l++)h[l]=arguments[l];return a=(d=(o=ww(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),o),o.state={focus:!1},o.handleFocus=function(){return o.setState({focus:!0})},o.handleBlur=function(){return o.setState({focus:!1})},d),ww(o,a)}return YJ(i,[{key:"render",value:function(){return N.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},N.createElement(e,XJ({},this.props,this.state)))}}]),i}(N.Component)},Sw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JJ=13,ZJ=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,d=e.onHover,o=e.title,a=o===void 0?n:o,f=e.children,h=e.focus,l=e.focusStyle,c=l===void 0?{}:l,u=n==="transparent",p=Ce({default:{swatch:Sw({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,h?c:{})}}),v=function(b){return s(n,b)},g=function(b){return b.keyCode===JJ&&s(n,b)},m=function(b){return d(n,b)},y={};return d&&(y.onMouseOver=m),N.createElement("div",Sw({style:p.swatch,onClick:v,title:a,tabIndex:0,onKeyDown:g},y),f,u&&N.createElement(Is,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const ca=QJ(ZJ);var eZ=function(e){var n=e.direction,r=Ce({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return N.createElement("div",{style:r.picker})},tZ=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YO=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,d=e.onChange,o=e.direction,a=e.style,f=e.renderers,h=e.pointer,l=e.className,c=l===void 0?"":l,u=Ce({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:a}}});return N.createElement("div",{style:u.picker,className:"alpha-picker "+c},N.createElement(Qv,tZ({},u.alpha,{rgb:n,hsl:r,pointer:h,renderers:f,onChange:d,direction:o})))};YO.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:eZ};Yt(YO);function KO(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var nZ="__lodash_hash_undefined__";function rZ(t){return this.__data__.set(t,nZ),this}function iZ(t){return this.__data__.has(t)}function Hu(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Er;++e<n;)this.add(t[e])}Hu.prototype.add=Hu.prototype.push=rZ;Hu.prototype.has=iZ;function aZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function sZ(t,e){return t.has(e)}var oZ=1,lZ=2;function qO(t,e,n,r,i,s){var d=n&oZ,o=t.length,a=e.length;if(o!=a&&!(d&&a>o))return!1;var f=s.get(t),h=s.get(e);if(f&&h)return f==e&&h==t;var l=-1,c=!0,u=n&lZ?new Hu:void 0;for(s.set(t,e),s.set(e,t);++l<o;){var p=t[l],v=e[l];if(r)var g=d?r(v,p,l,e,t,s):r(p,v,l,t,e,s);if(g!==void 0){if(g)continue;c=!1;break}if(u){if(!aZ(e,function(m,y){if(!sZ(u,y)&&(p===m||i(p,m,n,r,s)))return u.push(y)})){c=!1;break}}else if(!(p===v||i(p,v,n,r,s))){c=!1;break}}return s.delete(t),s.delete(e),c}function cZ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function uZ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var fZ=1,hZ=2,dZ="[object Boolean]",pZ="[object Date]",gZ="[object Error]",mZ="[object Map]",vZ="[object Number]",yZ="[object RegExp]",xZ="[object Set]",bZ="[object String]",wZ="[object Symbol]",SZ="[object ArrayBuffer]",CZ="[object DataView]",Cw=li?li.prototype:void 0,Sd=Cw?Cw.valueOf:void 0;function _Z(t,e,n,r,i,s,d){switch(n){case CZ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case SZ:return!(t.byteLength!=e.byteLength||!s(new Bu(t),new Bu(e)));case dZ:case pZ:case vZ:return kl(+t,+e);case gZ:return t.name==e.name&&t.message==e.message;case yZ:case bZ:return t==e+"";case mZ:var o=cZ;case xZ:var a=r&fZ;if(o||(o=uZ),t.size!=e.size&&!a)return!1;var f=d.get(t);if(f)return f==e;r|=hZ,d.set(t,e);var h=qO(o(t),o(e),r,i,s,d);return d.delete(t),h;case wZ:if(Sd)return Sd.call(t)==Sd.call(e)}return!1}function TZ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function kZ(t,e,n){var r=e(t);return ln(t)?r:TZ(r,n(t))}function OZ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var d=t[n];e(d,n,t)&&(s[i++]=d)}return s}function EZ(){return[]}var PZ=Object.prototype,AZ=PZ.propertyIsEnumerable,_w=Object.getOwnPropertySymbols,MZ=_w?function(t){return t==null?[]:(t=Object(t),OZ(_w(t),function(e){return AZ.call(t,e)}))}:EZ;function Tw(t){return kZ(t,i0,MZ)}var DZ=1,IZ=Object.prototype,RZ=IZ.hasOwnProperty;function FZ(t,e,n,r,i,s){var d=n&DZ,o=Tw(t),a=o.length,f=Tw(e),h=f.length;if(a!=h&&!d)return!1;for(var l=a;l--;){var c=o[l];if(!(d?c in e:RZ.call(e,c)))return!1}var u=s.get(t),p=s.get(e);if(u&&p)return u==e&&p==t;var v=!0;s.set(t,e),s.set(e,t);for(var g=d;++l<a;){c=o[l];var m=t[c],y=e[c];if(r)var x=d?r(y,m,c,e,t,s):r(m,y,c,t,e,s);if(!(x===void 0?m===y||i(m,y,n,r,s):x)){v=!1;break}g||(g=c=="constructor")}if(v&&!g){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(v=!1)}return s.delete(t),s.delete(e),v}var bg=la(Fn,"DataView"),wg=la(Fn,"Promise"),Sg=la(Fn,"Set"),Cg=la(Fn,"WeakMap"),kw="[object Map]",LZ="[object Object]",Ow="[object Promise]",Ew="[object Set]",Pw="[object WeakMap]",Aw="[object DataView]",jZ=oa(bg),$Z=oa(al),NZ=oa(wg),BZ=oa(Sg),VZ=oa(Cg),Lr=sa;(bg&&Lr(new bg(new ArrayBuffer(1)))!=Aw||al&&Lr(new al)!=kw||wg&&Lr(wg.resolve())!=Ow||Sg&&Lr(new Sg)!=Ew||Cg&&Lr(new Cg)!=Pw)&&(Lr=function(t){var e=sa(t),n=e==LZ?t.constructor:void 0,r=n?oa(n):"";if(r)switch(r){case jZ:return Aw;case $Z:return kw;case NZ:return Ow;case BZ:return Ew;case VZ:return Pw}return e});var zZ=1,Mw="[object Arguments]",Dw="[object Array]",cc="[object Object]",UZ=Object.prototype,Iw=UZ.hasOwnProperty;function HZ(t,e,n,r,i,s){var d=ln(t),o=ln(e),a=d?Dw:Lr(t),f=o?Dw:Lr(e);a=a==Mw?cc:a,f=f==Mw?cc:f;var h=a==cc,l=f==cc,c=a==f;if(c&&zu(t)){if(!zu(e))return!1;d=!0,h=!1}if(c&&!h)return s||(s=new qn),d||n0(t)?qO(t,e,n,r,i,s):_Z(t,e,a,n,r,i,s);if(!(n&zZ)){var u=h&&Iw.call(t,"__wrapped__"),p=l&&Iw.call(e,"__wrapped__");if(u||p){var v=u?t.value():t,g=p?e.value():e;return s||(s=new qn),i(v,g,n,r,s)}}return c?(s||(s=new qn),FZ(t,e,n,r,i,s)):!1}function s0(t,e,n,r,i){return t===e?!0:t==null||e==null||!ci(t)&&!ci(e)?t!==t&&e!==e:HZ(t,e,n,r,s0,i)}var WZ=1,GZ=2;function XZ(t,e,n,r){var i=n.length,s=i;if(t==null)return!s;for(t=Object(t);i--;){var d=n[i];if(d[2]?d[1]!==t[d[0]]:!(d[0]in t))return!1}for(;++i<s;){d=n[i];var o=d[0],a=t[o],f=d[1];if(d[2]){if(a===void 0&&!(o in t))return!1}else{var h=new qn,l;if(!(l===void 0?s0(f,a,WZ|GZ,r,h):l))return!1}}return!0}function QO(t){return t===t&&!wn(t)}function YZ(t){for(var e=i0(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,QO(i)]}return e}function JO(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function KZ(t){var e=YZ(t);return e.length==1&&e[0][2]?JO(e[0][0],e[0][1]):function(n){return n===t||XZ(n,t,e)}}var qZ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QZ=/^\w*$/;function o0(t,e){if(ln(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Zf(t)?!0:QZ.test(t)||!qZ.test(t)||e!=null&&t in Object(e)}var JZ="Expected a function";function l0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(JZ);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var d=t.apply(this,r);return n.cache=s.set(i,d)||s,d};return n.cache=new(l0.Cache||Er),n}l0.Cache=Er;var ZZ=500;function eee(t){var e=l0(t,function(r){return n.size===ZZ&&n.clear(),r}),n=e.cache;return e}var tee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nee=/\\(\\)?/g,ree=eee(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tee,function(n,r,i,s){e.push(i?s.replace(nee,"$1"):r||n)}),e}),iee=1/0,Rw=li?li.prototype:void 0,Fw=Rw?Rw.toString:void 0;function ZO(t){if(typeof t=="string")return t;if(ln(t))return KO(t,ZO)+"";if(Zf(t))return Fw?Fw.call(t):"";var e=t+"";return e=="0"&&1/t==-iee?"-0":e}function aee(t){return t==null?"":ZO(t)}function eE(t,e){return ln(t)?t:o0(t,e)?[t]:ree(aee(t))}var see=1/0;function nh(t){if(typeof t=="string"||Zf(t))return t;var e=t+"";return e=="0"&&1/t==-see?"-0":e}function tE(t,e){e=eE(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[nh(e[n++])];return n&&n==r?t:void 0}function oee(t,e,n){var r=t==null?void 0:tE(t,e);return r===void 0?n:r}function lee(t,e){return t!=null&&e in Object(t)}function cee(t,e,n){e=eE(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var d=nh(e[r]);if(!(s=t!=null&&n(t,d)))break;t=t[d]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&t0(i)&&r0(d,i)&&(ln(t)||Vu(t)))}function uee(t,e){return t!=null&&cee(t,e,lee)}var fee=1,hee=2;function dee(t,e){return o0(t)&&QO(e)?JO(nh(t),e):function(n){var r=oee(n,t);return r===void 0&&r===e?uee(n,t):s0(e,r,fee|hee)}}function pee(t){return function(e){return e==null?void 0:e[t]}}function gee(t){return function(e){return tE(e,t)}}function mee(t){return o0(t)?pee(nh(t)):gee(t)}function vee(t){return typeof t=="function"?t:t==null?Jf:typeof t=="object"?ln(t)?dee(t[0],t[1]):KZ(t):mee(t)}function yee(t,e){var n=-1,r=Fs(t)?Array(t.length):[];return WO(t,function(i,s,d){r[++n]=e(i,s,d)}),r}function ua(t,e){var n=ln(t)?KO:yee;return n(t,vee(e))}var xee=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=Ce({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return N.createElement("div",{style:s.swatches},ua(n,function(d){return N.createElement(ca,{key:d,color:d,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+d}})}),N.createElement("div",{style:s.clear}))},c0=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,d=e.width,o=e.triangle,a=e.styles,f=a===void 0?{}:a,h=e.className,l=h===void 0?"":h,c=i==="transparent",u=function(g,m){mi(g)&&n({hex:g,source:"hex"},m)},p=Ce(Xt({default:{card:{width:d,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:a0(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},f),{"hide-triangle":o==="hide"});return N.createElement("div",{style:p.card,className:"block-picker "+l},N.createElement("div",{style:p.triangle}),N.createElement("div",{style:p.head},c&&N.createElement(Is,{borderRadius:"6px 6px 0 0"}),N.createElement("div",{style:p.label},i)),N.createElement("div",{style:p.body},N.createElement(xee,{colors:s,onClick:u,onSwatchHover:r}),N.createElement(Oe,{style:{input:p.input},value:i,onChange:u})))};c0.propTypes={width:se.oneOfType([se.string,se.number]),colors:se.arrayOf(se.string),triangle:se.oneOf(["top","hide"]),styles:se.object};c0.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Yt(c0);var ma={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},va={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},ya={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},xa={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},ba={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},wa={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Sa={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Ca={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},_a={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},po={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Ta={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},ka={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Oa={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Ea={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Pa={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Aa={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Ma={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Da={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},nE=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,d=e.active,o=e.circleSize,a=e.circleSpacing,f=Ce({default:{swatch:{width:o,height:o,marginRight:a,marginBottom:a,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(o/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:d});return N.createElement("div",{style:f.swatch},N.createElement(ca,{style:f.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:f.Swatch.boxShadow+", 0 0 5px "+n}}))};nE.defaultProps={circleSize:28,circleSpacing:14};const bee=qv(nE);var u0=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,d=e.hex,o=e.circleSize,a=e.styles,f=a===void 0?{}:a,h=e.circleSpacing,l=e.className,c=l===void 0?"":l,u=Ce(Xt({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-h,marginBottom:-h}}},f)),p=function(g,m){return r({hex:g,source:"hex"},m)};return N.createElement("div",{style:u.card,className:"circle-picker "+c},ua(s,function(v){return N.createElement(bee,{key:v,color:v,onClick:p,onSwatchHover:i,active:d===v.toLowerCase(),circleSize:o,circleSpacing:h})}))};u0.propTypes={width:se.oneOfType([se.string,se.number]),circleSize:se.number,circleSpacing:se.number,styles:se.object};u0.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[ma[500],va[500],ya[500],xa[500],ba[500],wa[500],Sa[500],Ca[500],_a[500],po[500],Ta[500],ka[500],Oa[500],Ea[500],Pa[500],Aa[500],Ma[500],Da[500]],styles:{}};Yt(u0);function Lw(t){return t===void 0}var rE={};Object.defineProperty(rE,"__esModule",{value:!0});var jw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wee=$,$w=See(wee);function See(t){return t&&t.__esModule?t:{default:t}}function Cee(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var uc=24,_ee=rE.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?uc:r,s=t.height,d=s===void 0?uc:s,o=t.style,a=o===void 0?{}:o,f=Cee(t,["fill","width","height","style"]);return $w.default.createElement("svg",jw({viewBox:"0 0 "+uc+" "+uc,style:jw({fill:n,width:i,height:d},a)},f),$w.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},Tee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function kee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Eee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var iE=function(t){Eee(e,t);function e(n){kee(this,e);var r=Oee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?mi(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(Lw(i.s)?r.props.hsl.s:i.s),l:Number(Lw(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return Tee(e,[{key:"render",value:function(){var r=this,i=Ce({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=N.createElement("div",{style:i.fields,className:"flexbox-fix"},N.createElement("div",{style:i.field},N.createElement(Oe,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=N.createElement("div",{style:i.fields,className:"flexbox-fix"},N.createElement("div",{style:i.field},N.createElement(Oe,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),N.createElement("div",{style:i.field},N.createElement(Oe,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),N.createElement("div",{style:i.field},N.createElement(Oe,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),N.createElement("div",{style:i.alpha},N.createElement(Oe,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=N.createElement("div",{style:i.fields,className:"flexbox-fix"},N.createElement("div",{style:i.field},N.createElement(Oe,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),N.createElement("div",{style:i.field},N.createElement(Oe,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),N.createElement("div",{style:i.field},N.createElement(Oe,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),N.createElement("div",{style:i.alpha},N.createElement(Oe,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),N.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,N.createElement("div",{style:i.toggle},N.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(o){return r.icon=o}},N.createElement(_ee,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(N.Component);iE.defaultProps={view:"hex"};var Nw=function(){var e=Ce({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return N.createElement("div",{style:e.picker})},Pee=function(){var e=Ce({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return N.createElement("div",{style:e.picker})},f0=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,d=e.hsl,o=e.hsv,a=e.hex,f=e.renderers,h=e.styles,l=h===void 0?{}:h,c=e.className,u=c===void 0?"":c,p=e.defaultView,v=Ce(Xt({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},l),{disableAlpha:i});return N.createElement("div",{style:v.picker,className:"chrome-picker "+u},N.createElement("div",{style:v.saturation},N.createElement(eh,{style:v.Saturation,hsl:d,hsv:o,pointer:Pee,onChange:r})),N.createElement("div",{style:v.body},N.createElement("div",{style:v.controls,className:"flexbox-fix"},N.createElement("div",{style:v.color},N.createElement("div",{style:v.swatch},N.createElement("div",{style:v.active}),N.createElement(Is,{renderers:f}))),N.createElement("div",{style:v.toggles},N.createElement("div",{style:v.hue},N.createElement(Rs,{style:v.Hue,hsl:d,pointer:Nw,onChange:r})),N.createElement("div",{style:v.alpha},N.createElement(Qv,{style:v.Alpha,rgb:s,hsl:d,pointer:Nw,renderers:f,onChange:r})))),N.createElement(iE,{rgb:s,hsl:d,hex:a,view:p,onChange:r,disableAlpha:i})))};f0.propTypes={width:se.oneOfType([se.string,se.number]),disableAlpha:se.bool,styles:se.object,defaultView:se.oneOf(["hex","rgb","hsl"])};f0.defaultProps={width:225,disableAlpha:!1,styles:{}};const Aee=Yt(f0);var Mee=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,d=e.active,o=Ce({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:a0(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:d,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return N.createElement(ca,{style:o.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},N.createElement("div",{style:o.dot}))},Dee=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=Ce({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),d=function(a,f){a.r||a.g||a.b?i({r:a.r||r.r,g:a.g||r.g,b:a.b||r.b,source:"rgb"},f):i({hex:a.hex,source:"hex"},f)};return N.createElement("div",{style:s.fields,className:"flexbox-fix"},N.createElement("div",{style:s.active}),N.createElement(Oe,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:d}),N.createElement(Oe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:d}),N.createElement(Oe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:d}),N.createElement(Oe,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:d}))},h0=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,d=e.rgb,o=e.styles,a=o===void 0?{}:o,f=e.className,h=f===void 0?"":f,l=Ce(Xt({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},a)),c=function(p,v){p.hex?mi(p.hex)&&n({hex:p.hex,source:"hex"},v):n(p,v)};return N.createElement(Ol,{style:l.Compact,styles:a},N.createElement("div",{style:l.compact,className:"compact-picker "+h},N.createElement("div",null,ua(i,function(u){return N.createElement(Mee,{key:u,color:u,active:u.toLowerCase()===s,onClick:c,onSwatchHover:r})}),N.createElement("div",{style:l.clear})),N.createElement(Dee,{hex:s,rgb:d,onChange:c})))};h0.propTypes={colors:se.arrayOf(se.string),styles:se.object};h0.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Yt(h0);var Iee=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,d={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},o=Ce({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:d}},{hover:n});return N.createElement("div",{style:o.swatch},N.createElement(ca,{color:r,onClick:i,onHover:s,focusStyle:d}))};const Ree=qv(Iee);var d0=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,d=e.triangle,o=e.styles,a=o===void 0?{}:o,f=e.className,h=f===void 0?"":f,l=Ce(Xt({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},a),{"hide-triangle":d==="hide","top-left-triangle":d==="top-left","top-right-triangle":d==="top-right","bottom-left-triangle":d==="bottom-left","bottom-right-triangle":d==="bottom-right"}),c=function(p,v){return i({hex:p,source:"hex"},v)};return N.createElement("div",{style:l.card,className:"github-picker "+h},N.createElement("div",{style:l.triangleShadow}),N.createElement("div",{style:l.triangle}),ua(r,function(u){return N.createElement(Ree,{color:u,key:u,onClick:c,onSwatchHover:s})}))};d0.propTypes={width:se.oneOfType([se.string,se.number]),colors:se.arrayOf(se.string),triangle:se.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:se.object};d0.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Yt(d0);var Fee=function(e){var n=e.direction,r=Ce({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return N.createElement("div",{style:r.picker})},Lee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p0=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,d=e.direction,o=e.pointer,a=e.styles,f=a===void 0?{}:a,h=e.className,l=h===void 0?"":h,c=Ce(Xt({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},f)),u=function(v){return i({a:1,h:v.h,l:.5,s:1})};return N.createElement("div",{style:c.picker,className:"hue-picker "+l},N.createElement(Rs,Lee({},c.hue,{hsl:s,pointer:o,onChange:u,direction:d})))};p0.propTypes={styles:se.object};p0.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Fee,styles:{}};Yt(p0);var jee=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,d=s===void 0?{}:s,o=e.className,a=o===void 0?"":o,f=Ce(Xt({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},d)),h=function(c,u){c.hex?mi(c.hex)&&n({hex:c.hex,source:"hex"},u):(c.r||c.g||c.b)&&n({r:c.r||i.r,g:c.g||i.g,b:c.b||i.b,source:"rgb"},u)};return N.createElement(Ol,{styles:d},N.createElement("div",{style:f.material,className:"material-picker "+a},N.createElement(Oe,{style:{wrap:f.HEXwrap,input:f.HEXinput,label:f.HEXlabel},label:"hex",value:r,onChange:h}),N.createElement("div",{style:f.split,className:"flexbox-fix"},N.createElement("div",{style:f.third},N.createElement(Oe,{style:{wrap:f.RGBwrap,input:f.RGBinput,label:f.RGBlabel},label:"r",value:i.r,onChange:h})),N.createElement("div",{style:f.third},N.createElement(Oe,{style:{wrap:f.RGBwrap,input:f.RGBinput,label:f.RGBlabel},label:"g",value:i.g,onChange:h})),N.createElement("div",{style:f.third},N.createElement(Oe,{style:{wrap:f.RGBwrap,input:f.RGBinput,label:f.RGBlabel},label:"b",value:i.b,onChange:h})))))};Yt(jee);var $ee=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,d=Ce({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),o=function(f,h){f["#"]?mi(f["#"])&&n({hex:f["#"],source:"hex"},h):f.r||f.g||f.b?n({r:f.r||r.r,g:f.g||r.g,b:f.b||r.b,source:"rgb"},h):(f.h||f.s||f.v)&&n({h:f.h||i.h,s:f.s||i.s,v:f.v||i.v,source:"hsv"},h)};return N.createElement("div",{style:d.fields},N.createElement(Oe,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"h",value:Math.round(i.h),onChange:o}),N.createElement(Oe,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:o}),N.createElement(Oe,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:o}),N.createElement("div",{style:d.divider}),N.createElement(Oe,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"r",value:r.r,onChange:o}),N.createElement(Oe,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"g",value:r.g,onChange:o}),N.createElement(Oe,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:"b",value:r.b,onChange:o}),N.createElement("div",{style:d.divider}),N.createElement(Oe,{style:{wrap:d.HEXwrap,input:d.HEXinput,label:d.HEXlabel},label:"#",value:s.replace("#",""),onChange:o}),N.createElement("div",{style:d.fieldSymbols},N.createElement("div",{style:d.symbol},""),N.createElement("div",{style:d.symbol},"%"),N.createElement("div",{style:d.symbol},"%")))},Nee=function(e){var n=e.hsl,r=Ce({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return N.createElement("div",{style:r.picker})},Bee=function(){var e=Ce({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return N.createElement("div",{style:e.pointer},N.createElement("div",{style:e.left},N.createElement("div",{style:e.leftInside})),N.createElement("div",{style:e.right},N.createElement("div",{style:e.rightInside})))},Bw=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,d=Ce({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return N.createElement("div",{style:d.button,onClick:n},r||i)},Vee=function(e){var n=e.rgb,r=e.currentColor,i=Ce({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return N.createElement("div",null,N.createElement("div",{style:i.label},"new"),N.createElement("div",{style:i.swatches},N.createElement("div",{style:i.new}),N.createElement("div",{style:i.current})),N.createElement("div",{style:i.label},"current"))},zee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Uee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hee(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Wee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g0=function(t){Wee(e,t);function e(n){Uee(this,e);var r=Hee(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return zee(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,d=r.className,o=d===void 0?"":d,a=Ce(Xt({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return N.createElement("div",{style:a.picker,className:"photoshop-picker "+o},N.createElement("div",{style:a.head},this.props.header),N.createElement("div",{style:a.body,className:"flexbox-fix"},N.createElement("div",{style:a.saturation},N.createElement(eh,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Nee,onChange:this.props.onChange})),N.createElement("div",{style:a.hue},N.createElement(Rs,{direction:"vertical",hsl:this.props.hsl,pointer:Bee,onChange:this.props.onChange})),N.createElement("div",{style:a.controls},N.createElement("div",{style:a.top,className:"flexbox-fix"},N.createElement("div",{style:a.previews},N.createElement(Vee,{rgb:this.props.rgb,currentColor:this.state.currentColor})),N.createElement("div",{style:a.actions},N.createElement(Bw,{label:"OK",onClick:this.props.onAccept,active:!0}),N.createElement(Bw,{label:"Cancel",onClick:this.props.onCancel}),N.createElement($ee,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(N.Component);g0.propTypes={header:se.string,styles:se.object};g0.defaultProps={header:"Color Picker",styles:{}};Yt(g0);var Gee=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,d=e.disableAlpha,o=Ce({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:d}),a=function(h,l){h.hex?mi(h.hex)&&n({hex:h.hex,source:"hex"},l):h.r||h.g||h.b?n({r:h.r||r.r,g:h.g||r.g,b:h.b||r.b,a:r.a,source:"rgb"},l):h.a&&(h.a<0?h.a=0:h.a>100&&(h.a=100),h.a/=100,n({h:i.h,s:i.s,l:i.l,a:h.a,source:"rgb"},l))};return N.createElement("div",{style:o.fields,className:"flexbox-fix"},N.createElement("div",{style:o.double},N.createElement(Oe,{style:{input:o.input,label:o.label},label:"hex",value:s.replace("#",""),onChange:a})),N.createElement("div",{style:o.single},N.createElement(Oe,{style:{input:o.input,label:o.label},label:"r",value:r.r,onChange:a,dragLabel:"true",dragMax:"255"})),N.createElement("div",{style:o.single},N.createElement(Oe,{style:{input:o.input,label:o.label},label:"g",value:r.g,onChange:a,dragLabel:"true",dragMax:"255"})),N.createElement("div",{style:o.single},N.createElement(Oe,{style:{input:o.input,label:o.label},label:"b",value:r.b,onChange:a,dragLabel:"true",dragMax:"255"})),N.createElement("div",{style:o.alpha},N.createElement(Oe,{style:{input:o.input,label:o.label},label:"a",value:Math.round(r.a*100),onChange:a,dragLabel:"true",dragMax:"100"})))},Xee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aE=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,d=Ce({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),o=function(f,h){i({hex:f,source:"hex"},h)};return N.createElement("div",{style:d.colors,className:"flexbox-fix"},n.map(function(a){var f=typeof a=="string"?{color:a}:a,h=""+f.color+(f.title||"");return N.createElement("div",{key:h,style:d.swatchWrap},N.createElement(ca,Xee({},f,{style:d.swatch,onClick:o,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+f.color}})))}))};aE.propTypes={colors:se.arrayOf(se.oneOfType([se.string,se.shape({color:se.string,title:se.string})])).isRequired};var Yee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m0=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,d=e.hsl,o=e.onChange,a=e.onSwatchHover,f=e.disableAlpha,h=e.presetColors,l=e.renderers,c=e.styles,u=c===void 0?{}:c,p=e.className,v=p===void 0?"":p,g=Ce(Xt({default:Yee({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},u),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},u),{disableAlpha:f});return N.createElement("div",{style:g.picker,className:"sketch-picker "+v},N.createElement("div",{style:g.saturation},N.createElement(eh,{style:g.Saturation,hsl:d,hsv:s,onChange:o})),N.createElement("div",{style:g.controls,className:"flexbox-fix"},N.createElement("div",{style:g.sliders},N.createElement("div",{style:g.hue},N.createElement(Rs,{style:g.Hue,hsl:d,onChange:o})),N.createElement("div",{style:g.alpha},N.createElement(Qv,{style:g.Alpha,rgb:r,hsl:d,renderers:l,onChange:o}))),N.createElement("div",{style:g.color},N.createElement(Is,null),N.createElement("div",{style:g.activeColor}))),N.createElement(Gee,{rgb:r,hsl:d,hex:i,onChange:o,disableAlpha:f}),N.createElement(aE,{colors:h,onClick:o,onSwatchHover:a}))};m0.propTypes={disableAlpha:se.bool,width:se.oneOfType([se.string,se.number]),styles:se.object};m0.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};Yt(m0);var to=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,d=e.active,o=e.first,a=e.last,f=Ce({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:d,first:o,last:a}),h=function(c){return s({h:n.h,s:.5,l:r,source:"hsl"},c)};return N.createElement("div",{style:f.swatch,onClick:h})},Kee=function(e){var n=e.onClick,r=e.hsl,i=Ce({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return N.createElement("div",{style:i.swatches},N.createElement("div",{style:i.swatch},N.createElement(to,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),N.createElement("div",{style:i.swatch},N.createElement(to,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),N.createElement("div",{style:i.swatch},N.createElement(to,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),N.createElement("div",{style:i.swatch},N.createElement(to,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),N.createElement("div",{style:i.swatch},N.createElement(to,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),N.createElement("div",{style:i.clear}))},qee=function(){var e=Ce({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return N.createElement("div",{style:e.picker})},v0=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,d=s===void 0?{}:s,o=e.className,a=o===void 0?"":o,f=Ce(Xt({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},d));return N.createElement("div",{style:f.wrap||{},className:"slider-picker "+a},N.createElement("div",{style:f.hue},N.createElement(Rs,{style:f.Hue,hsl:n,pointer:i,onChange:r})),N.createElement("div",{style:f.swatches},N.createElement(Kee,{hsl:n,onClick:r})))};v0.propTypes={styles:se.object};v0.defaultProps={pointer:qee,styles:{}};Yt(v0);var sE={};Object.defineProperty(sE,"__esModule",{value:!0});var Vw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qee=$,zw=Jee(Qee);function Jee(t){return t&&t.__esModule?t:{default:t}}function Zee(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var fc=24,ete=sE.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?fc:r,s=t.height,d=s===void 0?fc:s,o=t.style,a=o===void 0?{}:o,f=Zee(t,["fill","width","height","style"]);return zw.default.createElement("svg",Vw({viewBox:"0 0 "+fc+" "+fc,style:Vw({fill:n,width:i,height:d},a)},f),zw.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},tte=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,d=e.first,o=e.last,a=e.active,f=Ce({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:a0(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:d,last:o,active:a,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return N.createElement(ca,{color:n,style:f.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},N.createElement("div",{style:f.check},N.createElement(ete,null)))},nte=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,d=Ce({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return N.createElement("div",{style:d.group},ua(i,function(o,a){return N.createElement(tte,{key:o,color:o,active:o.toLowerCase()===s,first:a===0,last:a===i.length-1,onClick:n,onSwatchHover:r})}))},y0=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,d=e.colors,o=e.hex,a=e.styles,f=a===void 0?{}:a,h=e.className,l=h===void 0?"":h,c=Ce(Xt({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},f)),u=function(v,g){return i({hex:v,source:"hex"},g)};return N.createElement("div",{style:c.picker,className:"swatches-picker "+l},N.createElement(Ol,null,N.createElement("div",{style:c.overflow},N.createElement("div",{style:c.body},ua(d,function(p){return N.createElement(nte,{key:p.toString(),group:p,active:o,onClick:u,onSwatchHover:s})}),N.createElement("div",{style:c.clear})))))};y0.propTypes={width:se.oneOfType([se.string,se.number]),height:se.oneOfType([se.string,se.number]),colors:se.arrayOf(se.arrayOf(se.string)),styles:se.object};y0.defaultProps={width:320,height:240,colors:[[ma[900],ma[700],ma[500],ma[300],ma[100]],[va[900],va[700],va[500],va[300],va[100]],[ya[900],ya[700],ya[500],ya[300],ya[100]],[xa[900],xa[700],xa[500],xa[300],xa[100]],[ba[900],ba[700],ba[500],ba[300],ba[100]],[wa[900],wa[700],wa[500],wa[300],wa[100]],[Sa[900],Sa[700],Sa[500],Sa[300],Sa[100]],[Ca[900],Ca[700],Ca[500],Ca[300],Ca[100]],[_a[900],_a[700],_a[500],_a[300],_a[100]],["#194D33",po[700],po[500],po[300],po[100]],[Ta[900],Ta[700],Ta[500],Ta[300],Ta[100]],[ka[900],ka[700],ka[500],ka[300],ka[100]],[Oa[900],Oa[700],Oa[500],Oa[300],Oa[100]],[Ea[900],Ea[700],Ea[500],Ea[300],Ea[100]],[Pa[900],Pa[700],Pa[500],Pa[300],Pa[100]],[Aa[900],Aa[700],Aa[500],Aa[300],Aa[100]],[Ma[900],Ma[700],Ma[500],Ma[300],Ma[100]],[Da[900],Da[700],Da[500],Da[300],Da[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Yt(y0);var x0=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,d=e.width,o=e.triangle,a=e.styles,f=a===void 0?{}:a,h=e.className,l=h===void 0?"":h,c=Ce(Xt({default:{card:{width:d,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},f),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right"}),u=function(v,g){mi(v)&&n({hex:v,source:"hex"},g)};return N.createElement("div",{style:c.card,className:"twitter-picker "+l},N.createElement("div",{style:c.triangleShadow}),N.createElement("div",{style:c.triangle}),N.createElement("div",{style:c.body},ua(s,function(p,v){return N.createElement(ca,{key:v,color:p,hex:p,style:c.swatch,onClick:u,onHover:r,focusStyle:{boxShadow:"0 0 4px "+p}})}),N.createElement("div",{style:c.hash},"#"),N.createElement(Oe,{label:null,style:{input:c.input},value:i.replace("#",""),onChange:u}),N.createElement("div",{style:c.clear})))};x0.propTypes={width:se.oneOfType([se.string,se.number]),triangle:se.oneOf(["hide","top-left","top-right"]),colors:se.arrayOf(se.string),styles:se.object};x0.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Yt(x0);var b0=function(e){var n=Ce({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return N.createElement("div",{style:n.picker})};b0.propTypes={hsl:se.shape({h:se.number,s:se.number,l:se.number,a:se.number})};b0.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var w0=function(e){var n=Ce({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return N.createElement("div",{style:n.picker})};w0.propTypes={hsl:se.shape({h:se.number,s:se.number,l:se.number,a:se.number})};w0.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var rte=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,d=e.hsv,o=function(u,p){if(u.hex)mi(u.hex)&&n({hex:u.hex,source:"hex"},p);else if(u.rgb){var v=u.rgb.split(",");wd(u.rgb,"rgb")&&n({r:v[0],g:v[1],b:v[2],a:1,source:"rgb"},p)}else if(u.hsv){var g=u.hsv.split(",");wd(u.hsv,"hsv")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("",""),g[1]==1?g[1]=.01:g[2]==1&&(g[2]=.01),n({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsv"},p))}else if(u.hsl){var m=u.hsl.split(",");wd(u.hsl,"hsl")&&(m[2]=m[2].replace("%",""),m[1]=m[1].replace("%",""),m[0]=m[0].replace("",""),l[1]==1?l[1]=.01:l[2]==1&&(l[2]=.01),n({h:Number(m[0]),s:Number(m[1]),v:Number(m[2]),source:"hsl"},p))}},a=Ce({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),f=r.r+", "+r.g+", "+r.b,h=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",l=Math.round(d.h)+", "+Math.round(d.s*100)+"%, "+Math.round(d.v*100)+"%";return N.createElement("div",{style:a.wrap,className:"flexbox-fix"},N.createElement("div",{style:a.fields},N.createElement("div",{style:a.double},N.createElement(Oe,{style:{input:a.input,label:a.label},label:"hex",value:s,onChange:o})),N.createElement("div",{style:a.column},N.createElement("div",{style:a.single},N.createElement(Oe,{style:{input:a.input2,label:a.label2},label:"rgb",value:f,onChange:o})),N.createElement("div",{style:a.single},N.createElement(Oe,{style:{input:a.input2,label:a.label2},label:"hsv",value:l,onChange:o})),N.createElement("div",{style:a.single},N.createElement(Oe,{style:{input:a.input2,label:a.label2},label:"hsl",value:h,onChange:o})))))},S0=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,d=e.hsv,o=e.hex,a=e.header,f=e.styles,h=f===void 0?{}:f,l=e.className,c=l===void 0?"":l,u=Ce(Xt({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},h));return N.createElement("div",{style:u.picker,className:"google-picker "+c},N.createElement("div",{style:u.head},a),N.createElement("div",{style:u.swatch}),N.createElement("div",{style:u.saturation},N.createElement(eh,{hsl:s,hsv:d,pointer:b0,onChange:r})),N.createElement("div",{style:u.body},N.createElement("div",{style:u.controls,className:"flexbox-fix"},N.createElement("div",{style:u.hue},N.createElement(Rs,{style:u.Hue,hsl:s,radius:"4px",pointer:w0,onChange:r}))),N.createElement(rte,{rgb:i,hsl:s,hex:o,hsv:d,onChange:r})))};S0.propTypes={width:se.oneOfType([se.string,se.number]),styles:se.object,header:se.string};S0.defaultProps={width:652,styles:{},header:"Color picker"};Yt(S0);function ite({tag:t,onColorChange:e,isOpen:n,onClose:r}){return n?R.jsxs("div",{className:"absolute z-50 mt-2",children:[R.jsx("div",{className:"fixed inset-0",onClick:r}),R.jsx(Aee,{color:t.color||"#9333ea",onChange:i=>e(i.hex)})]}):null}function ate({tag:t,onUpdate:e,onDelete:n}){const[r,i]=$.useState(!1),[s,d]=$.useState(!1),[o,a]=$.useState(t.label),f=()=>{o.trim()&&(e(t.value,{label:o}),i(!1))},h=l=>{e(t.value,{color:l})};return R.jsxs("div",{className:"group relative flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800",children:[R.jsx(km,{className:"h-4 w-4",style:{color:t.color}}),r?R.jsx("input",{type:"text",value:o,onChange:l=>a(l.target.value),onBlur:f,onKeyPress:l=>l.key==="Enter"&&f(),className:"flex-1 px-2 py-1 border rounded focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}):R.jsx("span",{className:"flex-1",children:t.label}),R.jsxs("div",{className:"hidden group-hover:flex items-center space-x-1",children:[R.jsx("button",{onClick:()=>i(!r),className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700",children:R.jsx(FC,{className:"h-4 w-4"})}),R.jsx("button",{onClick:()=>d(!s),className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700",children:R.jsx(b5,{className:"h-4 w-4"})}),R.jsx("button",{onClick:()=>n(t.value),className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-700 text-red-500",children:""})]}),s&&R.jsx(ite,{tag:t,onColorChange:h,isOpen:s,onClose:()=>d(!1)})]})}function ste(){const{tags:t,addTag:e,updateTag:n,removeTag:r,images:i,updateImage:s}=er(),[d,o]=$.useState(""),[a,f]=$.useState("Other"),[h,l]=$.useState(!1),c=["Nature","People","Objects","Other"],u=()=>{if(!d.trim())return;const g={value:d.toLowerCase(),label:d,category:a,color:"#9333ea"};e(g),o("")},p=(g,m)=>{n(g,m)},v=g=>{r(g),i.forEach(m=>{m.tags.includes(g)&&s(m.id,{tags:m.tags.filter(y=>y!==g)})})};return R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsxs("div",{className:"flex-1 relative",children:[R.jsx("input",{type:"text",value:d,onChange:g=>{o(g.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Create new tag...",className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"}),h&&R.jsx("div",{className:"absolute z-50 w-full mt-1",children:R.jsx(G$,{tags:t,selectedTags:[],onSelect:g=>{o(g[0]||""),l(!1)}})})]}),R.jsx("select",{value:a,onChange:g=>f(g.target.value),className:"px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:c.map(g=>R.jsx("option",{value:g,children:g},g))}),R.jsxs("button",{onClick:u,className:"flex items-center px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600",children:[R.jsx(jC,{className:"h-4 w-4 mr-1"}),"Add Tag"]})]}),R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(g=>R.jsxs("div",{className:"space-y-2",children:[R.jsxs("h3",{className:"font-medium text-gray-700 dark:text-gray-300 flex items-center",children:[R.jsx(RC,{className:"h-4 w-4 mr-1"}),g]}),R.jsx(vl,{mode:"popLayout",children:t.filter(m=>m.category===g).map(m=>R.jsx(Jn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},children:R.jsx(ate,{tag:m,onUpdate:p,onDelete:v})},m.value))})]},g))})]})}function ote(){const{setSearchQuery:t,setSortBy:e,setSortDirection:n,sortBy:r,sortDirection:i}=er(),s=[{value:"name",label:"Name"},{value:"date",label:"Date"},{value:"size",label:"Size"}],d=[{value:"asc",label:"Ascending"},{value:"desc",label:"Descending"}];return R.jsxs("div",{className:"flex space-x-4 items-center",children:[R.jsxs("div",{className:"relative",children:[R.jsx($C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),R.jsx("input",{type:"text",placeholder:"Search images...",onChange:o=>t(o.target.value),className:"pl-10 pr-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),R.jsx(fg,{options:s,value:s.find(o=>o.value===r),onChange:o=>o&&e(o.value),placeholder:"Sort by...",className:"w-40",classNamePrefix:"select"}),R.jsx(fg,{options:d,value:d.find(o=>o.value===i),onChange:o=>o&&n(o.value),placeholder:"Direction...",className:"w-40",classNamePrefix:"select"})]})}function Ln(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ji(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const oE=6048e5,lte=864e5;let cte={};function rh(){return cte}function ol(t,e){var o,a,f,h;const n=rh(),r=(e==null?void 0:e.weekStartsOn)??((a=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:a.weekStartsOn)??n.weekStartsOn??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??0,i=Ln(t),s=i.getDay(),d=(s<r?7:0)+s-r;return i.setDate(i.getDate()-d),i.setHours(0,0,0,0),i}function Wu(t){return ol(t,{weekStartsOn:1})}function lE(t){const e=Ln(t),n=e.getFullYear(),r=Ji(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Wu(r),s=Ji(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const d=Wu(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=d.getTime()?n:n-1}function Uw(t){const e=Ln(t);return e.setHours(0,0,0,0),e}function Hw(t){const e=Ln(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ute(t,e){const n=Uw(t),r=Uw(e),i=+n-Hw(n),s=+r-Hw(r);return Math.round((i-s)/lte)}function fte(t){const e=lE(t),n=Ji(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Wu(n)}function hte(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function dte(t){if(!hte(t)&&typeof t!="number")return!1;const e=Ln(t);return!isNaN(Number(e))}function pte(t){const e=Ln(t),n=Ji(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const gte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mte=(t,e,n)=>{let r;const i=gte[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Cd(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const vte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bte={date:Cd({formats:vte,defaultWidth:"full"}),time:Cd({formats:yte,defaultWidth:"full"}),dateTime:Cd({formats:xte,defaultWidth:"full"})},wte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ste=(t,e,n,r)=>wte[t];function no(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):d;i=t.formattingValues[o]||t.formattingValues[d]}else{const d=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[d]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Cte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_te={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Tte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ote={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ete={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pte=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ate={ordinalNumber:Pte,era:no({values:Cte,defaultWidth:"wide"}),quarter:no({values:_te,defaultWidth:"wide",argumentCallback:t=>t-1}),month:no({values:Tte,defaultWidth:"wide"}),day:no({values:kte,defaultWidth:"wide"}),dayPeriod:no({values:Ote,defaultWidth:"wide",formattingValues:Ete,defaultFormattingWidth:"wide"})};function ro(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const d=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],a=Array.isArray(o)?Dte(o,l=>l.test(d)):Mte(o,l=>l.test(d));let f;f=t.valueCallback?t.valueCallback(a):a,f=n.valueCallback?n.valueCallback(f):f;const h=e.slice(d.length);return{value:f,rest:h}}}function Mte(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Dte(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Ite(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let d=t.valueCallback?t.valueCallback(s[0]):s[0];d=n.valueCallback?n.valueCallback(d):d;const o=e.slice(i.length);return{value:d,rest:o}}}const Rte=/^(\d+)(th|st|nd|rd)?/i,Fte=/\d+/i,Lte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jte={any:[/^b/i,/^(a|c)/i]},$te={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nte={any:[/1/i,/2/i,/3/i,/4/i]},Bte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Vte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ute={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Wte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gte={ordinalNumber:Ite({matchPattern:Rte,parsePattern:Fte,valueCallback:t=>parseInt(t,10)}),era:ro({matchPatterns:Lte,defaultMatchWidth:"wide",parsePatterns:jte,defaultParseWidth:"any"}),quarter:ro({matchPatterns:$te,defaultMatchWidth:"wide",parsePatterns:Nte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ro({matchPatterns:Bte,defaultMatchWidth:"wide",parsePatterns:Vte,defaultParseWidth:"any"}),day:ro({matchPatterns:zte,defaultMatchWidth:"wide",parsePatterns:Ute,defaultParseWidth:"any"}),dayPeriod:ro({matchPatterns:Hte,defaultMatchWidth:"any",parsePatterns:Wte,defaultParseWidth:"any"})},Xte={code:"en-US",formatDistance:mte,formatLong:bte,formatRelative:Ste,localize:Ate,match:Gte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yte(t){const e=Ln(t);return ute(e,pte(e))+1}function Kte(t){const e=Ln(t),n=+Wu(e)-+fte(e);return Math.round(n/oE)+1}function cE(t,e){var h,l,c,u;const n=Ln(t),r=n.getFullYear(),i=rh(),s=(e==null?void 0:e.firstWeekContainsDate)??((l=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:l.firstWeekContainsDate)??i.firstWeekContainsDate??((u=(c=i.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,d=Ji(t,0);d.setFullYear(r+1,0,s),d.setHours(0,0,0,0);const o=ol(d,e),a=Ji(t,0);a.setFullYear(r,0,s),a.setHours(0,0,0,0);const f=ol(a,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function qte(t,e){var o,a,f,h;const n=rh(),r=(e==null?void 0:e.firstWeekContainsDate)??((a=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:a.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(f=n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,i=cE(t,e),s=Ji(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),ol(s,e)}function Qte(t,e){const n=Ln(t),r=+ol(n,e)-+qte(n,e);return Math.round(r/oE)+1}function Re(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Dr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Re(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Re(n+1,2)},d(t,e){return Re(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Re(t.getHours()%12||12,e.length)},H(t,e){return Re(t.getHours(),e.length)},m(t,e){return Re(t.getMinutes(),e.length)},s(t,e){return Re(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Re(i,e.length)}},pa={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ww={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Dr.y(t,e)},Y:function(t,e,n,r){const i=cE(t,r),s=i>0?i:1-i;if(e==="YY"){const d=s%100;return Re(d,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Re(s,e.length)},R:function(t,e){const n=lE(t);return Re(n,e.length)},u:function(t,e){const n=t.getFullYear();return Re(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Re(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Re(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Dr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Re(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Qte(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Re(i,e.length)},I:function(t,e,n){const r=Kte(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Re(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Dr.d(t,e)},D:function(t,e,n){const r=Yte(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Re(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Re(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Re(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Re(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=pa.noon:r===0?i=pa.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=pa.evening:r>=12?i=pa.afternoon:r>=4?i=pa.morning:i=pa.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Dr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Dr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Re(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Re(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Dr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Dr.s(t,e)},S:function(t,e){return Dr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Xw(r);case"XXXX":case"XX":return ki(r);case"XXXXX":case"XXX":default:return ki(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Xw(r);case"xxxx":case"xx":return ki(r);case"xxxxx":case"xxx":default:return ki(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Gw(r,":");case"OOOO":default:return"GMT"+ki(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Gw(r,":");case"zzzz":default:return"GMT"+ki(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Re(r,e.length)},T:function(t,e,n){const r=t.getTime();return Re(r,e.length)}};function Gw(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Re(s,2)}function Xw(t,e){return t%60===0?(t>0?"-":"+")+Re(Math.abs(t)/60,2):ki(t,e)}function ki(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Re(Math.trunc(r/60),2),s=Re(r%60,2);return n+i+e+s}const Yw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},uE=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Jte=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Yw(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Yw(r,e)).replace("{{time}}",uE(i,e))},Zte={p:uE,P:Jte},ene=/^D+$/,tne=/^Y+$/,nne=["D","DD","YY","YYYY"];function rne(t){return ene.test(t)}function ine(t){return tne.test(t)}function ane(t,e,n){const r=sne(t,e,n);if(console.warn(r),nne.includes(t))throw new RangeError(r)}function sne(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const one=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cne=/^'([^]*?)'?$/,une=/''/g,fne=/[a-zA-Z]/;function fE(t,e,n){var h,l,c,u;const r=rh(),i=r.locale??Xte,s=r.firstWeekContainsDate??((l=(h=r.locale)==null?void 0:h.options)==null?void 0:l.firstWeekContainsDate)??1,d=r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,o=Ln(t);if(!dte(o))throw new RangeError("Invalid time value");let a=e.match(lne).map(p=>{const v=p[0];if(v==="p"||v==="P"){const g=Zte[v];return g(p,i.formatLong)}return p}).join("").match(one).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const v=p[0];if(v==="'")return{isToken:!1,value:hne(p)};if(Ww[v])return{isToken:!0,value:p};if(v.match(fne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(a=i.localize.preprocessor(o,a));const f={firstWeekContainsDate:s,weekStartsOn:d,locale:i};return a.map(p=>{if(!p.isToken)return p.value;const v=p.value;(ine(v)||rne(v))&&ane(v,e,String(t));const g=Ww[v[0]];return g(o,v,i.localize,f)}).join("")}function hne(t){const e=t.match(cne);return e?e[1].replace(une,"'"):t}function dne({image:t,onUndoAction:e}){const n=s=>{switch(s){case"filter":return R.jsx(NC,{className:"h-4 w-4"});case"rotate":case"customRotate":return R.jsx(Op,{className:"h-4 w-4"});case"annotation":return R.jsx(LC,{className:"h-4 w-4"});case"shape":return R.jsx(BC,{className:"h-4 w-4"});case"text":return R.jsx(VC,{className:"h-4 w-4"});case"tag":return R.jsx(km,{className:"h-4 w-4"});case"compress":return R.jsx(IC,{className:"h-4 w-4"});case"stream":return R.jsx(Tm,{className:"h-4 w-4"});default:return R.jsx(Rh,{className:"h-4 w-4"})}},r=s=>typeof s=="number"?Math.round(s*100)/100:typeof s=="object"?JSON.stringify(s):s,i=s=>{switch(s){case"filter":return"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300";case"rotate":case"customRotate":return"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300";case"annotation":return"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300";case"compress":return"bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-300";default:return"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300"}};return R.jsxs("div",{className:"mt-6",children:[R.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[R.jsx(Rh,{className:"h-5 w-5 mr-2"}),"Edit History"]}),R.jsx(vl,{mode:"popLayout",children:t.editHistory.length>0?R.jsx("div",{className:"space-y-2",children:t.editHistory.map((s,d)=>R.jsxs(Jn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:`flex items-center justify-between p-3 rounded-lg hover:bg-opacity-80 ${i(s.type)}`,children:[R.jsxs("div",{className:"flex items-center space-x-3",children:[R.jsx("div",{className:"p-2 rounded-full bg-white bg-opacity-20",children:n(s.type)}),R.jsxs("div",{children:[R.jsx("p",{className:"font-medium",children:s.description}),s.params&&R.jsx("p",{className:"text-sm opacity-75",children:Object.entries(s.params).map(([o,a])=>`${o}: ${r(a)}`).join(", ")})]})]}),R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx("span",{className:"text-sm whitespace-nowrap opacity-75",children:fE(s.timestamp,"HH:mm:ss")}),e&&R.jsx("button",{onClick:()=>e(s.id),className:"p-1 rounded-full hover:bg-white hover:bg-opacity-20",title:"Undo this action",children:R.jsx(Op,{className:"h-4 w-4"})})]})]},s.id))}):R.jsxs(Jn.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-6 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[R.jsx(Rh,{className:"h-8 w-8 mx-auto text-gray-400 mb-2"}),R.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No edits yet. Start editing to see your history!"})]})})]})}function pne({canvas:t}){const{selectedImage:e,images:n,updateImage:r}=er(),i=n.find(h=>h.id===e),[s,d]=$.useState({brightness:100,contrast:100,saturation:100,sepia:0,blur:0,sharpen:0,noise:0,vignette:0,vintage:0,dramatic:0,vibrant:0,preset:""});$.useEffect(()=>{i!=null&&i.filters&&d(i.filters)},[i]);const o=async(h,l)=>{if(!t)return;const c={...s,[h]:l};d(c);const u=t.backgroundImage;if(u){if(u.filters=[],c.brightness!==100&&u.filters.push(new fabric.Image.filters.Brightness({brightness:(c.brightness-100)/100})),c.contrast!==100&&u.filters.push(new fabric.Image.filters.Contrast({contrast:c.contrast/100})),c.saturation!==100&&u.filters.push(new fabric.Image.filters.Saturation({saturation:c.saturation/100})),c.sepia>0&&u.filters.push(new fabric.Image.filters.Sepia),c.blur>0&&u.filters.push(new fabric.Image.filters.Blur({blur:c.blur/10})),c.noise>0&&u.filters.push(new fabric.Image.filters.Noise({noise:c.noise})),c.vintage>0){const p=c.vintage/100;u.filters.push(new fabric.Image.filters.Sepia,new fabric.Image.filters.Contrast({contrast:1.1}),new fabric.Image.filters.Noise({noise:25*p}))}if(c.dramatic>0){const p=c.dramatic/100;u.filters.push(new fabric.Image.filters.Contrast({contrast:1+p}),new fabric.Image.filters.Brightness({brightness:-.1*p}))}if(c.vibrant>0){const p=c.vibrant/100;u.filters.push(new fabric.Image.filters.Saturation({saturation:1+p}),new fabric.Image.filters.Contrast({contrast:1.1}))}u.applyFilters(),t.renderAll(),e&&await r(e,{filters:c})}},a=[{name:"brightness",label:"Brightness",min:0,max:200,step:1},{name:"contrast",label:"Contrast",min:0,max:200,step:1},{name:"saturation",label:"Saturation",min:0,max:200,step:1},{name:"sepia",label:"Sepia",min:0,max:100,step:1},{name:"blur",label:"Blur",min:0,max:100,step:1},{name:"noise",label:"Noise",min:0,max:100,step:1},{name:"vintage",label:"Vintage",min:0,max:100,step:1},{name:"dramatic",label:"Dramatic",min:0,max:100,step:1},{name:"vibrant",label:"Vibrant",min:0,max:100,step:1}],f=()=>{d({brightness:100,contrast:100,saturation:100,sepia:0,blur:0,sharpen:0,noise:0,vignette:0,vintage:0,dramatic:0,vibrant:0,preset:""}),o("brightness",100)};return R.jsx("div",{className:"space-y-4",children:R.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[R.jsx("div",{className:"flex justify-between items-center mb-4",children:R.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[R.jsx(NC,{className:"h-5 w-5 mr-2"}),"Image Filters"]})}),R.jsx("div",{className:"space-y-4",children:a.map(({name:h,label:l,min:c,max:u,step:p})=>R.jsxs("div",{children:[R.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[R.jsx("label",{className:"text-gray-700 dark:text-gray-300",children:l}),R.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:s[h]})]}),R.jsx("input",{type:"range",min:c,max:u,step:p,value:s[h],onChange:v=>o(h,Number(v.target.value)),className:"w-full"})]},h))}),R.jsx("div",{className:"mt-4 flex justify-end",children:R.jsxs("button",{onClick:f,className:"flex items-center px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600",children:[R.jsx(O5,{className:"h-4 w-4 mr-1"}),"Reset Filters"]})})]})})}function ih(){return(ih=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function hE(t,e){if(t==null)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)e.indexOf(n=s[r])>=0||(i[n]=t[n]);return i}function _g(t){var e=$.useRef(t),n=$.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var ll=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},Ao=function(t){return"touches"in t},Tg=function(t){return t&&t.ownerDocument.defaultView||self},Kw=function(t,e,n){var r=t.getBoundingClientRect(),i=Ao(e)?function(s,d){for(var o=0;o<s.length;o++)if(s[o].identifier===d)return s[o];return s[0]}(e.touches,n):e;return{left:ll((i.pageX-(r.left+Tg(t).pageXOffset))/r.width),top:ll((i.pageY-(r.top+Tg(t).pageYOffset))/r.height)}},qw=function(t){!Ao(t)&&t.preventDefault()},dE=N.memo(function(t){var e=t.onMove,n=t.onKey,r=hE(t,["onMove","onKey"]),i=$.useRef(null),s=_g(e),d=_g(n),o=$.useRef(null),a=$.useRef(!1),f=$.useMemo(function(){var u=function(g){qw(g),(Ao(g)?g.touches.length>0:g.buttons>0)&&i.current?s(Kw(i.current,g,o.current)):v(!1)},p=function(){return v(!1)};function v(g){var m=a.current,y=Tg(i.current),x=g?y.addEventListener:y.removeEventListener;x(m?"touchmove":"mousemove",u),x(m?"touchend":"mouseup",p)}return[function(g){var m=g.nativeEvent,y=i.current;if(y&&(qw(m),!function(b,w){return w&&!Ao(b)}(m,a.current)&&y)){if(Ao(m)){a.current=!0;var x=m.changedTouches||[];x.length&&(o.current=x[0].identifier)}y.focus(),s(Kw(y,m,o.current)),v(!0)}},function(g){var m=g.which||g.keyCode;m<37||m>40||(g.preventDefault(),d({left:m===39?.05:m===37?-.05:0,top:m===40?.05:m===38?-.05:0}))},v]},[d,s]),h=f[0],l=f[1],c=f[2];return $.useEffect(function(){return c},[c]),N.createElement("div",ih({},r,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:i,onKeyDown:l,tabIndex:0,role:"slider"}))}),C0=function(t){return t.filter(Boolean).join(" ")},pE=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,s=C0(["react-colorful__pointer",t.className]);return N.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},N.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},wt=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},gne=function(t){return bne(kg(t))},kg=function(t){return t[0]==="#"&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?wt(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:t.length===8?wt(parseInt(t.substring(6,8),16)/255,2):1}},mne=function(t){return xne(yne(t))},vne=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:wt(t.h),s:wt(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:wt(i/2),a:wt(r,2)}},Og=function(t){var e=vne(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},yne=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),d=r*(1-n),o=r*(1-(e-s)*n),a=r*(1-(1-e+s)*n),f=s%6;return{r:wt(255*[r,o,d,d,a,r][f]),g:wt(255*[a,r,r,o,d,d][f]),b:wt(255*[d,d,a,r,r,o][f]),a:wt(i,2)}},hc=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},xne=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i<1?hc(wt(255*i)):"";return"#"+hc(e)+hc(n)+hc(r)+s},bne=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),d=s-Math.min(e,n,r),o=d?s===e?(n-r)/d:s===n?2+(r-e)/d:4+(e-n)/d:0;return{h:wt(60*(o<0?o+6:o)),s:wt(s?d/s*100:0),v:wt(s/255*100),a:i}},wne=N.memo(function(t){var e=t.hue,n=t.onChange,r=C0(["react-colorful__hue",t.className]);return N.createElement("div",{className:r},N.createElement(dE,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:ll(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":wt(e),"aria-valuemax":"360","aria-valuemin":"0"},N.createElement(pE,{className:"react-colorful__hue-pointer",left:e/360,color:Og({h:e,s:100,v:100,a:1})})))}),Sne=N.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:Og({h:e.h,s:100,v:100,a:1})};return N.createElement("div",{className:"react-colorful__saturation",style:r},N.createElement(dE,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:ll(e.s+100*i.left,0,100),v:ll(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+wt(e.s)+"%, Brightness "+wt(e.v)+"%"},N.createElement(pE,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:Og(e)})))}),gE=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0},Cne=function(t,e){return t.toLowerCase()===e.toLowerCase()||gE(kg(t),kg(e))};function _ne(t,e,n){var r=_g(n),i=$.useState(function(){return t.toHsva(e)}),s=i[0],d=i[1],o=$.useRef({color:e,hsva:s});$.useEffect(function(){if(!t.equal(e,o.current.color)){var f=t.toHsva(e);o.current={hsva:f,color:e},d(f)}},[e,t]),$.useEffect(function(){var f;gE(s,o.current.hsva)||t.equal(f=t.fromHsva(s),o.current.color)||(o.current={hsva:s,color:f},r(f))},[s,t,r]);var a=$.useCallback(function(f){d(function(h){return Object.assign({},h,f)})},[]);return[s,a]}var Tne=typeof window<"u"?$.useLayoutEffect:$.useEffect,kne=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Qw=new Map,One=function(t){Tne(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!Qw.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Qw.set(e,n);var r=kne();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},Ene=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,s=t.onChange,d=hE(t,["className","colorModel","color","onChange"]),o=$.useRef(null);One(o);var a=_ne(n,i,s),f=a[0],h=a[1],l=C0(["react-colorful",e]);return N.createElement("div",ih({},d,{ref:o,className:l}),N.createElement(Sne,{hsva:f,onChange:h}),N.createElement(wne,{hue:f.h,onChange:h,className:"react-colorful__last-control"}))},Pne={defaultColor:"000",toHsva:gne,fromHsva:function(t){return mne({h:t.h,s:t.s,v:t.v,a:1})},equal:Cne},Ane=function(t){return N.createElement(Ene,ih({},t,{colorModel:Pne}))};function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(null,arguments)}var mE=["shift","alt","meta","mod","ctrl"],Mne={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Gr(t){return(t&&Mne[t]||t||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function Dne(t){return mE.includes(t)}function _d(t,e){return e===void 0&&(e=","),t.split(e)}function Td(t,e,n){e===void 0&&(e="+");var r=t.toLocaleLowerCase().split(e).map(function(d){return Gr(d)}),i={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},s=r.filter(function(d){return!mE.includes(d)});return Eg({},i,{keys:s,description:n,hotkey:t})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(t){t.key!==void 0&&vE([Gr(t.key),Gr(t.code)])}),document.addEventListener("keyup",function(t){t.key!==void 0&&yE([Gr(t.key),Gr(t.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){Xr.clear()})})();var Xr=new Set;function _0(t){return Array.isArray(t)}function Ine(t,e){e===void 0&&(e=",");var n=_0(t)?t:t.split(e);return n.every(function(r){return Xr.has(r.trim().toLowerCase())})}function vE(t){var e=Array.isArray(t)?t:[t];Xr.has("meta")&&Xr.forEach(function(n){return!Dne(n)&&Xr.delete(n.toLowerCase())}),e.forEach(function(n){return Xr.add(n.toLowerCase())})}function yE(t){var e=Array.isArray(t)?t:[t];t==="meta"?Xr.clear():e.forEach(function(n){return Xr.delete(n.toLowerCase())})}function Rne(t,e,n){(typeof n=="function"&&n(t,e)||n===!0)&&t.preventDefault()}function Fne(t,e,n){return typeof n=="function"?n(t,e):n===!0||n===void 0}function Lne(t){return xE(t,["input","textarea","select"])}function xE(t,e){e===void 0&&(e=!1);var n=t.target,r=t.composed,i=null;return jne(n)&&r?i=t.composedPath()[0]&&t.composedPath()[0].tagName:i=n&&n.tagName,_0(e)?!!(i&&e&&e.some(function(s){var d;return s.toLowerCase()===((d=i)==null?void 0:d.toLowerCase())})):!!(i&&e&&e)}function jne(t){return!!t.tagName&&!t.tagName.startsWith("-")&&t.tagName.includes("-")}function $ne(t,e){return t.length===0&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):e?t.some(function(n){return e.includes(n)})||t.includes("*"):!0}var Nne=function(e,n,r){r===void 0&&(r=!1);var i=n.alt,s=n.meta,d=n.mod,o=n.shift,a=n.ctrl,f=n.keys,h=e.key,l=e.code,c=e.ctrlKey,u=e.metaKey,p=e.shiftKey,v=e.altKey,g=Gr(l),m=h.toLowerCase();if(!(f!=null&&f.includes(g))&&!(f!=null&&f.includes(m))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(g))return!1;if(!r){if(i===!v&&m!=="alt"||o===!p&&m!=="shift")return!1;if(d){if(!u&&!c)return!1}else if(s===!u&&m!=="meta"&&m!=="os"||a===!c&&m!=="ctrl"&&m!=="control")return!1}return f&&f.length===1&&(f.includes(m)||f.includes(g))?!0:f?Ine(f):!f},Bne=$.createContext(void 0),Vne=function(){return $.useContext(Bne)};function bE(t,e){return t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce(function(n,r){return n&&bE(t[r],e[r])},!0):t===e}var zne=$.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),Une=function(){return $.useContext(zne)};function Hne(t){var e=$.useRef(void 0);return bE(e.current,t)||(e.current=t),e.current}var Jw=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},Wne=typeof window<"u"?$.useLayoutEffect:$.useEffect;function kd(t,e,n,r){var i=$.useState(null),s=i[0],d=i[1],o=$.useRef(!1),a=n instanceof Array?r instanceof Array?void 0:r:n,f=_0(t)?t.join(a==null?void 0:a.splitKey):t,h=n instanceof Array?n:r instanceof Array?r:void 0,l=$.useCallback(e,h??[]),c=$.useRef(l);h?c.current=l:c.current=e;var u=Hne(a),p=Une(),v=p.enabledScopes,g=Vne();return Wne(function(){if(!((u==null?void 0:u.enabled)===!1||!$ne(v,u==null?void 0:u.scopes))){var m=function(S,_){var C;if(_===void 0&&(_=!1),!(Lne(S)&&!xE(S,u==null?void 0:u.enableOnFormTags))){if(s!==null){var k=s.getRootNode();if((k instanceof Document||k instanceof ShadowRoot)&&k.activeElement!==s&&!s.contains(k.activeElement)){Jw(S);return}}(C=S.target)!=null&&C.isContentEditable&&!(u!=null&&u.enableOnContentEditable)||_d(f,u==null?void 0:u.splitKey).forEach(function(A){var F,B=Td(A,u==null?void 0:u.combinationKey);if(Nne(S,B,u==null?void 0:u.ignoreModifiers)||(F=B.keys)!=null&&F.includes("*")){if(u!=null&&u.ignoreEventWhen!=null&&u.ignoreEventWhen(S)||_&&o.current)return;if(Rne(S,B,u==null?void 0:u.preventDefault),!Fne(S,B,u==null?void 0:u.enabled)){Jw(S);return}c.current(S,B),_||(o.current=!0)}})}},y=function(S){S.key!==void 0&&(vE(Gr(S.code)),((u==null?void 0:u.keydown)===void 0&&(u==null?void 0:u.keyup)!==!0||u!=null&&u.keydown)&&m(S))},x=function(S){S.key!==void 0&&(yE(Gr(S.code)),o.current=!1,u!=null&&u.keyup&&m(S,!0))},b=s||(a==null?void 0:a.document)||document;return b.addEventListener("keyup",x),b.addEventListener("keydown",y),g&&_d(f,u==null?void 0:u.splitKey).forEach(function(w){return g.addHotkey(Td(w,u==null?void 0:u.combinationKey,u==null?void 0:u.description))}),function(){b.removeEventListener("keyup",x),b.removeEventListener("keydown",y),g&&_d(f,u==null?void 0:u.splitKey).forEach(function(w){return g.removeHotkey(Td(w,u==null?void 0:u.combinationKey,u==null?void 0:u.description))})}}},[s,f,u,v]),d}function Gne({canvas:t}){const{selectedImage:e,addEditAction:n}=er(),[r,i]=$.useState("#000000"),[s,d]=$.useState(!1),[o,a]=$.useState(5),[f,h]=$.useState("draw"),[l,c]=$.useState([]),[u,p]=$.useState([]),[v,g]=$.useState(0),[m,y]=$.useState(!1),[x,b]=$.useState(null);$.useEffect(()=>{if(!t)return;const E=JSON.stringify(t.toJSON());c([E]),t.isDrawingMode=f==="draw",f==="draw"?(t.freeDrawingBrush=new it.fabric.PencilBrush(t),t.freeDrawingBrush.color=r,t.freeDrawingBrush.width=o):f==="arrow"&&(t.on("mouse:down",w),t.on("mouse:move",S),t.on("mouse:up",_));const V=()=>{const T=JSON.stringify(t.toJSON());c(P=>[...P,T]),p([]),e&&n(e,{id:Date.now().toString(),type:"annotation",timestamp:Date.now(),description:`Modified ${f} annotation`,params:{tool:f,color:r,brushSize:o}})};return t.on("object:added",V),t.on("object:modified",V),()=>{t.off("object:added",V),t.off("object:modified",V),f==="arrow"&&(t.off("mouse:down",w),t.off("mouse:move",S),t.off("mouse:up",_))}},[f,r,o,t,e,n]);const w=E=>{!t||!E.pointer||(y(!0),b({x:E.pointer.x,y:E.pointer.y}))},S=E=>{var G;if(!t||!m||!x||!E.pointer)return;const V=t.getObjects(),T=V[V.length-1];(G=T==null?void 0:T.data)!=null&&G.isTemporaryArrow&&t.remove(T);const P=[x.x,x.y,E.pointer.x,E.pointer.y],j=new it.fabric.Line(P,{stroke:r,strokeWidth:o,selectable:!0,data:{isTemporaryArrow:!0}}),D=Math.atan2(P[3]-P[1],P[2]-P[0]),W=o*3,M=Math.PI/6;P[2]-W*Math.cos(D-M),P[3]-W*Math.sin(D-M),P[2]-W*Math.cos(D+M),P[3]-W*Math.sin(D+M);const O=new it.fabric.Triangle({left:P[2],top:P[3],angle:D*180/Math.PI+90,width:o*3,height:o*3,fill:r,selectable:!0,data:{isTemporaryArrow:!0}}),U=new it.fabric.Group([j,O],{selectable:!0,data:{isTemporaryArrow:!0}});t.add(U),t.renderAll()},_=()=>{var T;if(!t||!m)return;y(!1),b(null);const E=t.getObjects(),V=E[E.length-1];(T=V==null?void 0:V.data)!=null&&T.isTemporaryArrow&&(V.data.isTemporaryArrow=!1)},C=()=>{if(!t||l.length<=1)return;const E=l[l.length-1],V=l[l.length-2];t.loadFromJSON(V,()=>{t.renderAll(),c(T=>T.slice(0,-1)),p(T=>[...T,E]),e&&n(e,{id:Date.now().toString(),type:"undo",timestamp:Date.now(),description:"Undo action"})})},k=()=>{if(!t||u.length===0)return;const E=u[u.length-1];t.loadFromJSON(E,()=>{t.renderAll(),p(V=>V.slice(0,-1)),c(V=>[...V,E]),e&&n(e,{id:Date.now().toString(),type:"redo",timestamp:Date.now(),description:"Redo action"})})},A=E=>{if(!t)return;const T=(v+90)%360;g(T);const P=t.backgroundImage;P&&(P.rotate(T),t.renderAll(),e&&n(e,{id:Date.now().toString(),type:"rotate",timestamp:Date.now(),description:"Rotated image clockwise",params:{angle:T}}))},F=E=>{if(!t)return;const V=t.backgroundImage;V&&(E==="horizontal"?V.flipX=!V.flipX:V.flipY=!V.flipY,t.renderAll(),e&&n(e,{id:Date.now().toString(),type:"flip",timestamp:Date.now(),description:`Flipped image ${E}`,params:{direction:E}}))},B=()=>{if(!t)return;const E=t.backgroundImage;t.clear(),E&&t.setBackgroundImage(E,t.renderAll.bind(t));const V=JSON.stringify(t.toJSON());c([V]),p([]),e&&n(e,{id:Date.now().toString(),type:"clear",timestamp:Date.now(),description:"Cleared canvas"})},H=E=>{if(!t)return;let V;E==="rect"?V=new it.fabric.Rect({left:t.width/2-50,top:t.height/2-50,width:100,height:100,fill:"transparent",stroke:r,strokeWidth:2}):V=new it.fabric.Circle({left:t.width/2-50,top:t.height/2-50,radius:50,fill:"transparent",stroke:r,strokeWidth:2}),t.add(V),t.setActiveObject(V),t.renderAll()},L=()=>{if(!t)return;const E=new it.fabric.IText("Double click to edit",{left:t.width/2-50,top:t.height/2-10,fontFamily:"Arial",fill:r,fontSize:20});t.add(E),t.setActiveObject(E),t.renderAll()};kd("ctrl+z",C,[l]),kd("ctrl+y",k,[u]),kd("delete",()=>{if(t){const E=t.getActiveObject();E&&(t.remove(E),t.renderAll())}},[t]);const z=[{id:"draw",icon:LC,label:"Draw"},{id:"rect",icon:BC,label:"Rectangle"},{id:"circle",icon:h5,label:"Circle"},{id:"text",icon:VC,label:"Text"},{id:"arrow",icon:l5,label:"Arrow"}],I=[{icon:Op,label:"Rotate",action:()=>A()},{icon:p5,label:"Flip H",action:()=>F("horizontal")},{icon:g5,label:"Flip V",action:()=>F("vertical")}];return R.jsx("div",{className:"space-y-4",children:R.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[R.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:z.map(({id:E,icon:V,label:T})=>R.jsxs("button",{onClick:()=>{h(E),E==="rect"&&H("rect"),E==="circle"&&H("circle"),E==="text"&&L()},className:`p-2 rounded flex flex-col items-center ${f===E?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[R.jsx(V,{className:"h-5 w-5"}),R.jsx("span",{className:"text-xs mt-1",children:T})]},E))}),R.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:I.map(({icon:E,label:V,action:T})=>R.jsxs("button",{onClick:T,className:"p-2 rounded flex flex-col items-center bg-gray-100 text-gray-600 hover:bg-gray-200",children:[R.jsx(E,{className:"h-5 w-5"}),R.jsx("span",{className:"text-xs mt-1",children:V})]},V))}),f==="draw"&&R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Size"}),R.jsx("input",{type:"range",min:"1",max:"50",value:o,onChange:E=>a(Number(E.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),R.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[R.jsx("span",{children:"1"}),R.jsx("span",{children:o}),R.jsx("span",{children:"50"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),R.jsxs("div",{className:"relative",children:[R.jsx("button",{onClick:()=>d(!s),className:"w-full h-10 rounded border",style:{backgroundColor:r}}),s&&R.jsxs("div",{className:"absolute z-10 mt-2",children:[R.jsx("div",{className:"fixed inset-0",onClick:()=>d(!1)}),R.jsx(Ane,{color:r,onChange:i})]})]})]})]}),R.jsxs("div",{className:"mt-4 flex space-x-2",children:[R.jsx("button",{onClick:C,disabled:l.length<=1,className:"flex-1 py-2 px-4 bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:R.jsx(M5,{className:"h-4 w-4 mx-auto"})}),R.jsx("button",{onClick:k,disabled:u.length===0,className:"flex-1 py-2 px-4 bg-gray-100 rounded hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:R.jsx(C5,{className:"h-4 w-4 mx-auto"})}),R.jsx("button",{onClick:B,className:"flex-1 py-2 px-4 bg-red-100 text-red-600 rounded hover:bg-red-200",children:R.jsx(A5,{className:"h-4 w-4 mx-auto"})})]})]})})}function Xne({image:t}){const[e,n]=$.useState(null),[r,i]=$.useState(null),[s,d]=$.useState(.8),[o,a]=$.useState("jpeg"),[f,h]=$.useState(!1),[l,c]=$.useState(null),[u,p]=$.useState(null),v=t.file.size;$.useEffect(()=>{(async()=>{const w=await Ip(t.file);c(w)})()},[t]);const g=async()=>{h(!0);try{const b={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,initialQuality:s,fileType:`image/${o}`},w=await kt(t.file,b);n(w.size),i(URL.createObjectURL(w));const S=await Ip(w);p(S)}catch(b){console.error("Error compressing image:",b)}h(!1)},m=()=>{if(r){const b=`${t.file.name.split(".")[0]}_compressed.${o}`;YC.saveAs(r,b)}},y=b=>{if(b===0)return"0 Bytes";const w=1024,S=["Bytes","KB","MB","GB"],_=Math.floor(Math.log(b)/Math.log(w));return parseFloat((b/Math.pow(w,_)).toFixed(2))+" "+S[_]},x=e?((v-e)/v*100).toFixed(1):null;return R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[R.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Image Compression"}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{children:[R.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Quality (",Math.round(s*100),"%)"]}),R.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:s,onChange:b=>d(Number(b.target.value)),className:"w-full"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium mb-1",children:"Format"}),R.jsxs("select",{value:o,onChange:b=>a(b.target.value),className:"w-full p-2 border rounded",children:[R.jsx("option",{value:"jpeg",children:"JPEG"}),R.jsx("option",{value:"png",children:"PNG"}),R.jsx("option",{value:"webp",children:"WebP"})]})]}),R.jsxs("div",{className:"flex justify-between text-sm",children:[R.jsxs("div",{children:["Original Size: ",y(v)]}),e&&R.jsxs("div",{children:["Compressed: ",y(e)]})]}),x&&R.jsxs("div",{className:"bg-green-50 text-green-700 px-3 py-2 rounded",children:["Reduced by ",x,"%"]}),R.jsxs("div",{className:"flex space-x-2",children:[R.jsxs("button",{onClick:g,disabled:f,className:"flex-1 px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 disabled:opacity-50",children:[f?R.jsx(kp,{className:"h-4 w-4 animate-spin mr-2"}):R.jsx(kp,{className:"h-4 w-4 mr-2"}),"Compress"]}),r&&R.jsxs("button",{onClick:m,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:[R.jsx(d5,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})]}),r&&R.jsxs("div",{className:"mt-4",children:[R.jsx("h4",{className:"text-sm font-medium mb-2",children:"Preview"}),R.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-xs mb-1",children:"Original"}),R.jsx("img",{src:t.preview,alt:"Original",className:"w-full rounded"})]}),R.jsxs("div",{children:[R.jsx("p",{className:"text-xs mb-1",children:"Compressed"}),R.jsx("img",{src:r,alt:"Compressed",className:"w-full rounded"})]})]}),u&&R.jsx("pre",{className:"text-xs mt-4",children:VM(u)})]})]})}var Yne=function(t,e){var n=$.useRef(function(){});$.useEffect(function(){n.current=t}),$.useEffect(function(){if(e!==null){var r=setInterval(function(){return n.current()},e||0);return function(){return clearInterval(r)}}},[e])};function Kne({image:t}){const[e,n]=$.useState(!1),[r,i]=$.useState(1e3),[s,d]=$.useState(0),[o,a]=$.useState([]),[f,h]=$.useState(null),[l,c]=$.useState(0),[u,p]=$.useState(!1);Yne(()=>{s<100?d(m=>Math.min(m+10,100)):u?d(0):n(!1)},e?r:null),$.useEffect(()=>{(async()=>{var w;const x=(w=(await fetch(t.preview)).body)==null?void 0:w.getReader(),b=[];if(x)for(;;){const{done:S,value:_}=await x.read();if(S)break;b.push(_),a([...b])}})()},[t]),$.useEffect(()=>{if(o.length>0){const m=new Blob(o.slice(0,l+1),{type:"image/jpeg"});h(URL.createObjectURL(m))}},[o,l]);const v=()=>{s>=100&&!u&&d(0),n(!e)},g=m=>{c(m==="forward"?y=>Math.min(y+1,o.length-1):y=>Math.max(y-1,0))};return R.jsx("div",{className:"space-y-4",children:R.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[R.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[R.jsx(kp,{className:"h-5 w-5 mr-2"}),"Progressive Streaming"]}),R.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R.jsxs("div",{className:"flex space-x-2",children:[R.jsx("button",{onClick:()=>g("back"),disabled:l===0,className:"p-2 rounded bg-gray-100 dark:bg-gray-700 disabled:opacity-50",children:R.jsx(T5,{className:"h-4 w-4"})}),R.jsx("button",{onClick:v,className:"flex items-center px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600",children:e?R.jsxs(R.Fragment,{children:[R.jsx(S5,{className:"h-4 w-4 mr-2"}),"Pause"]}):R.jsxs(R.Fragment,{children:[R.jsx(Tm,{className:"h-4 w-4 mr-2"}),"Play"]})}),R.jsx("button",{onClick:()=>g("forward"),disabled:l===o.length-1,className:"p-2 rounded bg-gray-100 dark:bg-gray-700 disabled:opacity-50",children:R.jsx(k5,{className:"h-4 w-4"})})]}),R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx(_5,{className:"h-4 w-4 text-gray-500"}),R.jsx("input",{type:"number",value:r,onChange:m=>i(Number(m.target.value)),className:"w-20 px-2 py-1 border rounded",min:"100",max:"5000",step:"100"}),R.jsx("span",{className:"text-sm text-gray-500",children:"ms"})]}),R.jsxs("label",{className:"flex items-center space-x-2",children:[R.jsx("input",{type:"checkbox",checked:u,onChange:m=>p(m.target.checked),className:"rounded border-gray-300"}),R.jsx("span",{className:"text-sm",children:"Auto Restart"})]})]})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsxs("div",{className:"flex justify-between text-sm",children:[R.jsx("span",{children:"Loading Quality"}),R.jsxs("span",{children:[s,"%"]})]}),R.jsx("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded overflow-hidden",children:R.jsx(Jn.div,{className:"h-full bg-purple-500",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.3}})})]}),R.jsx(vl,{mode:"wait",children:R.jsx(Jn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"mt-4 aspect-video bg-gray-100 dark:bg-gray-900 rounded-lg overflow-hidden",children:R.jsx("img",{src:f||t.preview,alt:"Preview",className:"w-full h-full object-contain",style:{filter:`blur(${(100-s)/10}px)`,transition:"filter 0.3s ease-out"}})},s)})]})})}function qne({image:t}){const{tags:e,addTag:n,updateImage:r}=er(),[i,s]=$.useState(""),[d,o]=$.useState("Other"),[a,f]=$.useState(new Set(["Nature"])),[h,l]=$.useState(""),c=t.tags,u=["Nature","People","Objects","Other"],p=()=>{if(!i.trim())return;const x={value:i.toLowerCase(),label:i,category:d};n(x),r(t.id,{tags:[...c,x.value]}),s("")},v=x=>{r(t.id,{tags:c.filter(b=>b!==x)})},g=x=>{const b=new Set(a);b.has(x)?b.delete(x):b.add(x),f(b)},m=e.reduce((x,b)=>(x[b.category]||(x[b.category]=[]),x[b.category].push(b),x),{});e.filter(x=>x.label.toLowerCase().includes(h.toLowerCase())||x.category.toLowerCase().includes(h.toLowerCase()));const y=e.map(x=>({...x,count:c.filter(b=>b===x.value).length})).sort((x,b)=>b.count-x.count);return R.jsx("div",{className:"space-y-4",children:R.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[R.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[R.jsx(P5,{className:"h-5 w-5 mr-2"}),"Image Tags"]}),R.jsxs("div",{className:"space-y-4",children:[R.jsxs("div",{className:"flex space-x-2",children:[R.jsx("input",{type:"text",value:i,onChange:x=>s(x.target.value),onKeyPress:x=>x.key==="Enter"&&p(),placeholder:"Add new tag...",className:"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),R.jsx("select",{value:d,onChange:x=>o(x.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",children:u.map(x=>R.jsx("option",{value:x,children:x},x))}),R.jsx("button",{onClick:p,className:"p-2 rounded-lg bg-purple-500 text-white hover:bg-purple-600",children:R.jsx(jC,{className:"h-5 w-5"})})]}),R.jsx("div",{className:"space-y-2",children:R.jsx("input",{type:"text",value:h,onChange:x=>l(x.target.value),placeholder:"Search tags...",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500"})}),R.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(x=>{const b=e.find(w=>w.value===x);return R.jsxs(Jn.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"flex items-center bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 px-2 py-1 rounded-lg",children:[R.jsx(RC,{className:"h-3 w-3 mr-1"}),R.jsx("span",{className:"text-sm",children:(b==null?void 0:b.label)||x}),R.jsx("button",{onClick:()=>v(x),className:"ml-1 p-1 rounded-full hover:bg-purple-200 dark:hover:bg-purple-800",children:R.jsx(Om,{className:"h-3 w-3"})})]},x)})}),R.jsxs("div",{className:"mt-6 space-y-2",children:[R.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Categories"}),u.map(x=>{var b,w;return R.jsxs("div",{className:"space-y-1",children:[R.jsxs("button",{onClick:()=>g(x),className:"flex items-center w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:[a.has(x)?R.jsx(u5,{className:"h-4 w-4 mr-2"}):R.jsx(DC,{className:"h-4 w-4 mr-2"}),R.jsx("span",{children:x}),R.jsx("span",{className:"ml-auto text-sm text-gray-500",children:((b=m[x])==null?void 0:b.length)||0})]}),R.jsx(vl,{children:a.has(x)&&R.jsx(Jn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-6 space-y-1",children:(w=m[x])==null?void 0:w.map(S=>R.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:[R.jsx("span",{className:"text-sm",children:S.label}),R.jsxs("span",{className:"text-xs text-gray-500",children:[c.filter(_=>_===S.value).length," uses"]})]},S.value))})})]},x)})]}),R.jsxs("div",{className:"mt-6",children:[R.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Popular Tags"}),R.jsx("div",{className:"space-y-2",children:y.slice(0,5).map(({label:x,count:b,category:w})=>R.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[R.jsxs("div",{className:"flex items-center",children:[R.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${w==="Nature"?"bg-green-500":w==="People"?"bg-blue-500":w==="Objects"?"bg-yellow-500":"bg-gray-500"}`}),R.jsx("span",{className:"text-sm",children:x})]}),R.jsxs("span",{className:"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded-full",children:[b," ",b===1?"use":"uses"]})]},x))})]})]})]})})}function T0({image:t,mode:e="edit",onSave:n,onClose:r,isBatchMode:i}){const{updateImage:s}=er(),[d,o]=$.useState(null),a=$.useRef(null),f=$.useRef(null),[h,l]=$.useState(e==="compress"?"compression":e==="stream"?"stream":"annotations"),[c,u]=$.useState(!1),[p,v]=$.useState(!0);$.useEffect(()=>{if(a.current&&f.current){const y=new it.fabric.Canvas(a.current,{preserveObjectStacking:!0,width:f.current.clientWidth-(p?320:0),height:f.current.clientHeight});it.fabric.Image.fromURL(t.preview,b=>{const w=f.current.clientWidth-(p?320:0),S=f.current.clientHeight,_=Math.min(w/b.width,S/b.height);b.scale(_),y.setDimensions({width:w,height:S}),y.setBackgroundImage(b,y.renderAll.bind(y),{originX:"center",originY:"center",left:w/2,top:S/2})}),o(y);const x=()=>{if(f.current){const b=f.current.clientWidth-(p?320:0),w=f.current.clientHeight;y.setDimensions({width:b,height:w}),y.renderAll()}};return window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x),y.dispose()}}},[t,p]);const g=async()=>{if(d)try{const x={preview:d.toDataURL({format:"png",quality:1}),editHistory:[...t.editHistory,{id:Date.now().toString(),type:"save",timestamp:Date.now(),description:"Saved canvas state"}]};n?n(x):await s(t.id,x),Ie.success("Changes saved successfully")}catch{Ie.error("Failed to save changes")}},m=[{id:"annotations",label:"Annotations"},{id:"filters",label:"Filters"},{id:"compression",label:"Compression"},{id:"stream",label:"Stream"},{id:"tags",label:"Tags"}];return R.jsxs("div",{ref:f,className:`${i?"":"fixed inset-0"} bg-white dark:bg-gray-800 z-50 flex flex-col`,children:[R.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700",children:[R.jsxs("div",{className:"flex items-center justify-between p-4",children:[R.jsxs("div",{className:"flex items-center space-x-4",children:[r&&R.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:R.jsx(Om,{className:"h-5 w-5"})}),R.jsxs("h2",{className:"text-lg font-semibold",children:["Editing ",t.file.name]})]}),R.jsxs("div",{className:"flex items-center space-x-2",children:[R.jsx("button",{onClick:()=>v(!p),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:R.jsx(w5,{className:"h-5 w-5"})}),R.jsx("button",{onClick:()=>u(!c),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:R.jsx(y5,{className:"h-5 w-5"})}),R.jsx("button",{onClick:g,className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600",children:"Save Changes"})]})]}),R.jsx("div",{className:"flex px-4",children:m.map(({id:y,label:x})=>R.jsx("button",{onClick:()=>l(y),className:`px-4 py-2 border-b-2 font-medium ${h===y?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:x},y))})]}),R.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[R.jsx("div",{className:"flex-1 overflow-auto",children:R.jsx("canvas",{ref:a,className:"w-full h-full"})}),p&&R.jsxs("div",{className:"w-80 border-l border-gray-200 dark:border-gray-700 overflow-y-auto p-4",children:[h==="filters"&&R.jsx(pne,{canvas:d}),h==="annotations"&&R.jsx(Gne,{canvas:d}),h==="compression"&&R.jsx(Xne,{image:t}),h==="stream"&&R.jsx(Kne,{image:t}),h==="tags"&&R.jsx(qne,{image:t}),R.jsx(dne,{image:t})]})]})]})}function Qne({selectedImages:t,mode:e,onClose:n}){const{images:r,updateImage:i}=er(),[s,d]=$.useState(0),a=r.filter(c=>t.includes(c.id))[s],f=()=>{d(c=>Math.min(c+1,t.length-1))},h=()=>{d(c=>Math.max(c-1,0))},l=async c=>{a&&(await i(a.id,c),s<t.length-1&&f())};return R.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center",children:R.jsxs("div",{className:"relative w-full h-full max-w-7xl mx-auto p-4",children:[R.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-50 p-2 bg-white rounded-full shadow-lg hover:bg-gray-100",children:R.jsx(Om,{className:"h-6 w-6"})}),R.jsxs("div",{className:"flex items-center justify-between h-full",children:[R.jsx("button",{onClick:h,disabled:s===0,className:"p-2 bg-white rounded-full shadow-lg disabled:opacity-50 hover:bg-gray-100",children:R.jsx(f5,{className:"h-6 w-6"})}),R.jsx("div",{className:"flex-1 mx-4 h-full",children:R.jsx(vl,{mode:"wait",children:R.jsx(Jn.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"h-full",children:a&&R.jsx(T0,{image:a,onSave:l,mode:e,isBatchMode:!0})},a==null?void 0:a.id)})}),R.jsx("button",{onClick:f,disabled:s===t.length-1,className:"p-2 bg-white rounded-full shadow-lg disabled:opacity-50 hover:bg-gray-100",children:R.jsx(DC,{className:"h-6 w-6"})})]}),R.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-lg px-4 py-2",children:R.jsxs("span",{className:"font-medium",children:["Image ",s+1," of ",t.length]})})]})})}function Jne(){const[t,e]=$.useState("grid"),{getFilteredAndSortedImages:n,setSelectedImage:r}=er(),[i,s]=$.useState([]),[d,o]=$.useState(!1),[a,f]=$.useState(!1),[h,l]=$.useState(null),[c,u]=$.useState(null),p=n(),v=(b,w)=>{u(b),l(w),f(!0)},g=b=>{s(w=>w.includes(b)?w.filter(S=>S!==b):[...w,b])},m=b=>{l(b),o(!0)},y=[{icon:c5,label:"Select All",action:()=>s(p.map(b=>b.id))},{icon:m5,label:"Grid View",action:()=>e("grid"),active:t==="grid"},{icon:v5,label:"List View",action:()=>e("list"),active:t==="list"}],x=[{icon:FC,label:"Edit",action:b=>v(b,"edit")},{icon:km,label:"Tag",action:b=>v(b,"edit")},{icon:Tm,label:"Stream",action:b=>v(b,"stream")},{icon:IC,label:"Compress",action:b=>v(b,"compress")}];return R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx("div",{className:"flex space-x-4",children:y.map(({icon:b,label:w,action:S,active:_})=>R.jsxs("button",{onClick:S,className:`flex items-center p-2 rounded hover:bg-purple-100 dark:hover:bg-purple-900 ${_?"bg-purple-100 dark:bg-purple-900":""}`,title:w,children:[R.jsx(b,{className:"h-5 w-5"}),R.jsx("span",{className:"ml-2 text-sm",children:w})]},w))}),R.jsx(ote,{})]}),R.jsx(ste,{}),R.jsx(Jn.div,{variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",animate:"show",className:`grid gap-4 ${t==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:p.map(b=>R.jsxs(Jn.div,{variants:{hidden:{opacity:0,y:20},show:{opacity:1,y:0}},className:`relative group ${t==="grid"?"aspect-square":"h-40"}`,children:[R.jsx("div",{className:"absolute top-2 left-2 z-10",children:R.jsx("input",{type:"checkbox",checked:i.includes(b.id),onChange:()=>g(b.id),className:"h-5 w-5 rounded border-gray-300 text-purple-600 focus:ring-purple-500"})}),R.jsxs("div",{className:"relative h-full",children:[R.jsx("img",{src:b.preview,alt:"",className:`w-full h-full rounded-lg object-cover ${i.includes(b.id)?"ring-2 ring-purple-500":""}`}),R.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-b-lg",children:R.jsx("div",{className:"flex justify-around",children:x.map(({icon:w,label:S,action:_})=>R.jsxs("button",{onClick:C=>{C.stopPropagation(),_(b.id)},className:"flex flex-col items-center p-1 text-white hover:text-purple-300 transition-colors",children:[R.jsx(w,{className:"h-4 w-4 mb-1"}),R.jsx("span",{className:"text-xs",children:S})]},S))})})]}),R.jsx("div",{className:"mt-2",children:R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsxs("div",{className:"flex flex-wrap gap-1",children:[b.tags.slice(0,3).map(w=>R.jsx("span",{className:"text-xs bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 px-2 py-1 rounded",children:w},w)),b.tags.length>3&&R.jsxs("span",{className:"text-xs bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-2 py-1 rounded",children:["+",b.tags.length-3]})]}),b.editHistory.length>0&&R.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Edited ",fE(b.editHistory[b.editHistory.length-1].timestamp,"MMM d, HH:mm")]})]})})]},b.id))}),p.length===0&&R.jsxs("div",{className:"text-center py-12",children:[R.jsx($C,{className:"mx-auto h-12 w-12 text-gray-400"}),R.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"No images found. Upload some images to get started!"})]}),i.length>0&&R.jsxs("div",{className:"fixed bottom-4 right-4 flex space-x-2",children:[R.jsxs("button",{onClick:()=>m("edit"),className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600",children:["Edit All (",i.length,")"]}),R.jsxs("button",{onClick:()=>m("compress"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:["Compress All (",i.length,")"]}),R.jsxs("button",{onClick:()=>m("stream"),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:["Stream All (",i.length,")"]}),R.jsx("button",{onClick:()=>s([]),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Clear Selection"})]}),d&&h&&R.jsx(Qne,{selectedImages:i,mode:h,onClose:()=>{o(!1),l(null)}}),a&&c&&h&&R.jsx(T0,{image:p.find(b=>b.id===c),mode:h,onClose:()=>{f(!1),u(null),l(null)}})]})}function Zne(){const[t,e]=$.useState(()=>localStorage.getItem("theme")||"light");return $.useEffect(()=>{localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark",t==="dark")},[t]),{theme:t,toggleTheme:()=>{e(r=>r==="light"?"dark":"light")}}}function ere(){const t=er(r=>r.selectedImage),{theme:e,toggleTheme:n}=Zne();return R.jsxs("div",{className:`min-h-screen transition-colors duration-200 ${e==="dark"?"bg-gray-900 text-white":"bg-pink-50 text-gray-900"}`,children:[R.jsx("nav",{className:`${e==="dark"?"bg-gray-800":"bg-white"} shadow-md p-4`,children:R.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[R.jsx("h1",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:"ImagerML"}),R.jsxs("div",{className:"flex items-center space-x-4",children:[R.jsx("button",{onClick:n,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:e==="dark"?R.jsx(E5,{className:"h-5 w-5"}):R.jsx(x5,{className:"h-5 w-5"})}),R.jsx("button",{className:"px-4 py-2 rounded-md bg-purple-500 text-white hover:bg-purple-600 transition-colors",children:"Gallery View"}),R.jsx("button",{className:"px-4 py-2 rounded-md bg-purple-500 text-white hover:bg-purple-600 transition-colors",children:"ImagerML Editor"})]})]})}),R.jsxs("main",{className:"container mx-auto p-4",children:[R.jsxs("div",{className:`${e==="dark"?"bg-gray-800":"bg-white"} rounded-lg shadow-lg p-6 mb-8`,children:[R.jsx("h2",{className:"text-lg text-center mb-4",children:"ImagerML is an all-in-one platform for image uploading, editing, tagging, compressing, streaming filtering, and management with real-time collaboration and easy saving."}),R.jsx(P4,{})]}),t?R.jsx(T0,{}):R.jsx(Jne,{})]}),R.jsx(o3,{position:"bottom-right",theme:e})]})}hC(document.getElementById("root")).render(R.jsx($.StrictMode,{children:R.jsx(ere,{})}))});export default tre();
